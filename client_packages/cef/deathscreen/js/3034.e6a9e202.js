(self["webpackChunkcef"]=self["webpackChunkcef"]||[]).push([[3034],{67713:function(e,t,a){"use strict";a.d(t,{$R:function(){return Ve},Q2:function(){return ze},QC:function(){return ce},eD:function(){return pe},iA:function(){return ge},oJ:function(){return U}});var o=a(78221);const i=(e,t)=>{for(const a of Object.keys(t))e.on(a,t[a])},l=e=>{for(const t of Object.keys(e)){const a=e[t];a&&r(a.cancel)&&a.cancel()}},n=e=>e&&"function"==typeof e.charAt?e.charAt(0).toUpperCase()+e.slice(1):e,r=e=>"function"==typeof e,s=(e,t,a)=>{for(const i in a){const l="set"+n(i);e[l]?(0,o.watch)((()=>a[i]),((t,a)=>{e[l](t,a)})):t[l]&&(0,o.watch)((()=>a[i]),(e=>{t[l](e)}))}},c=(e,t,a={})=>{const o={...a};for(const i in e){const a=t[i],l=e[i];a&&(a&&!0===a.custom||void 0!==l&&(o[i]=l))}return o},d=e=>{const t={};for(const a in e)if(a.startsWith("on")&&!a.startsWith("onUpdate")&&"onReady"!==a){const o=a.slice(2).toLocaleLowerCase();t[o]=e[a]}return t},m=async e=>{const t=await Promise.all([Promise.resolve().then(a.t.bind(a,6431,17)),Promise.resolve().then(a.t.bind(a,37093,17)),Promise.resolve().then(a.t.bind(a,68858,17))]);delete e.Default.prototype._getIconUrl,e.Default.mergeOptions({iconRetinaUrl:t[0].default,iconUrl:t[1].default,shadowUrl:t[2].default})},p=e=>{const t=(0,o.ref)(((...t)=>console.warn(`Method ${e} has been invoked without being replaced`))),a=(...e)=>t.value(...e);return a.wrapped=t,(0,o.provide)(e,a),a},u=(e,t)=>e.wrapped.value=t,h="object"==typeof self&&self.self===self&&self||"object"==typeof a.g&&a.g.global===a.g&&a.g||globalThis,g=e=>{const t=(0,o.inject)(e);if(!t)throw new Error(`Attempt to inject ${e} before it was provided.`);return t},f=Symbol(),y=Symbol(),k=Symbol(),v=Symbol(),b=Symbol(),N=Symbol(),V=Symbol(),w=Symbol(),E=Symbol(),S=Symbol(),C=Symbol(),_=Symbol(),$={options:{type:Object,default:()=>({}),custom:!0}},D=e=>({options:e.options,methods:{}}),B={...$,pane:{type:String},attribution:{type:String},name:{type:String,custom:!0},layerType:{type:String,custom:!0},visible:{type:Boolean,custom:!0,default:!0}},x=(e,t,a)=>{const i=g(y),l=g(k),{options:n,methods:s}=D(e),d=c(e,B,n),m=()=>i({leafletObject:t.value}),p=()=>l({leafletObject:t.value}),u={...s,setAttribution(a){p(),t.value.options.attribution=a,e.visible&&m()},setName(){p(),e.visible&&m()},setLayerType(){p(),e.visible&&m()},setVisible(e){t.value&&(e?m():p())},bindPopup(e){t.value&&r(t.value.bindPopup)?t.value.bindPopup(e):console.warn("Attempt to bind popup before bindPopup method available on layer.")},bindTooltip(e){t.value&&r(t.value.bindTooltip)?t.value.bindTooltip(e):console.warn("Attempt to bind tooltip before bindTooltip method available on layer.")},unbindTooltip(){t.value&&(r(t.value.closeTooltip)&&t.value.closeTooltip(),r(t.value.unbindTooltip)&&t.value.unbindTooltip())},unbindPopup(){t.value&&(r(t.value.closePopup)&&t.value.closePopup(),r(t.value.unbindPopup)&&t.value.unbindPopup())},updateVisibleProp(e){a.emit("update:visible",e)}};return(0,o.provide)(E,u.bindPopup),(0,o.provide)(S,u.bindTooltip),(0,o.provide)(C,u.unbindPopup),(0,o.provide)(_,u.unbindTooltip),(0,o.onUnmounted)((()=>{u.unbindPopup(),u.unbindTooltip(),p()})),{options:d,methods:u}},z=(e,t)=>{if(e&&t.default)return(0,o.h)("div",{style:{display:"none"}},t.default())},M={...B,interactive:{type:Boolean,default:void 0},bubblingMouseEvents:{type:Boolean,default:void 0}},L=(e,t,a)=>{const{options:o,methods:i}=x(e,t,a);return{options:c(e,M,o),methods:i}},T={...M,stroke:{type:Boolean,default:void 0},color:{type:String},weight:{type:Number},opacity:{type:Number},lineCap:{type:String},lineJoin:{type:String},dashArray:{type:String},dashOffset:{type:String},fill:{type:Boolean,default:void 0},fillColor:{type:String},fillOpacity:{type:Number},fillRule:{type:String},className:{type:String}},I=(e,t,a)=>{const{options:i,methods:l}=L(e,t,a),n=c(e,T,i),r=g(k),s={...l,setStroke(e){t.value.setStyle({stroke:e})},setColor(e){t.value.setStyle({color:e})},setWeight(e){t.value.setStyle({weight:e})},setOpacity(e){t.value.setStyle({opacity:e})},setLineCap(e){t.value.setStyle({lineCap:e})},setLineJoin(e){t.value.setStyle({lineJoin:e})},setDashArray(e){t.value.setStyle({dashArray:e})},setDashOffset(e){t.value.setStyle({dashOffset:e})},setFill(e){t.value.setStyle({fill:e})},setFillColor(e){t.value.setStyle({fillColor:e})},setFillOpacity(e){t.value.setStyle({fillOpacity:e})},setFillRule(e){t.value.setStyle({fillRule:e})},setClassName(e){t.value.setStyle({className:e})}};return(0,o.onBeforeUnmount)((()=>{r({leafletObject:t.value})})),{options:n,methods:s}},F={...T,radius:{type:Number},latLng:{type:[Object,Array],required:!0,custom:!0}},P=(e,t,a)=>{const{options:o,methods:i}=I(e,t,a),l=c(e,F,o),n={...i,setRadius(e){t.value.setRadius(e)},setLatLng(e){t.value.setLatLng(e)}};return{options:l,methods:n}},A={...F,radius:{type:Number}},R=(e,t,a)=>{const{options:o,methods:i}=P(e,t,a),l=c(e,A,o),n={...i};return{options:l,methods:n}},O=((0,o.defineComponent)({name:"LCircle",props:A,setup(e,t){const i=(0,o.ref)(),l=(0,o.ref)(!1),n=(0,o.inject)(f),r=g(y),{options:c,methods:m}=R(e,i,t);return(0,o.onMounted)((async()=>{const{circle:p}=n?h.L:await a.e(6633).then(a.bind(a,26633));i.value=(0,o.markRaw)(p(e.latLng,c));const u=d(t.attrs);i.value.on(u),s(m,i.value,e),r({...e,...m,leafletObject:i.value}),l.value=!0,(0,o.nextTick)((()=>t.emit("ready",i.value)))})),{ready:l,leafletObject:i}},render(){return z(this.ready,this.$slots)}}),(0,o.defineComponent)({name:"LCircleMarker",props:F,setup(e,t){const i=(0,o.ref)(),l=(0,o.ref)(!1),n=(0,o.inject)(f),r=g(y),{options:c,methods:m}=P(e,i,t);return(0,o.onMounted)((async()=>{const{circleMarker:p}=n?h.L:await a.e(6633).then(a.bind(a,26633));i.value=(0,o.markRaw)(p(e.latLng,c));const u=d(t.attrs);i.value.on(u),s(m,i.value,e),r({...e,...m,leafletObject:i.value}),l.value=!0,(0,o.nextTick)((()=>t.emit("ready",i.value)))})),{ready:l,leafletObject:i}},render(){return z(this.ready,this.$slots)}}),{...$,position:{type:String}}),j=(e,t)=>{const{options:a,methods:i}=D(e),l=c(e,O,a),n={...i,setPosition(e){t.value&&t.value.setPosition(e)}};return(0,o.onUnmounted)((()=>{t.value&&t.value.remove()})),{options:l,methods:n}},Z=e=>e.default?(0,o.h)("div",{ref:"root"},e.default()):null,U=(0,o.defineComponent)({name:"LControl",props:{...O,disableClickPropagation:{type:Boolean,custom:!0,default:!0},disableScrollPropagation:{type:Boolean,custom:!0,default:!1}},setup(e,t){const i=(0,o.ref)(),l=(0,o.ref)(),n=(0,o.inject)(f),r=g(v),{options:c,methods:d}=j(e,i);return(0,o.onMounted)((async()=>{const{Control:m,DomEvent:p}=n?h.L:await a.e(6633).then(a.bind(a,26633)),u=m.extend({onAdd(){return l.value}});i.value=(0,o.markRaw)(new u(c)),s(d,i.value,e),r({leafletObject:i.value}),e.disableClickPropagation&&l.value&&p.disableClickPropagation(l.value),e.disableScrollPropagation&&l.value&&p.disableScrollPropagation(l.value),(0,o.nextTick)((()=>t.emit("ready",i.value)))})),{root:l,leafletObject:i}},render(){return Z(this.$slots)}}),H={...O,prefix:{type:String}},G=(e,t)=>{const{options:a,methods:o}=j(e,t),i=c(e,H,a),l={...o,setPrefix(e){t.value.setPrefix(e)}};return{options:i,methods:l}},q=((0,o.defineComponent)({name:"LControlAttribution",props:H,setup(e,t){const i=(0,o.ref)(),l=(0,o.inject)(f),n=g(v),{options:r,methods:c}=G(e,i);return(0,o.onMounted)((async()=>{const{control:d}=l?h.L:await a.e(6633).then(a.bind(a,26633));i.value=(0,o.markRaw)(d.attribution(r)),s(c,i.value,e),n({leafletObject:i.value}),(0,o.nextTick)((()=>t.emit("ready",i.value)))})),{leafletObject:i}},render(){return null}}),{...O,collapsed:{type:Boolean,default:void 0},autoZIndex:{type:Boolean,default:void 0},hideSingleBase:{type:Boolean,default:void 0},sortLayers:{type:Boolean,default:void 0},sortFunction:{type:Function}}),W=(e,t)=>{const{options:a}=j(e,t);return{options:c(e,q,a),methods:{addLayer(e){"base"===e.layerType?t.value.addBaseLayer(e.leafletObject,e.name):"overlay"===e.layerType&&t.value.addOverlay(e.leafletObject,e.name)},removeLayer(e){t.value.removeLayer(e.leafletObject)}}}},Y=((0,o.defineComponent)({name:"LControlLayers",props:q,setup(e,t){const i=(0,o.ref)(),l=(0,o.inject)(f),n=g(b),{options:r,methods:c}=W(e,i);return(0,o.onMounted)((async()=>{const{control:d}=l?h.L:await a.e(6633).then(a.bind(a,26633));i.value=(0,o.markRaw)(d.layers(void 0,void 0,r)),s(c,i.value,e),n({...e,...c,leafletObject:i.value}),(0,o.nextTick)((()=>t.emit("ready",i.value)))})),{leafletObject:i}},render(){return null}}),{...O,maxWidth:{type:Number},metric:{type:Boolean,default:void 0},imperial:{type:Boolean,default:void 0},updateWhenIdle:{type:Boolean,default:void 0}}),K=(e,t)=>{const{options:a,methods:o}=j(e,t);return{options:c(e,Y,a),methods:o}},X=((0,o.defineComponent)({name:"LControlScale",props:Y,setup(e,t){const i=(0,o.ref)(),l=(0,o.inject)(f),n=g(v),{options:r,methods:c}=K(e,i);return(0,o.onMounted)((async()=>{const{control:d}=l?h.L:await a.e(6633).then(a.bind(a,26633));i.value=(0,o.markRaw)(d.scale(r)),s(c,i.value,e),n({leafletObject:i.value}),(0,o.nextTick)((()=>t.emit("ready",i.value)))})),{leafletObject:i}},render(){return null}}),{...O,zoomInText:{type:String},zoomInTitle:{type:String},zoomOutText:{type:String},zoomOutTitle:{type:String}}),J=(e,t)=>{const{options:a,methods:o}=j(e,t);return{options:c(e,X,a),methods:o}},Q=((0,o.defineComponent)({name:"LControlZoom",props:X,setup(e,t){const i=(0,o.ref)(),l=(0,o.inject)(f),n=g(v),{options:r,methods:c}=J(e,i);return(0,o.onMounted)((async()=>{const{control:d}=l?h.L:await a.e(6633).then(a.bind(a,26633));i.value=(0,o.markRaw)(d.zoom(r)),s(c,i.value,e),n({leafletObject:i.value}),(0,o.nextTick)((()=>t.emit("ready",i.value)))})),{leafletObject:i}},render(){return null}}),{...B}),ee=(e,t,a)=>{const{options:i,methods:l}=x(e,t,a),n=c(e,Q,i),r={...l,addLayer(e){t.value.addLayer(e.leafletObject)},removeLayer(e){t.value.removeLayer(e.leafletObject)}};return(0,o.provide)(y,r.addLayer),(0,o.provide)(k,r.removeLayer),{options:n,methods:r}},te={...Q},ae=(e,t,a)=>{const{options:o,methods:i}=ee(e,t,a),l=c(e,te,o),n={...i};return{options:l,methods:n}},oe=((0,o.defineComponent)({props:te,setup(e,t){const i=(0,o.ref)(),l=(0,o.ref)(!1),n=(0,o.inject)(f),r=g(y),{methods:c,options:m}=ae(e,i,t);return(0,o.onMounted)((async()=>{const{featureGroup:p}=n?h.L:await a.e(6633).then(a.bind(a,26633));i.value=(0,o.markRaw)(p(void 0,m));const u=d(t.attrs);i.value.on(u),s(c,i.value,e),r({...e,...c,leafletObject:i.value}),l.value=!0,(0,o.nextTick)((()=>t.emit("ready",i.value)))})),{ready:l,leafletObject:i}},render(){return z(this.ready,this.$slots)}}),{...Q,geojson:{type:[Object,Array],custom:!0},optionsStyle:{type:Function,custom:!0}}),ie=(e,t,a)=>{const{options:o,methods:i}=ee(e,t,a),l=c(e,oe,o);Object.prototype.hasOwnProperty.call(e,"optionsStyle")&&(l.style=e.optionsStyle);const n={...i,setGeojson(e){t.value.clearLayers(),t.value.addData(e)},setOptionsStyle(e){t.value.setStyle(e)},getGeoJSONData(){return t.value.toGeoJSON()},getBounds(){return t.value.getBounds()}};return{options:l,methods:n}},le=((0,o.defineComponent)({props:oe,setup(e,t){const i=(0,o.ref)(),l=(0,o.ref)(!1),n=(0,o.inject)(f),r=g(y),{methods:c,options:m}=ie(e,i,t);return(0,o.onMounted)((async()=>{const{geoJSON:p}=n?h.L:await a.e(6633).then(a.bind(a,26633));i.value=(0,o.markRaw)(p(e.geojson,m));const u=d(t.attrs);i.value.on(u),s(c,i.value,e),r({...e,...c,leafletObject:i.value}),l.value=!0,(0,o.nextTick)((()=>t.emit("ready",i.value)))})),{ready:l,leafletObject:i}},render(){return z(this.ready,this.$slots)}}),{...B,opacity:{type:Number},zIndex:{type:Number},tileSize:{type:[Number,Array,Object]},noWrap:{type:Boolean,default:void 0},minZoom:{type:Number},maxZoom:{type:Number}}),ne=(e,t,a)=>{const{options:i,methods:l}=x(e,t,a),n=c(e,le,i),r={...l,setTileComponent(){var e;null==(e=t.value)||e.redraw()}};return(0,o.onUnmounted)((()=>{t.value.off()})),{options:n,methods:r}},re=(e,t,a,i)=>e.extend({initialize(e){this.tileComponents={},this.on("tileunload",this._unloadTile),a.setOptions(this,e)},createTile(e){const a=this._tileCoordsToKey(e);this.tileComponents[a]=t.create("div");const l=(0,o.h)({setup:i,props:["coords"]},{coords:e});return(0,o.render)(l,this.tileComponents[a]),this.tileComponents[a]},_unloadTile(e){const t=this._tileCoordsToKey(e.coords);this.tileComponents[t]&&(this.tileComponents[t].innerHTML="",this.tileComponents[t]=void 0)}}),se=((0,o.defineComponent)({props:{...le,childRender:{type:Function,required:!0}},setup(e,t){const i=(0,o.ref)(),l=(0,o.ref)(null),n=(0,o.ref)(!1),r=(0,o.inject)(f),c=g(y),{options:m,methods:p}=ne(e,i,t);return(0,o.onMounted)((async()=>{const{GridLayer:l,DomUtil:u,Util:g}=r?h.L:await a.e(6633).then(a.bind(a,26633)),f=re(l,u,g,e.childRender);i.value=(0,o.markRaw)(new f(m));const y=d(t.attrs);i.value.on(y),s(p,i.value,e),c({...e,...p,leafletObject:i.value}),n.value=!0,(0,o.nextTick)((()=>t.emit("ready",i.value)))})),{root:l,ready:n,leafletObject:i}},render(){return this.ready?(0,o.h)("div",{style:{display:"none"},ref:"root"}):null}}),{iconUrl:{type:String},iconRetinaUrl:{type:String},iconSize:{type:[Object,Array]},iconAnchor:{type:[Object,Array]},popupAnchor:{type:[Object,Array]},tooltipAnchor:{type:[Object,Array]},shadowUrl:{type:String},shadowRetinaUrl:{type:String},shadowSize:{type:[Object,Array]},shadowAnchor:{type:[Object,Array]},bgPos:{type:[Object,Array]},className:{type:String}}),ce=(0,o.defineComponent)({name:"LIcon",props:{...se,...$},setup(e,t){const i=(0,o.ref)(),l=(0,o.inject)(f),n=g(N),r=g(V),m=g(w);let p,u,y,k,v;const b=(a,o,i)=>{const l=a&&a.innerHTML;if(!o)return void(i&&v&&n()&&r(l));const s=d(t.attrs);v&&u(v,s);const{options:h}=D(e),g=c(e,se,h);l&&(g.html=l),v=g.html?y(g):k(g),p(v,s),m(v)},E=()=>{(0,o.nextTick)((()=>b(i.value,!0,!1)))},S=()=>{(0,o.nextTick)((()=>b(i.value,!1,!0)))},C={setIconUrl:E,setIconRetinaUrl:E,setIconSize:E,setIconAnchor:E,setPopupAnchor:E,setTooltipAnchor:E,setShadowUrl:E,setShadowRetinaUrl:E,setShadowAnchor:E,setBgPos:E,setClassName:E,setHtml:E};return(0,o.onMounted)((async()=>{const{DomEvent:t,divIcon:o,icon:n}=l?h.L:await a.e(6633).then(a.bind(a,26633));p=t.on,u=t.off,y=o,k=n,s(C,{},e),new MutationObserver(S).observe(i.value,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),E()})),{root:i}},render(){const e=this.$slots.default?this.$slots.default():void 0;return(0,o.h)("div",{ref:"root"},e)}}),de={...B,opacity:{type:Number},alt:{type:String},interactive:{type:Boolean,default:void 0},crossOrigin:{type:Boolean,default:void 0},errorOverlayUrl:{type:String},zIndex:{type:Number},className:{type:String},url:{type:String,required:!0,custom:!0},bounds:{type:[Array,Object],required:!0,custom:!0}},me=(e,t,a)=>{const{options:o,methods:i}=x(e,t,a),l=c(e,de,o),n={...i,setOpacity(e){return t.value.setOpacity(e)},setUrl(e){return t.value.setUrl(e)},setBounds(e){return t.value.setBounds(e)},getBounds(){return t.value.getBounds()},getElement(){return t.value.getElement()},bringToFront(){return t.value.bringToFront()},bringToBack(){return t.value.bringToBack()},setZIndex(e){return t.value.setZIndex(e)}};return{options:l,methods:n}},pe=(0,o.defineComponent)({name:"LImageOverlay",props:de,setup(e,t){const i=(0,o.ref)(),l=(0,o.ref)(!1),n=(0,o.inject)(f),r=g(y),{options:c,methods:m}=me(e,i,t);return(0,o.onMounted)((async()=>{const{imageOverlay:p}=n?h.L:await a.e(6633).then(a.bind(a,26633));i.value=(0,o.markRaw)(p(e.url,e.bounds,c));const u=d(t.attrs);i.value.on(u),s(m,i.value,e),r({...e,...m,leafletObject:i.value}),l.value=!0,(0,o.nextTick)((()=>t.emit("ready",i.value)))})),{ready:l,leafletObject:i}},render(){return z(this.ready,this.$slots)}});(0,o.defineComponent)({props:Q,setup(e,t){const i=(0,o.ref)(),l=(0,o.ref)(!1),n=(0,o.inject)(f),r=g(y),{methods:c}=ee(e,i,t);return(0,o.onMounted)((async()=>{const{layerGroup:m}=n?h.L:await a.e(6633).then(a.bind(a,26633));i.value=(0,o.markRaw)(m(void 0,e.options));const p=d(t.attrs);i.value.on(p),s(c,i.value,e),r({...e,...c,leafletObject:i.value}),l.value=!0,(0,o.nextTick)((()=>t.emit("ready",i.value)))})),{ready:l,leafletObject:i}},render(){return z(this.ready,this.$slots)}});function ue(e,t,a){var o,i,l;void 0===t&&(t=50),void 0===a&&(a={});var n=null!=(o=a.isImmediate)&&o,r=null!=(i=a.callback)&&i,s=a.maxWait,c=Date.now(),d=[];function m(){if(void 0!==s){var e=Date.now()-c;if(e+t>=s)return s-e}return t}var p=function(){var t=[].slice.call(arguments),a=this;return new Promise((function(o,i){var s=n&&void 0===l;if(void 0!==l&&clearTimeout(l),l=setTimeout((function(){if(l=void 0,c=Date.now(),!n){var o=e.apply(a,t);r&&r(o),d.forEach((function(e){return(0,e.resolve)(o)})),d=[]}}),m()),s){var p=e.apply(a,t);return r&&r(p),o(p)}d.push({resolve:o,reject:i})}))};return p.cancel=function(e){void 0!==l&&clearTimeout(l),d.forEach((function(t){return(0,t.reject)(e)})),d=[]},p}const he={...$,center:{type:[Object,Array]},bounds:{type:[Array,Object]},maxBounds:{type:[Array,Object]},zoom:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},paddingBottomRight:{type:[Object,Array]},paddingTopLeft:{type:Object},padding:{type:Object},worldCopyJump:{type:Boolean,default:void 0},crs:{type:[String,Object]},maxBoundsViscosity:{type:Number},inertia:{type:Boolean,default:void 0},inertiaDeceleration:{type:Number},inertiaMaxSpeed:{type:Number},easeLinearity:{type:Number},zoomAnimation:{type:Boolean,default:void 0},zoomAnimationThreshold:{type:Number},fadeAnimation:{type:Boolean,default:void 0},markerZoomAnimation:{type:Boolean,default:void 0},noBlockingAnimations:{type:Boolean,default:void 0},useGlobalLeaflet:{type:Boolean,default:!0,custom:!0}},ge=(0,o.defineComponent)({emits:["ready","update:zoom","update:center","update:bounds"],props:he,setup(e,t){const n=(0,o.ref)(),r=(0,o.reactive)({ready:!1,layersToAdd:[],layersInControl:[]}),{options:g}=D(e),N=c(e,he,g),V=p(y),w=p(k),E=p(v),S=p(b);(0,o.provide)(f,e.useGlobalLeaflet);const C=(0,o.computed)((()=>{const t={};return e.noBlockingAnimations&&(t.animate=!1),t})),_=(0,o.computed)((()=>{const t=C.value;return e.padding&&(t.padding=e.padding),e.paddingTopLeft&&(t.paddingTopLeft=e.paddingTopLeft),e.paddingBottomRight&&(t.paddingBottomRight=e.paddingBottomRight),t})),$={moveend:ue((e=>{r.leafletRef&&(t.emit("update:zoom",r.leafletRef.getZoom()),t.emit("update:center",r.leafletRef.getCenter()),t.emit("update:bounds",r.leafletRef.getBounds()))})),overlayadd(e){const t=r.layersInControl.find((t=>t.name===e.name));t&&t.updateVisibleProp(!0)},overlayremove(e){const t=r.layersInControl.find((t=>t.name===e.name));t&&t.updateVisibleProp(!1)}};(0,o.onMounted)((async()=>{e.useGlobalLeaflet&&(h.L=h.L||await Promise.resolve().then(a.t.bind(a,45243,23)));const{map:l,CRS:c,Icon:p,latLngBounds:g,latLng:f,DomEvent:y,stamp:k}=e.useGlobalLeaflet?h.L:await a.e(6633).then(a.bind(a,26633));try{N.beforeMapMount&&await N.beforeMapMount()}catch(B){console.error(`The following error occurred running the provided beforeMapMount hook ${B.message}`)}await m(p);const v="string"==typeof N.crs?c[N.crs]:N.crs;N.crs=v||c.EPSG3857;const b={addLayer(e){void 0!==e.layerType&&(void 0===r.layerControl?r.layersToAdd.push(e):r.layersInControl.find((t=>k(t.leafletObject)===k(e.leafletObject)))||(r.layerControl.addLayer(e),r.layersInControl.push(e))),!1!==e.visible&&r.leafletRef.addLayer(e.leafletObject)},removeLayer(e){void 0!==e.layerType&&(void 0===r.layerControl?r.layersToAdd=r.layersToAdd.filter((t=>t.name!==e.name)):(r.layerControl.removeLayer(e.leafletObject),r.layersInControl=r.layersInControl.filter((t=>k(t.leafletObject)!==k(e.leafletObject))))),r.leafletRef.removeLayer(e.leafletObject)},registerLayerControl(e){r.layerControl=e,r.layersToAdd.forEach((e=>{r.layerControl.addLayer(e)})),r.layersToAdd=[],E(e)},registerControl(e){r.leafletRef.addControl(e.leafletObject)},setZoom(e){const t=r.leafletRef.getZoom();e!==t&&r.leafletRef.setZoom(e,C.value)},setCrs(e){const t=r.leafletRef.getBounds();r.leafletRef.options.crs=e,r.leafletRef.fitBounds(t,{animate:!1,padding:[0,0]})},fitBounds(e){r.leafletRef.fitBounds(e,_.value)},setBounds(e){if(!e)return;const t=g(e);t.isValid()&&!(r.lastSetBounds||r.leafletRef.getBounds()).equals(t,0)&&(r.lastSetBounds=t,r.leafletRef.fitBounds(t))},setCenter(e){if(null==e)return;const t=f(e),a=r.lastSetCenter||r.leafletRef.getCenter();(a.lat!==t.lat||a.lng!==t.lng)&&(r.lastSetCenter=t,r.leafletRef.panTo(t,C.value))}};u(V,b.addLayer),u(w,b.removeLayer),u(E,b.registerControl),u(S,b.registerLayerControl),r.leafletRef=(0,o.markRaw)(l(n.value,N)),s(b,r.leafletRef,e);const D=d(t.attrs);i(r.leafletRef,$),y.on(r.leafletRef.getContainer(),D),r.ready=!0,(0,o.nextTick)((()=>t.emit("ready",r.leafletRef)))})),(0,o.onBeforeUnmount)((()=>{l($),r.leafletRef&&(r.leafletRef.off(),r.leafletRef.remove())}));const B=(0,o.computed)((()=>r.leafletRef)),x=(0,o.computed)((()=>r.ready));return{root:n,ready:x,leafletObject:B}},render(){return(0,o.h)("div",{style:{width:"100%",height:"100%"},ref:"root"},this.ready&&this.$slots.default?this.$slots.default():{})}}),fe=["Symbol(Comment)","Symbol(Text)"],ye=["LTooltip","LPopup"],ke={...B,draggable:{type:Boolean,default:void 0},icon:{type:[Object]},zIndexOffset:{type:Number},latLng:{type:[Object,Array],custom:!0,required:!0}},ve=(e,t,a)=>{const{options:o,methods:i}=x(e,t,a),l=c(e,ke,o),n={...i,setDraggable(e){t.value.dragging&&(e?t.value.dragging.enable():t.value.dragging.disable())},latLngSync(e){a.emit("update:latLng",e.latlng),a.emit("update:lat-lng",e.latlng)},setLatLng(e){if(null!=e&&t.value){const a=t.value.getLatLng();(!a||!a.equals(e))&&t.value.setLatLng(e)}}};return{options:l,methods:n}},be=(e,t)=>{const a=t.slots.default&&t.slots.default();return a&&a.length&&a.some(Ne)};function Ne(e){return!(fe.includes(e.type.toString())||ye.includes(e.type.name))}const Ve=(0,o.defineComponent)({name:"LMarker",props:ke,setup(e,t){const i=(0,o.ref)(),n=(0,o.ref)(!1),c=(0,o.inject)(f),m=g(y);(0,o.provide)(N,(()=>{var e;return!(null==(e=i.value)||!e.getElement())})),(0,o.provide)(V,(e=>{var t,a;const o=r(null==(t=i.value)?void 0:t.getElement)&&(null==(a=i.value)?void 0:a.getElement());o&&(o.innerHTML=e)})),(0,o.provide)(w,(e=>{var t;return(null==(t=i.value)?void 0:t.setIcon)&&i.value.setIcon(e)}));const{options:p,methods:u}=ve(e,i,t),k={moveHandler:ue(u.latLngSync)};return(0,o.onMounted)((async()=>{const{marker:l,divIcon:r}=c?h.L:await a.e(6633).then(a.bind(a,26633));be(p,t)&&(p.icon=r({className:""})),i.value=(0,o.markRaw)(l(e.latLng,p));const g=d(t.attrs);i.value.on(g),i.value.on("move",k.moveHandler),s(u,i.value,e),m({...e,...u,leafletObject:i.value}),n.value=!0,(0,o.nextTick)((()=>t.emit("ready",i.value)))})),(0,o.onBeforeUnmount)((()=>l(k))),{ready:n,leafletObject:i}},render(){return z(this.ready,this.$slots)}}),we={...T,smoothFactor:{type:Number},noClip:{type:Boolean,default:void 0},latLngs:{type:Array,required:!0,custom:!0}},Ee=(e,t,a)=>{const{options:o,methods:i}=I(e,t,a),l=c(e,we,o),n={...i,setSmoothFactor(e){t.value.setStyle({smoothFactor:e})},setNoClip(e){t.value.setStyle({noClip:e})},addLatLng(e){t.value.addLatLng(e)}};return{options:l,methods:n}},Se={...we},Ce=(e,t,a)=>{const{options:o,methods:i}=Ee(e,t,a),l=c(e,Se,o),n={...i,toGeoJSON(e){return t.value.toGeoJSON(e)}};return{options:l,methods:n}},_e=((0,o.defineComponent)({name:"LPolygon",props:Se,setup(e,t){const i=(0,o.ref)(),l=(0,o.ref)(!1),n=(0,o.inject)(f),r=g(y),{options:c,methods:m}=Ce(e,i,t);return(0,o.onMounted)((async()=>{const{polygon:p}=n?h.L:await a.e(6633).then(a.bind(a,26633));i.value=(0,o.markRaw)(p(e.latLngs,c));const u=d(t.attrs);i.value.on(u),s(m,i.value,e),r({...e,...m,leafletObject:i.value}),l.value=!0,(0,o.nextTick)((()=>t.emit("ready",i.value)))})),{ready:l,leafletObject:i}},render(){return z(this.ready,this.$slots)}}),(0,o.defineComponent)({name:"LPolyline",props:we,setup(e,t){const i=(0,o.ref)(),l=(0,o.ref)(!1),n=(0,o.inject)(f),r=g(y),{options:c,methods:m}=Ee(e,i,t);return(0,o.onMounted)((async()=>{const{polyline:p}=n?h.L:await a.e(6633).then(a.bind(a,26633));i.value=(0,o.markRaw)(p(e.latLngs,c));const u=d(t.attrs);i.value.on(u),s(m,i.value,e),r({...e,...m,leafletObject:i.value}),l.value=!0,(0,o.nextTick)((()=>t.emit("ready",i.value)))})),{ready:l,leafletObject:i}},render(){return z(this.ready,this.$slots)}}),{...$,content:{type:String,default:null}}),$e=(e,t)=>{const{options:a,methods:o}=D(e),i={...o,setContent(e){t.value&&null!==e&&void 0!==e&&t.value.setContent(e)}};return{options:a,methods:i}},De=e=>e.default?(0,o.h)("div",{ref:"root"},e.default()):null,Be={..._e,latLng:{type:[Object,Array],default:()=>[]}},xe=(e,t)=>{const{options:a,methods:o}=$e(e,t);return{options:a,methods:o}},ze=(0,o.defineComponent)({name:"LPopup",props:Be,setup(e,t){const i=(0,o.ref)(),l=(0,o.ref)(null),n=(0,o.inject)(f),r=g(E),c=g(C),{options:m,methods:p}=xe(e,i);return(0,o.onMounted)((async()=>{const{popup:c}=n?h.L:await a.e(6633).then(a.bind(a,26633));i.value=(0,o.markRaw)(c(m)),void 0!==e.latLng&&i.value.setLatLng(e.latLng),s(p,i.value,e);const u=d(t.attrs);i.value.on(u),i.value.setContent(e.content||l.value||""),r(i.value),(0,o.nextTick)((()=>t.emit("ready",i.value)))})),(0,o.onBeforeUnmount)((()=>{c()})),{root:l,leafletObject:i}},render(){return De(this.$slots)}}),Me={...Se,latLngs:{...Se.latLngs,required:!1},bounds:{type:Object,custom:!0}},Le=(e,t,a)=>{const{options:o,methods:i}=Ce(e,t,a),l=c(e,Me,o),n={...i,setBounds(e){t.value.setBounds(e)},setLatLngs(e){t.value.setBounds(e)}};return{options:l,methods:n}},Te=((0,o.defineComponent)({name:"LRectangle",props:Me,setup(e,t){const i=(0,o.ref)(),l=(0,o.ref)(!1),n=(0,o.inject)(f),r=g(y),{options:c,methods:m}=Le(e,i,t);return(0,o.onMounted)((async()=>{const{rectangle:p,latLngBounds:u}=n?h.L:await a.e(6633).then(a.bind(a,26633)),g=e.bounds?u(e.bounds):u(e.latLngs||[]);i.value=(0,o.markRaw)(p(g,c));const f=d(t.attrs);i.value.on(f),s(m,i.value,e),r({...e,...m,leafletObject:i.value}),l.value=!0,(0,o.nextTick)((()=>t.emit("ready",i.value)))})),{ready:l,leafletObject:i}},render(){return z(this.ready,this.$slots)}}),{...le,tms:{type:Boolean,default:void 0},subdomains:{type:[String,Array],validator:e=>"string"==typeof e||!!Array.isArray(e)&&e.every((e=>"string"==typeof e))},detectRetina:{type:Boolean,default:void 0},url:{type:String,required:!0,custom:!0}}),Ie=(e,t,a)=>{const{options:o,methods:i}=ne(e,t,a),l=c(e,Te,o),n={...i};return{options:l,methods:n}},Fe=((0,o.defineComponent)({props:Te,setup(e,t){const i=(0,o.ref)(),l=(0,o.inject)(f),n=g(y),{options:r,methods:c}=Ie(e,i,t);return(0,o.onMounted)((async()=>{const{tileLayer:m}=l?h.L:await a.e(6633).then(a.bind(a,26633));i.value=(0,o.markRaw)(m(e.url,r));const p=d(t.attrs);i.value.on(p),s(c,i.value,e),n({...e,...c,leafletObject:i.value}),(0,o.nextTick)((()=>t.emit("ready",i.value)))})),{leafletObject:i}},render(){return null}}),{..._e}),Pe=(e,t)=>{const{options:a,methods:i}=$e(e,t),l=g(_);return(0,o.onBeforeUnmount)((()=>{l()})),{options:a,methods:i}},Ae=((0,o.defineComponent)({name:"LTooltip",props:Fe,setup(e,t){const i=(0,o.ref)(),l=(0,o.ref)(null),n=(0,o.inject)(f),r=g(S),{options:c,methods:m}=Pe(e,i);return(0,o.onMounted)((async()=>{const{tooltip:p}=n?h.L:await a.e(6633).then(a.bind(a,26633));i.value=(0,o.markRaw)(p(c)),s(m,i.value,e);const u=d(t.attrs);i.value.on(u),i.value.setContent(e.content||l.value||""),r(i.value),(0,o.nextTick)((()=>t.emit("ready",i.value)))})),{root:l,leafletObject:i}},render(){return De(this.$slots)}}),{...Te,layers:{type:String,required:!0},styles:{type:String},format:{type:String},transparent:{type:Boolean,default:void 0},version:{type:String},crs:{type:Object},uppercase:{type:Boolean,default:void 0}}),Re=(e,t,a)=>{const{options:o,methods:i}=Ie(e,t,a);return{options:c(e,Ae,o),methods:{...i}}};(0,o.defineComponent)({props:Ae,setup(e,t){const i=(0,o.ref)(),l=(0,o.inject)(f),n=g(y),{options:r,methods:c}=Re(e,i,t);return(0,o.onMounted)((async()=>{const{tileLayer:m}=l?h.L:await a.e(6633).then(a.bind(a,26633));i.value=(0,o.markRaw)(m.wms(e.url,r));const p=d(t.attrs);i.value.on(p),s(c,i.value,e),n({...e,...c,leafletObject:i.value}),(0,o.nextTick)((()=>t.emit("ready",i.value)))})),{leafletObject:i}},render(){return null}})},78519:function(e,t,a){"use strict";a.d(t,{Z:function(){return Z}});var o=a(78221);const i=e=>((0,o.pushScopeId)("data-v-179959a3"),e=e(),(0,o.popScopeId)(),e),l={key:0,class:"seal-card__main"},n={class:"seal-card__header"},r={key:0},s={key:1},c={key:2},d={class:"seal-card__header-status"},m=["src"],p={ref:"topG",class:"seal-card__content-gradient top"},u={ref:"main",class:"seal-card__scrollable-container"},h={class:"seal-card__description"},g=["innerHTML"],f={key:0,class:"seal-card__time"},y={class:"seal-card__time-main"},k={key:1,class:"seal-card__requirements"},v={key:0,class:"seal-card__requirements-none"},b={key:1,class:"seal-card__requirements-list"},N={class:"seal-card__requirement-mark"},V={class:"seal-card__requirement-main"},w={ref:"bottomG",class:"seal-card__content-gradient bottom"},E={key:1,class:"seal-card__blocked"},S={key:2,class:"seal-card__installing"},C={class:"installing__progress-bar"},_={class:"installing__progress-text"},$=i((()=>(0,o.createElementVNode)("span",null,"Время улучшения:",-1))),D={key:3,class:"seal-card__button"},B={key:4,class:"seal-card__button"},x={tabindex:"-1",class:"seal-card__button-main"},z={key:5,class:"seal-card__button"},M={tabindex:"-1",class:"seal-card__button-main"},L={key:6,class:"building-control row-block full-width align-center"};function T(e,t,a,i,T,I){const F=(0,o.resolveComponent)("SVGComponent"),P=(0,o.resolveDirective)("smoothScroll");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["seal-card",`seal-card-${a.theme}`,a.card.isBlocked?"blocked":a.card.isCreate||a.card.isInstalled?"current":"available"]),onClick:t[3]||(t[3]=t=>e.$emit("click"))},[a.card.isBlocked?((0,o.openBlock)(),(0,o.createElementBlock)("div",E,[(0,o.createVNode)(F,{path:"icons/familyControl/lock.svg"}),(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(a.card.level)+" "+(0,o.toDisplayString)(e.$t("cef.familyControl.fakeSeal.level")),1),(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(e.$t("cef.familyControl.fakeSeal.blocked")),1)])):((0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createElementVNode)("div",n,["string"===typeof a.card.title&&a.card.title.length>0?((0,o.openBlock)(),(0,o.createElementBlock)("p",r,(0,o.toDisplayString)(e.$t(a.card.title)),1)):a.card.level&&!isNaN(a.card.level)?((0,o.openBlock)(),(0,o.createElementBlock)("p",s,(0,o.toDisplayString)(a.card.level)+" "+(0,o.toDisplayString)(e.$t("cef.familyControl.fakeSeal.level")),1)):((0,o.openBlock)(),(0,o.createElementBlock)("p",c," Error ")),(0,o.createElementVNode)("div",d,[(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(a.card.isCreate||a.card.isInstalled?e.$t("cef.familyControl.fakeSeal.establish"):e.$t("cef.familyControl.fakeSeal.available")),1)])]),a.card.img?((0,o.openBlock)(),(0,o.createElementBlock)("img",{key:0,src:`${e.cdn}/${a.card.img}`,alt:"",class:"seal-card__image"},null,8,m)):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["seal-card__content",I.getClasses])},[(0,o.createElementVNode)("div",p,null,512),(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("div",{ref:"container",class:"seal-card__scrollable",onScroll:t[0]||(t[0]=(...e)=>I.onResize&&I.onResize(...e))},[(0,o.createElementVNode)("div",u,[(0,o.createElementVNode)("div",h,[(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(e.$t("cef.familyControl.fakeSeal.description"))+":",1),(0,o.createElementVNode)("p",{innerHTML:e.$t(a.card.description)},null,8,g)]),!a.card.isCreate||a.building?((0,o.openBlock)(),(0,o.createElementBlock)("div",f,[(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(e.$t("cef.familyControl.fakeSeal.time"))+":",1),(0,o.createElementVNode)("div",y,[(0,o.createVNode)(F,{path:"icons/familyControl/time.svg"}),(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(a.card.time?e.$t("cef.familyControl.fakeSeal.hours",{N:a.card.time}):e.$t("cef.familyControl.fakeSeal.no-time")),1)])])):(0,o.createCommentVNode)("",!0),a.card.isCreate&&!a.building||a.card.installationEnd&&a.card.installationStart?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",k,[(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(e.$t("cef.familyControl.fakeSeal.requirementsTitle"))+":",1),Array.isArray(a.card.requirements)&&a.card.requirements.length?((0,o.openBlock)(),(0,o.createElementBlock)("div",b,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(I.cardCached.requirements,((t,a)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:`card-${a}`,class:(0,o.normalizeClass)(["seal-card__requirement",{completed:t.have>=t.count}])},[(0,o.createElementVNode)("div",N,[(0,o.createVNode)(F,{path:"icons/familyControl/mark.svg"})]),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["seal-card__requirement-image",`seal-card__requirement-image__${t.type}`])},[(0,o.createElementVNode)("div",{class:"image__inner",style:(0,o.normalizeStyle)({backgroundImage:`url(${t.image})`})},null,4)],2),(0,o.createElementVNode)("div",V,[(0,o.createElementVNode)("p",null,["item"===t.type?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t(`items[${t.id}].title`)),1)],64)):((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:1},[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t(`cef.familyControl.fakeSeal.requirements.${t.type}`)),1)],64))]),(0,o.createElementVNode)("p",null,["item"===t.type?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(t.have),1),(0,o.createTextVNode)(" / "+(0,o.toDisplayString)(t.count),1)],64)):((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:1},[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.countMoneyToDollar(t.have,!1,!1)),1),(0,o.createTextVNode)(" / "+(0,o.toDisplayString)(e.countMoneyToDollar(t.count,!1,!1)),1)],64))])])],2)))),128))])):((0,o.openBlock)(),(0,o.createElementBlock)("div",v,[(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(e.$t("cef.familyControl.fakeSeal.no-requirements")),1)]))]))],512)],32)),[[P,`${a.card.time}${e.$t(a.card.description)}`]]),(0,o.createElementVNode)("div",w,null,512)],2)])),a.card.installationEnd&&a.card.installationStart?((0,o.openBlock)(),(0,o.createElementBlock)("div",S,[(0,o.createElementVNode)("div",C,[(0,o.createElementVNode)("div",{class:"installing__progress-bar__inner",style:(0,o.normalizeStyle)({width:`${I.installation.progress}%`})},null,4),(0,o.createElementVNode)("div",_,[$,(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(I.secondsConvertedToString),1)])])])):a.displayButton&&a.card.nextCreate&&!a.card.isInstalled?((0,o.openBlock)(),(0,o.createElementBlock)("div",D,[(0,o.createElementVNode)("button",{tabindex:"-1",class:"seal-card__button-main",onClick:t[1]||(t[1]=e=>I.onCardClick(a.card))},(0,o.toDisplayString)(e.$t("cef.familyControl.fakeSeal.start")),1)])):a.displayButton&&a.card.isCurrent&&!a.card.isInstalled?((0,o.openBlock)(),(0,o.createElementBlock)("div",B,[(0,o.createElementVNode)("button",x,(0,o.toDisplayString)(e.$t("cef.familyControl.fakeSeal.current")),1)])):a.displayButton&&a.card.isCreate&&!a.card.isInstalled?((0,o.openBlock)(),(0,o.createElementBlock)("div",z,[(0,o.createElementVNode)("button",M,(0,o.toDisplayString)(e.$t("cef.familyControl.fakeSeal.create")),1)])):(0,o.createCommentVNode)("",!0),a.building?((0,o.openBlock)(),(0,o.createElementBlock)("div",L,[(0,o.createElementVNode)("div",{class:"building-button build",onClick:t[2]||(t[2]=t=>e.$emit("build"))},(0,o.toDisplayString)(e.$t("cef.familyControl.premisesSelector.build")),1)])):(0,o.createCommentVNode)("",!0)],2)}var I=a(49759),F=a(33907),P=a(15278),A=a(62345),R={name:"Card",props:{card:{type:Object,required:!0},theme:{type:String,required:!1,default:"white"},displayButton:{type:Boolean,required:!1,default:!0},building:{type:Boolean,required:!1,default:!1}},mixins:[I.Z,A.Z],data(){return{scrollTop:0,containerHeight:0,topGHeight:0,bottomGHeight:0,mainHeight:0,serverTime:null,timeInterval:null}},mounted(){window.addEventListener("resize",this.onResize),this.onResize(),this.serverTime=this.cardGetServerTime(),this.timeInterval=setInterval((()=>{this.serverTime=this.cardGetServerTime()}),1e3)},beforeUnmount(){window.removeEventListener("resize",this.onResize),clearInterval(this.timeInterval)},computed:{...(0,F.rn)({serverTimeOffset:e=>e.main.serverTimeOffset}),installation(){const e={},t=(new Date(this.card.installationEnd)-new Date(this.card.installationStart))/1e3,a=(new Date(this.serverTime)-new Date(this.card.installationStart))/1e3;return e.leftTime=t-a,e.progress=(0,P.u)(a/t*100,0,100),e},cardCached(){const e=this.toRawStructuredClone(this.card);return e.requirements=e.requirements.map((t=>{switch(e.isInstalled&&(t.isCompleted=!0),t.type){case"item":t.image=`${this.cdn}/img/inventory/items/${t.id}.png`,t.isCompleted&&(t.now=t.required);break;default:t.image=`${this.cdn}/img/upgradeWarehouse/money.png`;break}return t})),e},getClasses(){const e=[];return this.scrollTop>=this.topGHeight/2&&e.push("top"),this.containerHeight+this.scrollTop<=this.mainHeight-this.bottomGHeight/2&&e.push("bottom"),e},secondsConvertedToString(){const e=this.installation.leftTime,t=Math.floor(e/86400),a=Math.floor(e%86400/3600),o=Math.floor(e%3600/60),i=Math.floor(e%60),l=[];return t>0&&l.push(`${t}${this.$t("cef.marketPlace.time.days")}`),a>0&&l.push(`${a}${this.$t("cef.marketPlace.time.hours")}`),o>0&&l.push(`${o}${this.$t("cef.marketPlace.time.minutes")}`),i>0&&l.push(`${i}${this.$t("cef.marketPlace.time.seconds")}`),l.slice(0,2).join(" ")}},methods:{onResize(){const e=this.$refs.container,t=this.$refs.main,a=this.$refs.topG,o=this.$refs.bottomG;e&&t&&a&&o&&(this.scrollTop=e.scrollTop,this.containerHeight=e.offsetHeight,this.mainHeight=t.offsetHeight,this.topGHeight=a.offsetHeight,this.bottomGHeight=o.offsetHeight)},onCardClick(e){e.isCreate||e.isCurrent||mp.trigger2("pumping.take")},cardGetServerTime(){const e=new Date(Date.now()+this.serverTimeOffset);return new Date(e)}}},O=a(83744);const j=(0,O.Z)(R,[["render",T],["__scopeId","data-v-179959a3"]]);var Z=j},62238:function(e,t,a){"use strict";a.d(t,{Z:function(){return u}});var o=a(78221);const i={class:"container row-block align-center full-height"},l={class:"container row-block align-center full-height"},n={class:"logo"},r=["src"];function s(e,t,a,s,c,d){const m=(0,o.resolveComponent)("SVGComponent");return(0,o.openBlock)(),(0,o.createElementBlock)("header",{class:(0,o.normalizeClass)(["row-block full-width align-center justify-between",e.organizationColorSchema.theme])},[(0,o.createElementVNode)("div",i,[(0,o.createElementVNode)("div",{onClick:t[0]||(t[0]=t=>e.$emit("back")),class:"back-button"},[(0,o.createVNode)(m,{path:"icons/ipad/apps/organizations/captureMap/back.svg"})]),(0,o.renderSlot)(e.$slots,"left-part",{},void 0,!0)]),(0,o.createElementVNode)("div",l,[(0,o.renderSlot)(e.$slots,"right-part",{},void 0,!0),(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("img",{src:`${e.organizationColorSchema.logo}`},null,8,r)])])],2)}var c=a(33907),d={name:"page-header",computed:(0,c.rn)({organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp]})},m=a(83744);const p=(0,m.Z)(d,[["render",s],["__scopeId","data-v-4462f151"]]);var u=p},81657:function(e,t,a){"use strict";a.d(t,{Z:function(){return p}});var o=a(78221);const i={class:"selector__title"},l={key:0,class:"value"},n=["value"];function r(e,t){const a=(0,o.resolveComponent)("SVGComponent");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["selector row-block",e.organizationColorSchema.theme])},[(0,o.createElementVNode)("div",i,(0,o.toDisplayString)(e.title),1),(0,o.createElementVNode)("div",{class:"arrow",onClick:t[0]||(t[0]=t=>e.$emit("changeEvent",!1))},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/captureMap/arrow.svg"})]),"text"===e.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",l,(0,o.toDisplayString)(e.modelValue),1)):((0,o.openBlock)(),(0,o.createElementBlock)("input",{key:1,type:"text",maxlength:"2",class:"value",value:e.modelValue,onInput:t[1]||(t[1]=t=>e.$emit("update:modelValue",t.target.value)),onBlur:t[2]||(t[2]=t=>e.$emit("blur")),onKeypress:t[3]||(t[3]=(...t)=>e.preventForNumber&&e.preventForNumber(...t)),onCut:t[4]||(t[4]=(0,o.withModifiers)((()=>{}),["prevent"])),onCopy:t[5]||(t[5]=(0,o.withModifiers)((()=>{}),["prevent"])),onPaste:t[6]||(t[6]=(0,o.withModifiers)((()=>{}),["prevent"]))},null,40,n)),(0,o.createElementVNode)("div",{class:"arrow",onClick:t[7]||(t[7]=t=>e.$emit("changeEvent",!0))},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/captureMap/arrow.svg"})])],2)}var s=a(33907),c={emits:["update:modelValue","blur","changeEvent"],name:"selector",props:{title:{type:String,required:!0},type:{type:String,required:!0},modelValue:{required:!1}},computed:(0,s.rn)({organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp]})},d=a(83744);const m=(0,d.Z)(c,[["render",r],["__scopeId","data-v-eec55958"]]);var p=m},53517:function(e,t,a){"use strict";a.d(t,{Z:function(){return _}});var o=a(78221);const i={class:"modal-content"},l={class:"full-width"},n={class:"title"},r={class:"column-block"},s={key:0,class:"input-container column-block"},c={class:"input-container__title"},d=["placeholder"],m={key:1,class:"input-container column-block"},p={class:"input-container__title"},u=["placeholder"],h={key:0,class:"wrapper"},g=["onClick"],f={style:{float:"right"}},y={key:1,class:"loader"},k={class:"comment column-block"},v={class:"comment__title"},b=["placeholder"],N={class:"control-buttons row-block full-width justify-between"};function V(e,t){const a=(0,o.resolveComponent)("SVGComponent");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"modal full-height full-width"]),onClick:t[13]||(t[13]=(0,o.withModifiers)((t=>e.$emit("close")),["self"]))},[(0,o.createElementVNode)("div",i,[(0,o.createElementVNode)("header",l,[(0,o.createElementVNode)("span",n,(0,o.toDisplayString)(e.$t(`cef.ipad.org.captureMap.${e.data.type}`)),1),(0,o.createElementVNode)("div",{class:"close-block",onClick:t[0]||(t[0]=t=>e.$emit("close"))},[(0,o.createVNode)(a,{path:"icons/global/cross.svg"})])]),(0,o.createElementVNode)("main",r,[e.isFamily?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",s,[(0,o.createElementVNode)("label",c,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.org-name")),1),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"input-container__input",placeholder:e.$t("cef.ipad.org.captureMap.enter-id"),onKeypress:t[1]||(t[1]=(...t)=>e.preventForNumber&&e.preventForNumber(...t)),onCut:t[2]||(t[2]=(0,o.withModifiers)((()=>{}),["prevent"])),onCopy:t[3]||(t[3]=(0,o.withModifiers)((()=>{}),["prevent"])),onPaste:t[4]||(t[4]=(0,o.withModifiers)((()=>{}),["prevent"])),maxlength:"10","onUpdate:modelValue":t[5]||(t[5]=t=>e.id=t)},null,40,d),[[o.vModelText,e.id,void 0,{number:!0}]])])),e.isFamily?((0,o.openBlock)(),(0,o.createElementBlock)("div",m,[(0,o.createElementVNode)("label",p,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.org-name")),1),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"input-container__input",placeholder:e.$t("cef.ipad.org.captureMap.enter-id"),onCut:t[6]||(t[6]=(0,o.withModifiers)((()=>{}),["prevent"])),onCopy:t[7]||(t[7]=(0,o.withModifiers)((()=>{}),["prevent"])),onPaste:t[8]||(t[8]=(0,o.withModifiers)((()=>{}),["prevent"])),maxlength:"15","onUpdate:modelValue":t[9]||(t[9]=t=>e.searchName=t)},null,40,u),[[o.vModelText,e.searchName,void 0,{string:!0}]]),e.searchResultLocal&&e.searchResultLocal.length&&!e.searchRequest?((0,o.openBlock)(),(0,o.createElementBlock)("div",h,[(0,o.createElementVNode)("div",null,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.searchResultLocal,(t=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"autocom-box",key:t.id,onClick:a=>e.selectFamily(t)},[(0,o.createTextVNode)((0,o.toDisplayString)(t.title)+" ",1),(0,o.createElementVNode)("span",f,(0,o.toDisplayString)(t.id),1)],8,g)))),128))])])):(0,o.createCommentVNode)("",!0),e.searchRequest?((0,o.openBlock)(),(0,o.createElementBlock)("div",y)):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",k,[(0,o.createElementVNode)("span",v,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.comment")),1),(0,o.withDirectives)((0,o.createElementVNode)("textarea",{maxlength:"90",class:"comment__value","onUpdate:modelValue":t[10]||(t[10]=t=>e.comment=t),placeholder:e.$t("cef.ipad.org.captureMap.your-comment")},null,8,b),[[o.vModelText,e.comment]])]),(0,o.createElementVNode)("div",N,[(0,o.createElementVNode)("div",{class:"control-button",onClick:t[11]||(t[11]=(...t)=>e.execute&&e.execute(...t))},(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.execute")),1),(0,o.createElementVNode)("div",{class:"control-button",onClick:t[12]||(t[12]=t=>e.$emit("close"))},(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.discard")),1)])])])],2)}var w=a(33907),E={name:"attack",components:{},props:["data"],data(){return{comment:"",id:null,searchName:null,selected:{title:""},searchResultLocal:[]}},computed:(0,w.rn)({organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],isFamily:e=>e.ipad.organization.captureMap.isFamily,searchResult:e=>e.ipad.organization.captureMap.searchResult,searchRequest:e=>e.ipad.organization.captureMap.searchRequest}),methods:{getType(){return this.data.type},getIsFamily(){return this.data.isFamily},execute(){if(!("number"!==typeof parseInt(this.id)||this.id<=-1)){if("repaint-zone"===this.data.type)return mp.trigger2("ipad.organization.captureMap.repaintZone",this.data.zoneData.id,this.id,this.comment,this.isFamily),void this.$emit("close");mp.trigger2("ipad.organization.captureMap.executeAdminAction",this.data.type,this.id,this.comment,this.isFamily),this.$emit("close")}},selectFamily(e){this.searchName=e.title,this.id=parseInt(e.id),this.selected=e,this.searchResultLocal=[]}},watch:{searchResult(e){this.searchResultLocal=e.result},searchName(e){if(e!=this.selected.title)return parseInt(e)?(this.id=e,void(this.searchName=parseInt(e))):void mp.trigger2("ipad.organization.captureMap.searchFamily",e)}}},S=a(83744);const C=(0,S.Z)(E,[["render",V],["__scopeId","data-v-7df17666"]]);var _=C},4433:function(e,t,a){"use strict";a.d(t,{Z:function(){return V}});var o=a(78221);const i={class:"modal-content column-block"},l={class:"full-width"},n={class:"title"},r={class:"column-block full-width"},s={class:"inputs column-block"},c={class:"input-container column-block"},d={class:"input-container__title"},m=["placeholder","onUpdate:modelValue"],p={class:"control-panel row-block full-width"},u={class:"comment column-block"},h={class:"comment__title"},g=["placeholder"],f={class:"control-buttons row-block full-width justify-between"};function y(e,t){const a=(0,o.resolveComponent)("SVGComponent");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"modal full-height full-width"]),onClick:t[10]||(t[10]=(0,o.withModifiers)((t=>e.$emit("close")),["self"]))},[(0,o.createElementVNode)("div",i,[(0,o.createElementVNode)("header",l,[(0,o.createElementVNode)("span",n,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.create-message")),1),(0,o.createElementVNode)("div",{class:"close-block",onClick:t[0]||(t[0]=t=>e.$emit("close"))},[(0,o.createVNode)(a,{path:"icons/global/cross.svg"})])]),(0,o.createElementVNode)("main",r,[(0,o.createElementVNode)("div",s,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.inputs,((a,i)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",c,[(0,o.createElementVNode)("label",d,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.org-name")),1),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"input-container__input",placeholder:e.$t("cef.ipad.org.captureMap.enter-id"),onKeypress:t[1]||(t[1]=(...t)=>e.preventForNumber&&e.preventForNumber(...t)),onCut:t[2]||(t[2]=(0,o.withModifiers)((()=>{}),["prevent"])),onCopy:t[3]||(t[3]=(0,o.withModifiers)((()=>{}),["prevent"])),onPaste:t[4]||(t[4]=(0,o.withModifiers)((()=>{}),["prevent"])),maxlength:"10","onUpdate:modelValue":t=>e.inputs[i]=t},null,40,m),[[o.vModelText,e.inputs[i],void 0,{number:!0}]])])))),256))]),(0,o.createElementVNode)("div",p,[(0,o.createElementVNode)("div",{class:"input-add full-height",onClick:t[5]||(t[5]=t=>(e.setType("input-add"),e.addInput()))},(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.add-org")),1),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["to-all full-height",{active:"to-all"===e.type}]),onClick:t[6]||(t[6]=t=>e.setType("to-all"))},(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.to-all-orgs")),3)]),(0,o.createElementVNode)("div",u,[(0,o.createElementVNode)("span",h,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.comment")),1),(0,o.withDirectives)((0,o.createElementVNode)("textarea",{maxlength:"90",class:"comment__value","onUpdate:modelValue":t[7]||(t[7]=t=>e.comment=t),placeholder:e.$t("cef.ipad.org.captureMap.your-comment")},null,8,g),[[o.vModelText,e.comment]])]),(0,o.createElementVNode)("div",f,[(0,o.createElementVNode)("div",{class:"control-button",onClick:t[8]||(t[8]=(...t)=>e.onExecute&&e.onExecute(...t))},(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.execute")),1),(0,o.createElementVNode)("div",{class:"control-button",onClick:t[9]||(t[9]=t=>e.$emit("close"))},(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.discard")),1)])])])],2)}var k=a(33907),v={name:"broadcast",MAX_INPUTS:10,components:{},data(){return{inputs:[],comment:"",type:"to-all"}},methods:{addInput(){this.inputs.length<this.$options.MAX_INPUTS&&this.inputs.push("")},removeInput(e){this.inputs.splice(e,1)},setType(e){this.type=e,"to-all"===e&&(this.inputs=[])},onExecute(){mp.trigger2("ipad.organization.captureMap.broadcastMessage",this.comment,this.type,this.isFamily,...this.inputs),this.$emit("close")}},computed:(0,k.rn)({organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],isFamily:e=>e.ipad.organization.captureMap.isFamily})},b=a(83744);const N=(0,b.Z)(v,[["render",y],["__scopeId","data-v-7f7f10ce"]]);var V=N},19629:function(e,t,a){"use strict";a.d(t,{Z:function(){return N}});var o=a(78221);const i={class:"modal-content column-block"},l={class:"modal-content__title"},n={class:"input-container column-block"},r=["placeholder"],s={class:"input-container column-block"},c=["placeholder"],d={class:"input-container column-block"},m=["placeholder"],p={class:"control-buttons row-block full-width justify-between"};function u(e,t){const a=(0,o.resolveComponent)("SVGComponent");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{onClick:t[6]||(t[6]=(0,o.withModifiers)((t=>e.$emit("close")),["self"])),class:(0,o.normalizeClass)(["modal full-height full-width",e.organizationColorSchema.theme]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`})},[(0,o.createElementVNode)("div",i,[(0,o.createElementVNode)("span",l,(0,o.toDisplayString)(e.$t("Configure zone settings")),1),(0,o.createElementVNode)("div",{onClick:t[0]||(t[0]=t=>e.$emit("close")),class:"close-block"},[(0,o.createVNode)(a,{path:"icons/global/cross.svg"})]),(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("span",{class:(0,o.normalizeClass)(["input-container__title",{active:1}])},(0,o.toDisplayString)(e.$t("Zone type")),1),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["input-form row-block align-center justify-between",{active:1}])},[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"input-form__input full-width",placeholder:e.$t("cef.ipad.org.captureMap.enter-id"),"onUpdate:modelValue":t[1]||(t[1]=t=>e.zoneType=t)},null,8,r),[[o.vModelText,e.zoneType]])])]),(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("span",{class:(0,o.normalizeClass)(["input-container__title",{active:1}])},(0,o.toDisplayString)(e.$t("Zone sub-type (optional for type 1, 2)")),1),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["input-form row-block align-center justify-between",{active:1}])},[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"input-form__input full-width",placeholder:e.$t("cef.ipad.org.captureMap.enter-id"),"onUpdate:modelValue":t[2]||(t[2]=t=>e.zoneSubType=t)},null,8,c),[[o.vModelText,e.zoneSubType]])])]),(0,o.createElementVNode)("div",d,[(0,o.createElementVNode)("span",{class:(0,o.normalizeClass)(["input-container__title",{active:1}])},(0,o.toDisplayString)(e.$t("Params (optional for some subtypes)")),1),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["input-form row-block align-center justify-between",{active:1}])},[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"input-form__input full-width",placeholder:e.$t("cef.ipad.org.captureMap.enter-id"),"onUpdate:modelValue":t[3]||(t[3]=t=>e.paramId=t)},null,8,m),[[o.vModelText,e.paramId]])])]),(0,o.createElementVNode)("div",p,[(0,o.createElementVNode)("div",{class:"control-button",onClick:t[4]||(t[4]=(...t)=>e.onClickExecute&&e.onClickExecute(...t))},(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.execute")),1),(0,o.createElementVNode)("div",{class:"control-button",onClick:t[5]||(t[5]=t=>e.$emit("close"))},(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.discard")),1)])])],6)}var h=a(33907),g=a(81657),f=a(18092),y=a(39319),k={name:"configure-zone",components:{Selector:g.Z},mixins:[f.Z],props:["data"],data(){return{attackOrg:"",defenseOrg:"",zoneType:"",zoneSubType:"",paramId:""}},computed:{...(0,h.rn)({organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],calibresList:e=>e.ipad.organization.captureMap.calibres})},methods:{getFactionName:y.V,onClickExecute(){mp.trigger2("ipad.organization.captureMap.configureZone",this.data.zoneData.id,this.zoneType,this.zoneSubType,this.paramId),this.$emit("close")}}},v=a(83744);const b=(0,v.Z)(k,[["render",u],["__scopeId","data-v-2a68d610"]]);var N=b},56001:function(e,t,a){"use strict";a.d(t,{Z:function(){return S}});var o=a(78221);const i={class:"modal-content column-block"},l={class:"align-center"},n={class:"header__title"},r={class:"modal-container column-block"},s={class:"notification full-width"},c={class:"notification-header row-block align-center justify-between"},d={class:"row-block"},m={key:0,class:"is-new"},p={key:1,class:"notification-header__text-sid"},u={class:"notification-header__text-date"},h={class:"notification-content column-block"},g={class:"notification-content__text"},f={class:"sent-to row-block"},y={class:"sent-to__title"},k={class:"sent-to__text"},v={key:1,class:"sent-to__text"};function b(e,t){const a=(0,o.resolveComponent)("SVGComponent");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"modal full-height full-width"]),onClick:t[1]||(t[1]=(0,o.withModifiers)((t=>e.$emit("close")),["self"]))},[(0,o.createElementVNode)("div",i,[(0,o.createElementVNode)("header",l,[(0,o.createElementVNode)("span",n,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.notifications-list")),1),(0,o.createElementVNode)("div",{class:"close-block",onClick:t[0]||(t[0]=t=>e.$emit("close"))},[(0,o.createVNode)(a,{path:"icons/global/cross.svg"})])]),(0,o.createElementVNode)("div",r,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.notifications,(t=>((0,o.openBlock)(),(0,o.createElementBlock)("div",s,[(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("div",d,[t.isNew?((0,o.openBlock)(),(0,o.createElementBlock)("div",m,"NEW")):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("span",{class:(0,o.normalizeClass)(["notification-header__text-login",{system:"system"===t.login.toLowerCase()}])},(0,o.toDisplayString)(t.login),3),"system"!==t.login.toLowerCase()?((0,o.openBlock)(),(0,o.createElementBlock)("span",p," #"+(0,o.toDisplayString)(t.sid),1)):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("div",u,(0,o.toDisplayString)(e.$dayjs(t.date).format("D, MMM HH:mm")),1)]),(0,o.createElementVNode)("div",h,[(0,o.createElementVNode)("span",g,(0,o.toDisplayString)(t.message),1),(0,o.createElementVNode)("div",f,[(0,o.createElementVNode)("span",y,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.sent-to")),1),"all"!==t.type?((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,{key:0},(0,o.renderList)(t.to,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("span",k,(0,o.toDisplayString)(e),1)))),256)):((0,o.openBlock)(),(0,o.createElementBlock)("span",v,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.to-all")),1))])])])))),256))])])],2)}var N=a(33907),V={name:"notifications",components:{},mounted(){this.fetchNotifications()},computed:(0,N.rn)({notifications:e=>e.ipad.organization.captureMap.notifications,organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp]}),methods:{...(0,N.nv)({fetchNotifications:"ipad/organization/captureMap/fetchNotifications",notificationMarkAsRead:"ipad/organization/captureMap/notificationMarkAsRead"}),visibilityChanged(e,t){e&&this.notificationMarkAsRead(t.id)}}},w=a(83744);const E=(0,w.Z)(V,[["render",b],["__scopeId","data-v-330fa959"]]);var S=E},16837:function(e,t,a){"use strict";a.d(t,{Z:function(){return H}});var o=a(78221);const i={class:"modal-content column-block"},l={class:"modal-content__title"},n={class:"zone-data row-block align-center"},r={class:"zone-data__title-text"},s={class:"zone-data__title-value"},c={class:"input-container column-block"},d=["placeholder"],m=["placeholder"],p={key:2,class:"wrapper"},u=["onClick"],h={style:{float:"right"}},g={key:3,class:"loader"},f={class:"input-container column-block"},y={key:0,class:"input-form row-block align-center justify-between"},k=["placeholder"],v={key:1,class:"input-form row-block align-center justify-between"},b=["placeholder"],N={key:2,class:"wrapper"},V=["onClick"],w={style:{float:"right"}},E={key:3,class:"loader"},S={class:"selectors column-block"},C={class:"selectors__title"},_={class:"row-block"},$={class:"row-block justify-between"},D={class:"selectors column-block"},B={class:"selectors__title"},x={class:"selectors column-block"},z={class:"selectors__title"},M={class:"comment column-block"},L={class:"comment__title"},T=["placeholder"],I={class:"control-buttons row-block full-width justify-between"};function F(e,t){const a=(0,o.resolveComponent)("SVGComponent"),F=(0,o.resolveComponent)("Selector");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{onClick:t[21]||(t[21]=(0,o.withModifiers)((t=>e.$emit("close")),["self"])),class:(0,o.normalizeClass)(["modal full-height full-width",e.organizationColorSchema.theme]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`})},[(0,o.createElementVNode)("div",i,[(0,o.createElementVNode)("span",l,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.set-capture")),1),(0,o.createElementVNode)("div",{onClick:t[0]||(t[0]=t=>e.$emit("close")),class:"close-block"},[(0,o.createVNode)(a,{path:"icons/global/cross.svg"})]),(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("div",{class:"zone-data__title",style:(0,o.normalizeStyle)({"--background":e.zoneColor,"--color":e.zoneTextColor,"--border-color":e.zoneBorderColor})},(0,o.toDisplayString)(e.data.zoneData.id),5),(0,o.createElementVNode)("div",r,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.control")),1),(0,o.createElementVNode)("div",s,(0,o.toDisplayString)(e.getFactionName(e.data.zoneData.data.factionId)),1)]),(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("span",{class:(0,o.normalizeClass)(["input-container__title",{active:e.attackOrg.length}])},(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.organization-name")),3),this.isFamily?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:(0,o.normalizeClass)(["input-form row-block align-center justify-between",{active:e.attackOrg.length}])},[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"input-form__input full-width",placeholder:e.$t("cef.ipad.org.captureMap.enter-id"),"onUpdate:modelValue":t[1]||(t[1]=t=>e.attackOrg=t)},null,8,d),[[o.vModelText,e.attackOrg]]),(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/captureMap/attacking.svg",class:"input-form__icon"})],2)),this.isFamily?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:1,class:(0,o.normalizeClass)(["input-form row-block align-center justify-between",{active:e.selectedAttacker.length}])},[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"input-form__input full-width",placeholder:e.$t("cef.ipad.org.captureMap.enter-id"),"onUpdate:modelValue":t[2]||(t[2]=t=>e.selectedAttacker.title=t),onInput:t[3]||(t[3]=t=>e.onChangeInput("attacker",t.target.value))},null,40,m),[[o.vModelText,e.selectedAttacker.title]]),(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/captureMap/attacking.svg",class:"input-form__icon"})],2)):(0,o.createCommentVNode)("",!0),this.isFamily&&e.searchResultAttacker&&e.searchResultAttacker.length&&!e.searchRequest?((0,o.openBlock)(),(0,o.createElementBlock)("div",p,[(0,o.createElementVNode)("div",null,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.searchResultAttacker,(t=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"autocom-box",key:t.id,onClick:a=>e.selectFamily(t,"attacker")},[(0,o.createTextVNode)((0,o.toDisplayString)(t.title)+" ",1),(0,o.createElementVNode)("span",h,(0,o.toDisplayString)(t.id),1)],8,u)))),128))])])):(0,o.createCommentVNode)("",!0),e.searchRequest?((0,o.openBlock)(),(0,o.createElementBlock)("div",g)):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("div",f,[(0,o.createElementVNode)("span",{class:(0,o.normalizeClass)(["input-container__title",{active:e.defenseOrg.length}])},(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.organization-name")),3),this.isFamily?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",y,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"input-form__input full-width",placeholder:e.$t("cef.ipad.org.captureMap.enter-id"),"onUpdate:modelValue":t[4]||(t[4]=t=>e.defenseOrg=t)},null,8,k),[[o.vModelText,e.defenseOrg]]),(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/captureMap/defender.svg",class:(0,o.normalizeClass)(["input-form__icon",{active:e.defenseOrg.length}])},null,8,["class"])])),this.isFamily?((0,o.openBlock)(),(0,o.createElementBlock)("div",v,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"input-form__input full-width",placeholder:e.$t("cef.ipad.org.captureMap.enter-id"),"onUpdate:modelValue":t[5]||(t[5]=t=>e.selectedDefender.title=t),onInput:t[6]||(t[6]=t=>e.onChangeInput("defence",t.target.value))},null,40,b),[[o.vModelText,e.selectedDefender.title]]),(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/captureMap/defender.svg",class:(0,o.normalizeClass)(["input-form__icon",{active:e.selectedDefender.length}])},null,8,["class"])])):(0,o.createCommentVNode)("",!0),this.isFamily&&e.searchResultDefender&&e.searchResultDefender.length&&!e.searchRequest?((0,o.openBlock)(),(0,o.createElementBlock)("div",N,[(0,o.createElementVNode)("div",null,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.searchResultDefender,(t=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"autocom-box",key:t.id,onClick:a=>e.selectFamily(t,"defence")},[(0,o.createTextVNode)((0,o.toDisplayString)(t.title)+" ",1),(0,o.createElementVNode)("span",w,(0,o.toDisplayString)(t.id),1)],8,V)))),128))])])):(0,o.createCommentVNode)("",!0),e.searchRequest?((0,o.openBlock)(),(0,o.createElementBlock)("div",E)):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("div",S,[(0,o.createElementVNode)("span",C,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.attack-time")),1),(0,o.createElementVNode)("div",_,[(0,o.createVNode)(F,{class:"mr",type:"input",modelValue:e.hours,"onUpdate:modelValue":t[7]||(t[7]=t=>e.hours=t),onBlur:t[8]||(t[8]=t=>e.clampRange("hours")),title:e.$t("cef.ipad.org.captureMap.hours"),onChangeEvent:t[9]||(t[9]=t=>e.changeRange("hours",t))},null,8,["modelValue","title"]),(0,o.createVNode)(F,{type:"input",modelValue:e.minutes,"onUpdate:modelValue":t[10]||(t[10]=t=>e.minutes=t),onBlur:t[11]||(t[11]=t=>e.clampRange("minutes")),title:e.$t("cef.ipad.org.captureMap.minutes"),onChangeEvent:t[12]||(t[12]=t=>e.changeRange("minutes",t))},null,8,["modelValue","title"])])]),(0,o.createElementVNode)("div",$,[(0,o.createElementVNode)("div",D,[(0,o.createElementVNode)("span",B,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.choose-participants")),1),(0,o.createVNode)(F,{type:"input",modelValue:e.participants,"onUpdate:modelValue":t[13]||(t[13]=t=>e.participants=t),onBlur:t[14]||(t[14]=t=>e.clampRange("participants")),title:e.$t("cef.ipad.org.captureMap.select-amount"),onChangeEvent:t[15]||(t[15]=t=>e.changeRange("participants",t))},null,8,["modelValue","title"])]),(0,o.createElementVNode)("div",x,[(0,o.createElementVNode)("span",z,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.choose-caliber")),1),(0,o.createVNode)(F,{class:"wide-value",type:"text",modelValue:e.calibresList[e.calibres],"onUpdate:modelValue":t[16]||(t[16]=t=>e.calibresList[e.calibres]=t),title:e.$t("cef.ipad.org.captureMap.select-caliber"),onChangeEvent:t[17]||(t[17]=t=>e.changeRange("calibres",t))},null,8,["modelValue","title"])])]),(0,o.createElementVNode)("div",M,[(0,o.createElementVNode)("span",L,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.comment")),1),(0,o.withDirectives)((0,o.createElementVNode)("textarea",{maxlength:"100",class:"comment__value","onUpdate:modelValue":t[18]||(t[18]=t=>e.comment=t),placeholder:e.$t("cef.ipad.org.captureMap.your-comment")},null,8,T),[[o.vModelText,e.comment]])]),(0,o.createElementVNode)("div",I,[(0,o.createElementVNode)("div",{class:"control-button",onClick:t[19]||(t[19]=(...t)=>e.onClickExecute&&e.onClickExecute(...t))},(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.execute")),1),(0,o.createElementVNode)("div",{class:"control-button",onClick:t[20]||(t[20]=t=>e.$emit("close"))},(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.discard")),1)])])],6)}var P=a(33907),A=a(81657),R=a(18092),O=a(39319),j={name:"set-capture",components:{Selector:A.Z},mixins:[R.Z],props:["data"],mounted(){const e=this.$dayjs().add(30,"minutes");this.hours=e.hour(),this.minutes=e.minute(),this.participants=this.participantsRange.min,this.calibresRange.max=this.calibresList.length,this.isFamily=this.data.isFamily},data(){return{attackOrg:"",defenseOrg:"",comment:"",hours:0,minutes:0,participants:0,calibres:0,hoursRange:{min:0,max:24,step:1},minutesRange:{min:0,max:60,step:5},participantsRange:{min:1,max:31,step:1},calibresRange:{min:0,max:0,step:1},selectedAttacker:{title:""},selectedDefender:{title:""},searchResultAttacker:[],searchResultDefender:[],searchName:"",isFamily:!1}},computed:{...(0,P.rn)({organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],calibresList:e=>e.ipad.organization.captureMap.calibres,searchResult:e=>e.ipad.organization.captureMap.searchResult,searchRequest:e=>e.ipad.organization.captureMap.searchRequest}),zoneColor(){const e=this.data.zoneData.data.zoneColor;return`rgba(${e[0]}, ${e[1]}, ${e[2]}, 0.5)`},zoneBorderColor(){const e=this.data.zoneData.data.zoneColor;return`rgba(${e[0]}, ${e[1]}, ${e[2]}, 0.9)`},zoneTextColor(){const{textColor:e}=this.data.zoneData.data;return`rgb(${e[0]}, ${e[1]}, ${e[2]})`}},methods:{getFactionName:O.V,onClickExecute(){this.selectedAttacker&&this.selectedAttacker.id&&this.selectedDefender&&this.selectedDefender.id&&this.selectedAttacker.id!=this.selectedDefender.id&&(mp.trigger2("ipad.organization.captureMap.adminPlanAttack",this.data.zoneData.id,parseInt(this.selectedAttacker.id),parseInt(this.selectedDefender.id),this.comment,this.hours,this.minutes,this.participants,this.calibres,this.data.isFamily),this.$emit("close"))},selectFamily(e,t){"attacker"==t&&(this.selectedAttacker=e,this.searchResultAttacker=[]),"defence"==t&&(this.selectedDefender=e,this.searchResultDefender=[])},onChangeInput(e,t){if("attacker"==e){if(parseInt(t))return this.id=t,void(this.searchName=parseInt(t));mp.trigger2("ipad.organization.captureMap.searchFamily",t,"attacker")}if("defence"==e){if(parseInt(t))return this.id=t,void(this.searchName=parseInt(t));mp.trigger2("ipad.organization.captureMap.searchFamily",t,"defence")}}},watch:{searchResult(e){"attacker"==e.source&&(this.searchResultAttacker=e.result),"defence"==e.source&&(this.searchResultDefender=e.result)}}},Z=a(83744);const U=(0,Z.Z)(j,[["render",F],["__scopeId","data-v-691dc800"]]);var H=U},84602:function(e,t,a){"use strict";a.d(t,{Z:function(){return x}});var o=a(78221);const i=e=>((0,o.pushScopeId)("data-v-75852e60"),e=e(),(0,o.popScopeId)(),e),l={class:"title"},n={class:"search row-block align-center"},r=["placeholder"],s={class:"full-width full-height"},c={class:"table column-block full-width full-height"},d={class:"table-header row-block align-center full-width"},m=i((()=>(0,o.createElementVNode)("div",{class:"row-item"},"ADM",-1))),p={class:"row-item"},u=i((()=>(0,o.createElementVNode)("div",{class:"row-item"},"UID",-1))),h={class:"row-item"},g={class:"row-item"},f={class:"row-item"},y={class:"table-row row-block align-center full-width"},k={class:"row-item"},v={class:"row-item"},b={class:"row-item"},N={class:"row-item"},V={class:"row-item"},w={class:"row-item"};function E(e,t){const a=(0,o.resolveComponent)("SVGComponent"),i=(0,o.resolveComponent)("pageHeader"),E=(0,o.resolveComponent)("RecycleScroller");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"logs column-block full-width full-height"])},[(0,o.createVNode)(i,{onBack:t[0]||(t[0]=t=>e.$emit("back"))},{"left-part":(0,o.withCtx)((()=>[(0,o.createElementVNode)("span",l,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.logs-title")),1)])),"right-part":(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",n,[(0,o.createVNode)(a,{class:"search__icon",path:"icons/ipad/apps/organizations/captureMap/search.svg"}),(0,o.createElementVNode)("input",{type:"text",class:"search__input full-height full-width",placeholder:e.$t("cef.ipad.org.captureMap.name-search")},null,8,r)])])),_:1}),(0,o.createElementVNode)("main",s,[(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("div",d,[m,(0,o.createElementVNode)("div",p,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.logs.login")),1),u,(0,o.createElementVNode)("div",h,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.logs.action")),1),(0,o.createElementVNode)("div",g,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.logs.comment")),1),(0,o.createElementVNode)("div",f,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.logs.date")),1)]),(0,o.createVNode)(E,{class:"table-body column-block full-width full-height",items:e.indexedLogs,"item-size":41/1080*e.windowHeight,emitUpdate:!0,"key-field":"id"},{default:(0,o.withCtx)((({item:t,index:a})=>[(0,o.createElementVNode)("div",y,[(0,o.createElementVNode)("div",k,(0,o.toDisplayString)(t.adm),1),(0,o.createElementVNode)("div",v,(0,o.toDisplayString)(t.login),1),(0,o.createElementVNode)("div",b,(0,o.toDisplayString)(t.uid),1),(0,o.createElementVNode)("div",N,(0,o.toDisplayString)(t.action),1),(0,o.createElementVNode)("div",V,(0,o.toDisplayString)(t.comment),1),(0,o.createElementVNode)("div",w,(0,o.toDisplayString)(e.$dayjs(t.date).format("DD.MM.YYYY HH:mm")),1)])])),_:1},8,["items","item-size"])])])],2)}var S=a(33907),C=a(62238),_=a(6160),$={name:"logs",mixins:[_.Z],components:{pageHeader:C.Z},mounted(){this.fetchLogsData()},computed:{...(0,S.rn)({organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],logs:e=>e.ipad.organization.captureMap.logs}),indexedLogs(){return this.logs.map(((e,t)=>({...e,id:t})))}},methods:{...(0,S.nv)({fetchLogsData:"ipad/organization/captureMap/fetchLogsData"})}},D=a(83744);const B=(0,D.Z)($,[["render",E],["__scopeId","data-v-75852e60"]]);var x=B},42860:function(e,t,a){"use strict";a.d(t,{Z:function(){return ge}});var o=a(78221);const i=e=>((0,o.pushScopeId)("data-v-daef4714"),e=e(),(0,o.popScopeId)(),e),l={class:"title"},n={class:"search row-block align-center"},r=["placeholder"],s={class:"row-block full-width full-height"},c={class:"captures-list column-block full-width"},d=["onClick"],m={class:"column-block full-height justify-between"},p={class:"labels row-block align-center"},u={key:0,class:"labels__text-won left"},h={class:"labels__title"},g=i((()=>(0,o.createElementVNode)("span",{class:"labels__text-vs"},"VS",-1))),f={class:"labels__title"},y={key:1,class:"labels__text-won"},k={class:"additional-data row-block"},v={class:"square"},b={class:"additional-data__title"},N={class:"additional-data__value"},V={class:"started"},w={class:"additional-data__title"},E={class:"additional-data__value"},S={class:"capture-data column-block full-height justify-between align-end"},C={class:"capture-id row-block"},_=i((()=>(0,o.createElementVNode)("span",{class:"capture-data__title"},"ID:",-1))),$={class:"capture-data__value"},D={class:"status row-block"},B={class:"capture-data__title"},x={class:"capture-data__value"},z={class:"tables column-block full-width"},M={class:"table column-block full-width full-height"},L={class:"table-header row-block full-width justify-between align-center"},T={class:"row-block align-center"},I={class:"table-header__title"},F={class:"headers row-block align-center"},P={class:"headers__title"},A={class:"headers__title"},R={class:"table-container"},O={class:"table-body full-height"},j={class:"row-item"},Z={class:"row-item"},U={class:"row-item"},H={class:"row-item"},G={class:"row-item"},q={class:"table column-block full-width full-height"},W={class:"table-header row-block full-width justify-between align-center"},Y={class:"row-block align-center"},K={class:"table-header__title"},X={class:"headers row-block align-center"},J={class:"headers__title"},Q={class:"headers__title"},ee={class:"table-container"},te={class:"table-body full-height"},ae={class:"row-item"},oe={class:"row-item"},ie={class:"row-item"},le={class:"row-item"},ne={class:"row-item"};function re(e,t){const a=(0,o.resolveComponent)("SVGComponent"),i=(0,o.resolveComponent)("pageHeader");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["scheduleList column-block full-width full-height",e.organizationColorSchema.theme]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`,"--background":`${e.organizationColorSchema.backgroundColor}`})},[(0,o.createVNode)(i,{onBack:t[1]||(t[1]=t=>e.$emit("back"))},{"left-part":(0,o.withCtx)((()=>[(0,o.createElementVNode)("span",l,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.schedule-title")),1)])),"right-part":(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",n,[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/captureMap/search.svg",class:"search__icon"}),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=t=>e.search=t),class:"search__input full-height full-width",placeholder:e.$t("cef.ipad.org.captureMap.name-search")},null,8,r),[[o.vModelText,e.search]])])])),_:1}),(0,o.createElementVNode)("main",s,[(0,o.createElementVNode)("div",c,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.capturesLogs,((t,i)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:`${t.id}-${t.defendersId}-${t.attackersId}-${i}`,class:(0,o.normalizeClass)(["capture-item row-block full-width justify-between",{selected:e.selectedCaptureId===t.id}]),onClick:a=>e.selectCapture(t)},[(0,o.createElementVNode)("div",m,[(0,o.createElementVNode)("div",p,[t.winner===t.attackersId?((0,o.openBlock)(),(0,o.createElementBlock)("span",u,"WIN")):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(a,{class:"labels__icon",path:"icons/ipad/apps/organizations/captureMap/attacking.svg"}),(0,o.createElementVNode)("span",h,(0,o.toDisplayString)(t.attackersName),1),g,(0,o.createElementVNode)("span",f,(0,o.toDisplayString)(t.defendersName),1),(0,o.createVNode)(a,{class:"labels__icon",path:"icons/ipad/apps/organizations/captureMap/defender.svg"}),t.winner===t.defendersId?((0,o.openBlock)(),(0,o.createElementBlock)("span",y,"WIN")):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("div",k,[(0,o.createElementVNode)("div",v,[(0,o.createElementVNode)("span",b,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.square")),1),(0,o.createElementVNode)("span",N,(0,o.toDisplayString)(t.gangZoneId),1)]),(0,o.createElementVNode)("div",V,[(0,o.createElementVNode)("span",w,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.started")),1),(0,o.createElementVNode)("span",E,(0,o.toDisplayString)(e.$dayjs(t.startAt).format("D, MMM HH:mm")),1)]),(0,o.createElementVNode)("div",{class:"row-block align-center justify-center left-time",ref_for:!0,ref:`capture-item-leftTime-${t.id}`},null,512)])]),(0,o.createElementVNode)("div",S,[(0,o.createElementVNode)("div",C,[_,(0,o.createElementVNode)("span",$,(0,o.toDisplayString)(t.id),1)]),(0,o.createElementVNode)("div",D,[(0,o.createElementVNode)("span",B,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.status")),1),(0,o.createElementVNode)("span",x,(0,o.toDisplayString)(e.$t(`cef.ipad.org.captureMap.${t.status}`)),1)])])],10,d)))),128))]),(0,o.createElementVNode)("div",z,[e.selectedCapture?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createElementVNode)("div",M,[(0,o.createElementVNode)("div",L,[(0,o.createElementVNode)("div",T,[(0,o.createVNode)(a,{class:"table-header__icon",path:"icons/ipad/apps/organizations/captureMap/attacking.svg"}),(0,o.createElementVNode)("span",I,(0,o.toDisplayString)(e.selectedCapture.attackersName),1)]),(0,o.createElementVNode)("div",F,[(0,o.createElementVNode)("span",P,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.kills")),1),(0,o.createElementVNode)("span",A,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.damage")),1)])]),(0,o.createElementVNode)("div",R,[(0,o.createElementVNode)("div",O,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.filteredRows["attackersPlayers"],((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:`${e.id}${t}`,class:"table-row align-center"},[(0,o.createElementVNode)("div",j,(0,o.toDisplayString)(t+1),1),(0,o.createElementVNode)("div",Z,(0,o.toDisplayString)(e.name),1),(0,o.createElementVNode)("div",U,"#"+(0,o.toDisplayString)(e.id),1),(0,o.createElementVNode)("div",H,(0,o.toDisplayString)(e.kills),1),(0,o.createElementVNode)("div",G,(0,o.toDisplayString)(e.damage),1)])))),128))])])]),(0,o.createElementVNode)("div",q,[(0,o.createElementVNode)("div",W,[(0,o.createElementVNode)("div",Y,[(0,o.createVNode)(a,{class:"table-header__icon",path:"icons/ipad/apps/organizations/captureMap/defender.svg"}),(0,o.createElementVNode)("span",K,(0,o.toDisplayString)(e.selectedCapture.defendersName),1)]),(0,o.createElementVNode)("div",X,[(0,o.createElementVNode)("span",J,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.kills")),1),(0,o.createElementVNode)("span",Q,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.damage")),1)])]),(0,o.createElementVNode)("div",ee,[(0,o.createElementVNode)("div",te,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.filteredRows["defendersPlayers"],((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:`${e.id}${t}`,class:"table-row align-center"},[(0,o.createElementVNode)("div",ae,(0,o.toDisplayString)(t+1),1),(0,o.createElementVNode)("div",oe,(0,o.toDisplayString)(e.name),1),(0,o.createElementVNode)("div",ie,"#"+(0,o.toDisplayString)(e.id),1),(0,o.createElementVNode)("div",le,(0,o.toDisplayString)(e.kills),1),(0,o.createElementVNode)("div",ne,(0,o.toDisplayString)(e.damage),1)])))),128))])])])],64)):(0,o.createCommentVNode)("",!0)])])],6)}var se=a(33907),ce=a(39319),de=a(62238),me=a(4214),pe={name:"scheduleList",components:{pageHeader:de.Z},async mounted(){try{const{status:e,result:t}=await me.ZP.getCaptures(localStorage.getItem("serverId"),this.isFamily?this.playerFamilyId:this.factionId,+this.isFamily);e&&(this.capturesLogs=t.captures.map((e=>({...e,defendersName:e.defendersName??(0,ce.V)(e.defendersId),attackersName:e.attackersName??(0,ce.V)(e.attackersId),defendersPlayers:[],attackersPlayers:[],playersLoaded:!1}))))}catch(e){this.showNotify({text:this.$t("cef.ipad.org.captures.error-loading"),type:"error"})}},data(){return{selectedCaptureId:null,capturesLogs:[],search:""}},tables:[{icon:"attacking",path:"attack"},{icon:"defender",path:"defense"}],computed:{...(0,se.rn)({organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],factionId:e=>e.main.member,isFamily:e=>e.ipad.organization.captureMap.isFamily,playerFamilyId:e=>e.ipad.family}),selectedCapture(){return this.capturesLogs.find((e=>e.id===this.selectedCaptureId))},filteredRows(){const e=["defendersPlayers","attackersPlayers"],t={};for(const a of e)this.search.length?Array.isArray(this.selectedCapture[a])?t[a]=this.selectedCapture[a].filter((e=>e.name.toLowerCase().includes(this.search.toLowerCase())||e.id.toString().includes(this.search))):t[a]=[]:t[a]=this.selectedCapture[a];return t}},methods:{...(0,se.OI)({showNotify:"main/showNotify"}),async selectCapture(e){this.selectedCaptureId=e.id;const t=this.capturesLogs.findIndex((t=>t.id===e.id));if(!this.capturesLogs[t].playersLoaded){const{status:a,result:o}=await me.ZP.getCapturesPlayers(localStorage.getItem("serverId"),e.id,+this.isFamily);a&&(this.capturesLogs[t].defendersPlayers=o.players[e.defendersId],this.capturesLogs[t].attackersPlayers=o.players[e.attackersId],this.capturesLogs[t].playersLoaded=!0)}}}},ue=a(83744);const he=(0,ue.Z)(pe,[["render",re],["__scopeId","data-v-daef4714"]]);var ge=he},98464:function(e,t,a){"use strict";a.d(t,{Z:function(){return Ve}});var o=a(78221);const i=e=>((0,o.pushScopeId)("data-v-117a42b8"),e=e(),(0,o.popScopeId)(),e),l={class:"zone-data row-block align-center"},n={class:"zone-data__title-text"},r={class:"zone-data__title-value"},s={class:"starts-in row-block align-center"},c={class:"starts-in__title"},d={class:"starts-in__value"},m={key:0,class:"starts-in__text"},p={class:"participants"},u={class:"participants__title"},h={class:"participants__value"},g={key:0,class:"caliber"},f={class:"caliber__title"},y={class:"caliber__value"},k={key:0,class:"full-width row-block align-center"},v={class:"timer column-block align-center"},b={class:"timer__title"},N={class:"timer__value"},V={class:"available-time column-block align-center"},w={class:"available-time__title"},E={class:"available-time__value"},S={class:"move-time column-block align-center"},C={class:"move-time__title"},_={class:"move-time-container row-block"},$=["onClick"],D={class:"selectors column-block"},B={class:"selectors__title"},x={class:"row-block"},z={key:0,class:"selectors column-block"},M={class:"selectors__title"},L={class:"row-block"},T={key:1,class:"selectors column-block"},I={class:"selectors__title"},F={class:"row-block"},P={class:"full-width full-height"},A={class:"table full-height full-width column-block"},R={class:"table-header row-block"},O={class:"table-header__title"},j={key:0,class:"table-header__value"},Z={key:1,class:"participants row-block"},U={class:"table-header__value"},H={class:"participants__text"},G={class:"table-header__hint"},q={class:"table-container column-block full-width full-height"},W={class:"search row-block align-center full-width"},Y=["placeholder","onUpdate:modelValue"],K={class:"table-header-rows align-center row-block full-width"},X=i((()=>(0,o.createElementVNode)("span",{class:"row-item justify-center"},"#",-1))),J={class:"row-item"},Q=i((()=>(0,o.createElementVNode)("span",{class:"row-item justify-center"},"UID",-1))),ee={class:"row-item justify-center"},te={class:"row-item justify-end"},ae=["onClick"],oe={class:"row-item justify-center"},ie={class:"row-item"},le={class:"row-item justify-center"},ne={class:"row-item justify-center"},re={class:"row-item justify-end"},se={class:"move-to"};function ce(e,t){const a=(0,o.resolveComponent)("pageHeader"),i=(0,o.resolveComponent)("Selector"),ce=(0,o.resolveComponent)("SVGComponent"),de=(0,o.resolveComponent)("RecycleScroller");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["set-capture-page full-width full-height column-block",e.organizationColorSchema.theme]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`,"--background":`${e.organizationColorSchema.backgroundColor}`,"--main-text-color":`${e.getCorrectContrastingFontColor(e.organizationColorSchema.main,"#fbfbfb","#060606")}`})},[(0,o.createVNode)(a,{onBack:t[2]||(t[2]=t=>e.$emit("back"))},{"left-part":(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",{class:"zone-data__title",style:(0,o.normalizeStyle)({"--background":e.zoneColor,"--color":e.zoneTextColor,"--border-color":e.zoneBorderColor})},(0,o.toDisplayString)(e.currentZone.data.label||e.currentZone.id),5),(0,o.createElementVNode)("div",n,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.control")),1),(0,o.createElementVNode)("div",r,(0,o.toDisplayString)(e.getFamilyName()||e.getFactionName(e.currentZone.data.factionId)||e.$t("cef.ipad.org.captureMap.markerInfo.neutral")),1)]),e.isEditing?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("span",c,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.starts-in")),1),(0,o.createElementVNode)("span",d,(0,o.toDisplayString)(e.secondsToHms(e.editingStartTimeSeconds)),1),e.editingStartTimeAddSeconds>0?((0,o.openBlock)(),(0,o.createElementBlock)("span",m," +"+(0,o.toDisplayString)(e.secondsToHms(e.editingStartTimeAddSeconds)),1)):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("div",p,[(0,o.createElementVNode)("span",u,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.participants")),1),(0,o.createElementVNode)("span",h,(0,o.toDisplayString)(e.editingActionData.peopleCount)+"х"+(0,o.toDisplayString)(e.editingActionData.peopleCount),1)]),e.isFamily?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",g,[(0,o.createElementVNode)("span",f,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.caliber")),1),(0,o.createElementVNode)("span",y,(0,o.toDisplayString)(e.editingActionData.caliberLabel),1)]))],64)):(0,o.createCommentVNode)("",!0)])),"right-part":(0,o.withCtx)((()=>[e.isEditing?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:1,class:(0,o.normalizeClass)(["edit-attack",{active:e.selectedPlayers.length}]),onClick:t[1]||(t[1]=(...t)=>e.clickSaveEditAttack&&e.clickSaveEditAttack(...t))},(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.save-editing")),3)):((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:(0,o.normalizeClass)([{active:e.selectedPlayers.length},"plan-attack"]),onClick:t[0]||(t[0]=(...t)=>e.clickPlanAttack&&e.clickPlanAttack(...t))},(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.plan-attack")),3))])),_:1}),e.isNavAvailable?((0,o.openBlock)(),(0,o.createElementBlock)("nav",k,[e.isEditingAviable?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createElementVNode)("div",v,[(0,o.createElementVNode)("span",b,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.timer")),1),(0,o.createElementVNode)("div",N,(0,o.toDisplayString)(e.secondsToHms(e.currentAdditionalTime)),1)]),(0,o.createElementVNode)("div",V,[(0,o.createElementVNode)("div",w,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.available-time")),1),(0,o.createElementVNode)("div",E,(0,o.toDisplayString)(e.secondsToHms(e.freeAdditionalTime)),1)]),(0,o.createElementVNode)("div",S,[(0,o.createElementVNode)("div",C,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.move-event-start")),1),(0,o.createElementVNode)("div",_,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.$options.MOVE_TIME,(t=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"move-time__value",onClick:a=>e.addAdditionalTime(t)},(0,o.toDisplayString)(1===Math.sign(t)?"+":"")+(0,o.toDisplayString)(e.secondsToHms(t)),9,$)))),256))])])],64)):e.isEditing?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:1},[(0,o.createElementVNode)("div",D,[(0,o.createElementVNode)("span",B,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.attack-time")),1),(0,o.createElementVNode)("div",x,[(0,o.createVNode)(i,{class:"mr",type:"input",modelValue:e.hours,"onUpdate:modelValue":t[3]||(t[3]=t=>e.hours=t),onBlur:t[4]||(t[4]=t=>e.clampRange("hours")),title:e.$t("cef.ipad.org.captureMap.hours"),onChangeEvent:t[5]||(t[5]=t=>e.changeRange("hours",t))},null,8,["modelValue","title"]),(0,o.createVNode)(i,{class:"mr",type:"input",modelValue:e.minutes,"onUpdate:modelValue":t[6]||(t[6]=t=>e.minutes=t),onBlur:t[7]||(t[7]=t=>e.clampRange("minutes")),title:e.$t("cef.ipad.org.captureMap.minutes"),onChangeEvent:t[8]||(t[8]=t=>e.changeRange("minutes",t))},null,8,["modelValue","title"])])]),e.isFamily?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",z,[(0,o.createElementVNode)("span",M,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.choose-participants")),1),(0,o.createElementVNode)("div",L,[(0,o.createVNode)(i,{class:"mr",type:"input",modelValue:e.participants,"onUpdate:modelValue":t[9]||(t[9]=t=>e.participants=t),onBlur:t[10]||(t[10]=t=>e.clampRange("participants")),title:e.$t("cef.ipad.org.captureMap.participants"),onChangeEvent:t[11]||(t[11]=t=>e.changeRange("participants",t))},null,8,["modelValue","title"])])])),e.isFamily?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",T,[(0,o.createElementVNode)("span",I,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.choose-caliber")),1),(0,o.createElementVNode)("div",F,[(0,o.createVNode)(i,{class:"wide-value",type:"text",modelValue:e.calibresList[e.calibres],"onUpdate:modelValue":t[12]||(t[12]=t=>e.calibresList[e.calibres]=t),title:e.$t("cef.ipad.org.captureMap.select-caliber"),onChangeEvent:t[13]||(t[13]=t=>e.changeRange("calibres",t))},null,8,["modelValue","title"])])]))],64))])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("main",P,[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["tables row-block full-height",{"expanded-tables":!e.isNavAvailable}])},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.$options.tables,(t=>((0,o.openBlock)(),(0,o.createElementBlock)("div",A,[(0,o.createElementVNode)("div",R,[(0,o.createElementVNode)("span",O,(0,o.toDisplayString)(e.$t(t.title)),1),"green"===t.style?((0,o.openBlock)(),(0,o.createElementBlock)("span",j,(0,o.toDisplayString)(e.membersList.length),1)):((0,o.openBlock)(),(0,o.createElementBlock)("div",Z,[(0,o.createElementVNode)("span",U,(0,o.toDisplayString)(e.selectedPlayers.length),1),(0,o.createElementVNode)("span",H," / "+(0,o.toDisplayString)(e.participants),1)])),(0,o.createElementVNode)("span",G,(0,o.toDisplayString)(e.$t(t.hint)),1)]),(0,o.createElementVNode)("div",q,[(0,o.createElementVNode)("div",W,[(0,o.createVNode)(ce,{class:"search__icon",path:"icons/ipad/apps/organizations/captureMap/search.svg"}),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"search__input full-height full-width",placeholder:e.$t("cef.ipad.org.captureMap.list-search"),"onUpdate:modelValue":a=>e.filters[t.key]=a},null,8,Y),[[o.vModelText,e.filters[t.key]]])]),(0,o.createElementVNode)("div",K,[X,(0,o.createElementVNode)("span",J,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.login")),1),Q,(0,o.createElementVNode)("span",ee,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.rank")),1),(0,o.createElementVNode)("span",te,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.online-status")),1)]),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["table-body full-height full-width",t.style])},[(0,o.createVNode)(de,{class:"body-items column-block full-width full-height",items:e.lists[t.key],"item-size":41/1080*e.windowHeight,emitUpdate:!0,"key-field":"id"},{default:(0,o.withCtx)((({item:a})=>[(0,o.createElementVNode)("div",{class:"row-container align-center full-width",onClick:o=>e.changePosition(t.style,a)},[(0,o.createElementVNode)("div",oe,(0,o.toDisplayString)(e.lists[t.key].indexOf(a)+1),1),(0,o.createElementVNode)("div",ie,(0,o.toDisplayString)(a.login),1),(0,o.createElementVNode)("div",le,(0,o.toDisplayString)(a.uid),1),(0,o.createElementVNode)("div",ne,(0,o.toDisplayString)(a.rank),1),(0,o.createElementVNode)("div",re,(0,o.toDisplayString)("boolean"==typeof a.status?a.status?e.$t("cef.ipad.org.captureMap.in-game"):e.$t("cef.ipad.org.captureMap.not-in-game"):a.status),1),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)([{active:"boolean"==typeof a.status&&a.status},"is-online"])},null,2),(0,o.createElementVNode)("div",se,[(0,o.createVNode)(ce,{class:"move-to__picture",path:"icons/ipad/apps/organizations/captureMap/arrows.svg"})])],8,ae)])),_:2},1032,["items","item-size"])],2)])])))),256))],2)])],6)}var de=a(33907),me=a(81657),pe=a(6160),ue=a(18092),he=a(62238),ge=a(39319),fe=a(15278),ye=a(91738);const ke=(e,t)=>{let a=35;return 2==e&&1==t?a=50:2==e&&(a=40),a};var ve={name:"set-capture",mixins:[ue.Z,pe.Z,ye.Z],components:{Selector:me.Z,pageHeader:he.Z},props:["currentZone","data"],tables:[{title:"cef.ipad.org.captureMap.org-members",hint:"cef.ipad.org.captureMap.click-to-add",style:"green",key:"membersList"},{title:"cef.ipad.org.captureMap.capture-participants",hint:"cef.ipad.org.captureMap.click-to-delete",style:"red",key:"selectedPlayers"}],MOVE_TIME:[60,180,300,600,-60,-180,-300,-600],mounted(){const e=this.$dayjs().add(30,"minutes");this.hours=e.hour(),this.minutes=e.minute();const t=this.isFamily?ke(this.currentZone.data.familyData.type,this.currentZone.data.familyData.subType):10;this.participants=this.editingActionData?this.editingActionData.peopleCount:t,this.calibresRange.max=this.calibresList.length,this.membersList=[],this.selectedPlayers=[],this.fetchCaptureData(this.currentZone.id);{let e=JSON.parse(JSON.stringify(this.members)),t=this.selectedPlayers;this.editingActionData&&this.editingActionData.selectedPlayers&&(t=e.filter((e=>this.editingActionData.selectedPlayers.find((t=>t===e.id)))),e=e.filter((e=>!this.editingActionData.selectedPlayers.find((t=>t===e.id))))),this.membersList=e,this.selectedPlayers=t}this.editingActionData&&(this.secondInterval=setInterval(this.onSecond,1e3),this.onSecond())},beforeUnmount(){clearInterval(this.secondInterval)},data(){return{hours:0,minutes:0,participants:0,calibres:0,selectedPlayers:[],membersList:[],hoursRange:{min:0,max:24,step:1},minutesRange:{min:0,max:60,step:5},participantsRange:{min:1,max:50,step:1},calibresRange:{min:0,max:0,step:1},filters:{membersList:"",selectedPlayers:""},secondInterval:-1,additionalTime:0,editingStartTimeSeconds:0,editingStartTimeAddSeconds:0}},computed:{...(0,de.rn)({organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],calibresList:e=>e.ipad.organization.captureMap.calibres,orgMembers:e=>e.ipad.organization.captureMap.orgMembers,members:e=>e.ipad.organization.captureMap.members,editingActionData:e=>e.ipad.organization.captureMap.editingActionData,maxDelayCaptureMinutes:e=>e.ipad.organization.captureMap.maxDelayCaptureMinutes,playerFactionId:e=>e.ipad.member,playerFamilyId:e=>e.ipad.family,isFamily:e=>e.ipad.organization.captureMap.isFamily}),isNavAvailable(){return!this.isEditing||this.editingActionData&&(!this.isFamily&&this.playerFactionId===this.editingActionData.attackerId||this.isFamily&&this.playerFamilyId===this.editingActionData.attackerId)},isEditingAviable(){return this.isEditing&&this.editingActionData&&(!this.isFamily&&this.playerFactionId===this.editingActionData.attackerId||this.isFamily&&this.playerFamilyId===this.editingActionData.attackerId)},lists(){return{membersList:this.membersListSorted.filter((e=>!this.filters.membersList.length||e.login.toLowerCase().includes(this.filters.membersList.toLowerCase()))),selectedPlayers:this.selectedPlayersSorted.filter((e=>!this.filters.selectedPlayers.length||e.login.toLowerCase().includes(this.filters.selectedPlayers.toLowerCase())))}},zoneColor(){const e=this.currentZone.data.zoneColor;return`rgba(${e[0]}, ${e[1]}, ${e[2]}, 0.5)`},zoneBorderColor(){const e=this.currentZone.data.zoneColor;return`rgba(${e[0]}, ${e[1]}, ${e[2]}, 0.9)`},zoneTextColor(){const{textColor:e}=this.currentZone.data;return`rgb(${e[0]}, ${e[1]}, ${e[2]})`},isEditing(){return this.editingActionData&&this.data.editMode},currentAdditionalTime(){if(!this.editingActionData||!this.data.editMode)return 0;const{attackerId:e,attackerAdditionalTime:t,defenderAdditionalTime:a}=this.editingActionData,o=e===this.playerFactionId?t:a;return o/1e3+this.additionalTime},freeAdditionalTime(){if(!this.editingActionData||!this.data.editMode)return 0;const{attackerId:e,attackerAdditionalTime:t,defenderAdditionalTime:a}=this.editingActionData,o=e===this.playerFactionId?t:a;return 60*this.maxDelayCaptureMinutes-o/1e3-this.additionalTime},membersListSorted(){const e=[],t=[];for(const a of this.membersList)"boolean"==typeof a.status&&a.status?e.push(a):t.push(a);return[...e.sort(((e,t)=>t.rank-e.rank)),...t.sort(((e,t)=>t.rank-e.rank))]},selectedPlayersSorted(){const e=[],t=[];for(const a of this.selectedPlayers)"boolean"==typeof a.status&&a.status?e.push(a):t.push(a);return[...e.sort(((e,t)=>t.rank-e.rank)),...t.sort(((e,t)=>t.rank-e.rank))]}},methods:{...(0,de.nv)({fetchCaptureData:"ipad/organization/captureMap/fetchCaptureData"}),getFactionName:ge.V,secondsToHms:fe.q,onSecond(){if(!this.editingActionData)return;const{startTime:e}=this.editingActionData,t=Math.floor((e-Date.now())/1e3);this.editingStartTimeSeconds=t},clickPlanAttack(){this.selectedPlayers.length&&(mp.trigger2("ipad.organization.captureMap.planAttack",this.currentZone.id,this.hours,this.minutes,this.participants,this.calibres,JSON.stringify(this.selectedPlayers.map((e=>e.id))),this.isFamily),this.$emit("back"))},clickSaveEditAttack(){this.selectedPlayers.length&&(mp.trigger2("ipad.organization.captureMap.saveEditedAttack",this.currentZone.id,this.additionalTime,JSON.stringify(this.selectedPlayers.map((e=>e.id))),this.isFamily),this.$emit("back"))},changePosition(e,t){switch(e){case"green":if(this.selectedPlayers.length>=this.participants)return;this.membersList=this.membersList.filter((e=>e!==t)),this.selectedPlayers.push({...t});break;case"red":this.selectedPlayers=this.selectedPlayers.filter((e=>e!==t)),this.membersList.push({...t});break}},addAdditionalTime(e){if(!this.editingActionData||!this.data.editMode)return;this.additionalTime+=e;const{attackerId:t,attackerAdditionalTime:a,defenderAdditionalTime:o}=this.editingActionData,i=t===this.playerFactionId?a:o,l=60*this.maxDelayCaptureMinutes-i/1e3;this.additionalTime=(0,fe.u)(this.additionalTime,0,l)},getFamilyName(){return 1==this.currentZone.data.familyName?"Neutral":this.currentZone.data.familyName}},watch:{members(){let e=JSON.parse(JSON.stringify(this.members)),t=this.selectedPlayers;this.editingActionData&&this.editingActionData.selectedPlayers&&(t=e.filter((e=>this.editingActionData.selectedPlayers.find((t=>t===e.id)))),e=e.filter((e=>!this.editingActionData.selectedPlayers.find((t=>t===e.id))))),this.membersList=e,this.selectedPlayers=t},participants(){const e=[],t=[];for(let a=0;a<this.selectedPlayers.length;a++)a>=this.participants?t.push(this.selectedPlayers[a]):e.push(this.selectedPlayers[a]);this.selectedPlayers=e,this.membersList=[...this.membersList,...t]},editingActionData(){let e=JSON.parse(JSON.stringify(this.members));const t=this.isFamily?ke(this.currentZone.data.familyData.type,this.currentZone.data.familyData.subType):10;this.participants=this.editingActionData?this.editingActionData.peopleCount:t;let a=[];this.editingActionData&&this.editingActionData.selectedPlayers&&(a=e.filter((e=>this.editingActionData.selectedPlayers.find((t=>t===e.id)))),e=e.filter((e=>!this.editingActionData.selectedPlayers.find((t=>t===e.id))))),this.membersList=e,this.selectedPlayers=a,this.editingActionData&&(this.secondInterval=setInterval(this.onSecond,1e3),this.onSecond())}}},be=a(83744);const Ne=(0,be.Z)(ve,[["render",ce],["__scopeId","data-v-117a42b8"]]);var Ve=Ne},46138:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return $M}});var o=a(78221);const i=e=>((0,o.pushScopeId)("data-v-15f9b6b6"),e=e(),(0,o.popScopeId)(),e),l={key:0},n={class:"container row-block align-center justify-between full-width"},r={class:"row-block align-center"},s={key:1,class:"balance row-block align-center"},c=i((()=>(0,o.createElementVNode)("span",{class:"dollar"},"$",-1))),d={key:2,class:"deliveries-balance column-block"},m={class:"deliveries-balance__value"},p={class:"deliveries-balance__title"},u={key:4,class:"cameras"},h={class:"cameras__text"},g={key:1,class:"quantities column-block"},f={class:"quantity row-block align-center justify-start"},y={class:"quantity__title"},k={key:2,class:"filters members column-block align-start justify-center"},v={key:0,class:"row-block align-center justify-start text"},b={class:"value days"},N={class:"value days"},V={key:1,class:"row-block align-center justify-start text"},w={class:"value count"},E={key:2,class:"row-block align-center justify-start text"},S={class:"value count"},C={key:3,class:"filters database row-block"},_={class:"filter__text"},$={class:"filter__text"},D={class:"filter__text"},B={key:3,class:"row-block stars"},x={key:4,class:"filters blacklist row-block"},z={class:"filter__text"},M={class:"filter__text"},L={class:"filter__text"},T={key:5,class:"filters store row-block"},I={class:"filter__text"},F={class:"filter__text"},P={key:6,class:"filters balance row-block"},A={class:"filter__text"},R={class:"filter__text"},O={key:7,class:"filters bonuses row-block"},j={class:"filter__text"},Z={key:8,class:"filters financing row-block"},U={class:"filter__text"},H={class:"filter__text"},G={class:"filter__text"},q={key:9,class:"filters dispatcher row-block"},W={class:"filter__text"},Y={class:"filter__text"},K={class:"filter__text"},X={class:"filter__text"},J={key:10,class:"filters news row-block"},Q={class:"filter__text"},ee={class:"filter__text"},te={key:11,class:"filters legistative row-block"},ae={class:"filter__text"},oe={key:12,class:"filters deliveries row-block"},ie={class:"filter__text"},le={class:"filter__text"},ne={key:0,class:"filters access row-block"},re={class:"filter__text"},se={class:"filter__text"},ce={class:"filter__text"},de={class:"filter__text"},me={class:"filter__text"},pe={key:14,class:"family-data column-block"},ue={class:"money row-block align-center"},he={class:"money__value"},ge={class:"respect__value"},fe={class:"respect__correlation__title"},ye={class:"filter__text"},ke={key:16,class:"calls-categories row-block align-center"},ve={class:"call-button__text"},be={class:"player-info align-center row-block"},Ne={class:"player-status column-block align-end"},Ve={class:"player-status__text-nickname"},we={class:"player-status__text-status"},Ee={key:0,class:"line full-width"},Se={key:1,class:"deliveries-page-map-navbar row-block align-center justify-start"},Ce={class:"deliveries-balance"},_e=i((()=>(0,o.createElementVNode)("span",{class:"dollar"},"$",-1))),$e={class:"value"},De={key:0,class:"modal-window full-width full-height"},Be={key:"frozen",class:"column-block align-center"},xe={class:"modal-viewbox__title"},ze={class:"modal-viewbox__subtitle"},Me={class:"modal-viewbox__text first-text"},Le={class:"modal-viewbox__text"},Te={class:"timer column-block align-center justify-center full-width column-block"},Ie={class:"timer__value"},Fe={class:"timer__title"},Pe={class:"control-buttons full-width justify-between row-block"},Ae={key:"hand-over-house",class:"column-block align-center full-height justify-center"},Re={class:"modal-viewbox__title"},Oe={class:"modal-viewbox__text first-text"},je={class:"modal-viewbox__text first-text"},Ze={class:"control-buttons full-width justify-between row-block"};function Ue(e,t){const a=(0,o.resolveComponent)("SVGComponent");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"organization-main column-block full-width full-height"]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`,"background-color":e.organizationColorSchema.backgroundColor,"--background":`${e.organizationColorSchema.backgroundColor}`,"--main-text-color":`${e.getCorrectContrastingFontColor(e.organizationColorSchema.main,"#fbfbfb","#060606")}`})},["captureMap-page"!==e.page&&"map"!==e.deliveriesPage?((0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createElementVNode)("div",{onClick:t[0]||(t[0]=(...t)=>e.closeApp&&e.closeApp(...t)),class:"organization-main__picture-close row-block align-center justify-center"},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/close.svg"})]),(0,o.createElementVNode)("nav",{class:(0,o.normalizeClass)(["navbar align-center",{gradiented:"perkTree"===e.iconPage}])},[(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("div",r,[null!=e.additionalTitle?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,onClick:t[1]||(t[1]=(...t)=>e.back&&e.back(...t)),class:"back align-center justify-center"},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/back.svg",class:"back__picture"})])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["title-block align-center row-block",{reversed:["hub","balance"].includes(e.iconPage)}])},[["balance"].includes(e.iconPage)?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:(0,o.normalizeClass)(["title-block__text",{"small-text":"database-player-page"===e.page}])},(0,o.toDisplayString)(e.$t(e.unescapeString(e.additionalTitle)||e.unescapeString(e.title))),3)),"balance"===e.iconPage?((0,o.openBlock)(),(0,o.createElementBlock)("div",s,[(0,o.createElementVNode)("span",null,[c,(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.$n(e.balance/100,"any-number-decimal")),1)]),(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/balance/vault.svg"})])):"deliveries"===e.iconPage?((0,o.openBlock)(),(0,o.createElementBlock)("div",d,[(0,o.createElementVNode)("span",m,(0,o.toDisplayString)(e.$n(e.balance/100,"game-currency-decimal")),1),(0,o.createElementVNode)("span",p,(0,o.toDisplayString)(e.$t("cef.ipad.org.org-balance")),1)])):"balance"!==e.iconPage&&"database-player-page"!==e.page?((0,o.openBlock)(),(0,o.createBlock)(a,{key:3,path:`icons/ipad/apps/organizations/hub/${e.iconPage}.svg`,class:(0,o.normalizeClass)(["title-block__picture",{access:"access"===e.iconPage}])},null,8,["path","class"])):(0,o.createCommentVNode)("",!0),["cameras"].includes(e.iconPage)?((0,o.openBlock)(),(0,o.createElementBlock)("div",u,[(0,o.createElementVNode)("span",h,(0,o.toDisplayString)(e.$t("cef.ipad.org.dmv.installed-cameras",{count:e.installedCameras,total:e.cameras.length})),1)])):(0,o.createCommentVNode)("",!0)],2),["store-page"].includes(e.page)&&"family"!==e.openedApp?((0,o.openBlock)(),(0,o.createElementBlock)("div",g,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(Object.keys(e.materials),(t=>((0,o.openBlock)(),(0,o.createElementBlock)("div",f,[(0,o.createVNode)(a,{class:"quantity__picture",path:`icons/ipad/apps/organizations/deliveries/materials-${t}.svg`},null,8,["path"]),(0,o.createElementVNode)("span",y,(0,o.toDisplayString)(e.$n(e.materials[t],"any-number")),1)])))),256))])):(0,o.createCommentVNode)("",!0),"members"===e.iconPage?((0,o.openBlock)(),(0,o.createElementBlock)("div",k,[e.leaderDate?((0,o.openBlock)(),(0,o.createElementBlock)("div",v,["family"===e.openedApp?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("cef.ipad.org.members.org-created"))+": ",1),(0,o.createElementVNode)("span",b,(0,o.toDisplayString)(e.leaderDays)+" "+(0,o.toDisplayString)(e.$t("cef.ipad.org.members.days-ago")),1),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.leaderDate),1)],64)):((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:1},[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("cef.ipad.org.members.leader-in-position"))+": ",1),(0,o.createElementVNode)("span",N,(0,o.toDisplayString)(e.leaderDays)+" "+(0,o.toDisplayString)(e.$t("cef.ipad.org.members.days")),1),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.$t("cef.ipad.org.members.from"))+" "+(0,o.toDisplayString)(e.leaderDate),1)],64))])):(0,o.createCommentVNode)("",!0),"organization"===e.openedApp?((0,o.openBlock)(),(0,o.createElementBlock)("div",V,[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("cef.ipad.org.members.members-online"))+": ",1),(0,o.createElementVNode)("span",w,(0,o.toDisplayString)(e.onlineCount),1),(0,o.createTextVNode)(" / "+(0,o.toDisplayString)(e.currentCount),1)])):((0,o.openBlock)(),(0,o.createElementBlock)("div",E,[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("cef.ipad.org.members.members-online"))+": ",1),(0,o.createElementVNode)("span",S,(0,o.toDisplayString)(e.onlineCount),1),(0,o.createTextVNode)("/ "+(0,o.toDisplayString)(e.currentCount),1)]))])):(0,o.createCommentVNode)("",!0),"database"===e.iconPage?((0,o.openBlock)(),(0,o.createElementBlock)("div",C,["database-page"===e.page?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:(0,o.normalizeClass)([{selected:"players"===e.databaseCategory},"filter row-block align-center"]),onClick:t[2]||(t[2]=t=>e.setDatabaseCategory("players"))},[(0,o.createVNode)(a,{class:"filter__picture",path:"icons/ipad/apps/organizations/player.svg"}),(0,o.createElementVNode)("span",_,(0,o.toDisplayString)(e.$t("cef.ipad.org.residents")),1)],2)):(0,o.createCommentVNode)("",!0),"database-page"===e.page?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:1,class:(0,o.normalizeClass)([{selected:"vehicles"===e.databaseCategory},"filter row-block align-center"]),onClick:t[3]||(t[3]=t=>e.setDatabaseCategory("vehicles"))},[(0,o.createVNode)(a,{class:"filter__picture",path:"icons/ipad/apps/organizations/vehicles.svg"}),(0,o.createElementVNode)("span",$,(0,o.toDisplayString)(e.$t("cef.ipad.org.vehicle")),1)],2)):(0,o.createCommentVNode)("",!0),"database-page"===e.page?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:2,class:(0,o.normalizeClass)([{selected:"arrests"===e.databaseCategory},"filter row-block align-center"]),onClick:t[4]||(t[4]=t=>e.setDatabaseCategory("arrests"))},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/database-player/arrests.svg",class:"filter__picture"}),(0,o.createElementVNode)("span",D,(0,o.toDisplayString)(e.$t("cef.ipad.org.arrests")),1)],2)):(0,o.createCommentVNode)("",!0),"database-player-page"===e.page?((0,o.openBlock)(),(0,o.createElementBlock)("div",B,[((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(5,(t=>(0,o.createVNode)(a,{class:(0,o.normalizeClass)(["star",{active:t<=e.databaseActivePlayer?.wantedLevel}]),key:`star${t}`,path:"icons/ipad/apps/organizations/star.svg"},null,8,["class"]))),64))])):(0,o.createCommentVNode)("",!0)])):"blacklist"===e.iconPage?((0,o.openBlock)(),(0,o.createElementBlock)("div",x,[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)([{selected:"list"===e.blacklistCategory},"filter row-block align-center"]),onClick:t[5]||(t[5]=t=>e.setBlacklistCategory("list"))},[(0,o.createVNode)(a,{class:"filter__picture",path:"icons/ipad/apps/organizations/calls/available.svg"}),(0,o.createElementVNode)("span",z,(0,o.toDisplayString)(e.$t("cef.ipad.org.blacklist.list")),1)],2),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)([{selected:"logs"===e.blacklistCategory},"filter row-block align-center"]),onClick:t[6]||(t[6]=t=>e.setBlacklistCategory("logs"))},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/calls/history.svg",class:"filter__picture"}),(0,o.createElementVNode)("span",M,(0,o.toDisplayString)(e.$t("cef.ipad.org.blacklist.history")),1)],2),(0,o.createElementVNode)("div",{onClick:t[7]||(t[7]=t=>e.setPageModal("addList","set-blacklist-modal")),class:"filter row-block align-center"},[(0,o.createVNode)(a,{class:"filter__picture",path:"icons/ipad/apps/organizations/balance/create.svg"}),(0,o.createElementVNode)("span",L,(0,o.toDisplayString)(e.$t("cef.ipad.org.blacklist.add-list")),1)])])):"store"===e.iconPage?((0,o.openBlock)(),(0,o.createElementBlock)("div",T,[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)([{selected:"logs"===e.storeCategory},"filter row-block align-center"]),onClick:t[8]||(t[8]=t=>e.setStoreCategory("logs"))},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/store/log.svg",class:"filter__picture"}),(0,o.createElementVNode)("span",I,(0,o.toDisplayString)(e.$t("cef.ipad.org.actions-log")),1)],2),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)([{selected:"equipment"===e.storeCategory},"filter row-block align-center"]),onClick:t[9]||(t[9]=t=>e.setStoreCategory("equipment"))},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/store/warehouse.svg",class:"filter__picture"}),(0,o.createElementVNode)("span",F,(0,o.toDisplayString)(e.$t("cef.ipad.org.warehouse-log")),1)],2)])):"balance"===e.iconPage?((0,o.openBlock)(),(0,o.createElementBlock)("div",P,[(0,o.createElementVNode)("div",{onClick:t[10]||(t[10]=t=>e.setPageModal("replenish","set-balance-modal")),class:"filter row-block align-center"},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/balance/create.svg",class:"filter__picture"}),(0,o.createElementVNode)("span",A,(0,o.toDisplayString)(e.$t("cef.ipad.org.replenish")),1)]),(0,o.createElementVNode)("div",{onClick:t[11]||(t[11]=t=>e.setPageModal("withdraw","set-balance-modal")),class:"filter row-block align-center"},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/balance/minus.svg",class:"filter__picture"}),(0,o.createElementVNode)("span",R,(0,o.toDisplayString)(e.$t("cef.ipad.org.withdraw")),1)])])):"bonuses"===e.iconPage?((0,o.openBlock)(),(0,o.createElementBlock)("div",O,[(0,o.createElementVNode)("div",{onClick:t[12]||(t[12]=t=>e.setPageModal(!0,"set-bonuses-modal")),class:"filter row-block align-center"},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/balance/create.svg",class:"filter__picture"}),(0,o.createElementVNode)("span",j,(0,o.toDisplayString)(e.$t("cef.ipad.org.bonuses.modal.give-bonus-all")),1)])])):"financing"===e.iconPage?((0,o.openBlock)(),(0,o.createElementBlock)("div",Z,[(0,o.createElementVNode)("div",{onClick:t[13]||(t[13]=t=>e.setFinancingPage("organizations")),class:(0,o.normalizeClass)([{selected:"organizations"===e.financingPage},"filter row-block align-center"])},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/financing/organizations.svg",class:"filter__picture"}),(0,o.createElementVNode)("span",U,(0,o.toDisplayString)(e.$t("cef.ipad.org.organizations")),1)],2),(0,o.createElementVNode)("div",{onClick:t[14]||(t[14]=t=>e.setFinancingPage("transactions")),class:(0,o.normalizeClass)([{selected:"transactions"===e.financingPage},"filter row-block align-center"])},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/financing/transactions.svg",class:"filter__picture"}),(0,o.createElementVNode)("span",H,(0,o.toDisplayString)(e.$t("cef.ipad.org.transactions")),1)],2),(0,o.createElementVNode)("div",{onClick:t[15]||(t[15]=t=>e.setFinancingPage("bonuses")),class:(0,o.normalizeClass)([{selected:"bonuses"===e.financingPage},"filter row-block align-center"])},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/financing/bonuses.svg",class:"filter__picture"}),(0,o.createElementVNode)("span",G,(0,o.toDisplayString)(e.$t("cef.ipad.org.bonuses-title")),1)],2)])):"dispatcher"===e.iconPage?((0,o.openBlock)(),(0,o.createElementBlock)("div",q,[(0,o.createElementVNode)("div",{onClick:t[16]||(t[16]=t=>e.setDispatcherPage("calls")),class:(0,o.normalizeClass)([{selected:"calls"===e.dispatcherPage},"filter row-block align-center"])},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/dispatcher/call-list.svg",class:"filter__picture"}),(0,o.createElementVNode)("span",W,(0,o.toDisplayString)(e.$t("cef.ipad.org.blackboard")),1)],2),(0,o.createElementVNode)("div",{onClick:t[17]||(t[17]=t=>e.setPageModal("create-call","set-dispatcher-modal")),class:"filter row-block align-center"},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/balance/create.svg",class:"filter__picture"}),(0,o.createElementVNode)("span",Y,(0,o.toDisplayString)(e.$t("cef.ipad.org.create")),1)]),(0,o.createElementVNode)("div",{onClick:t[18]||(t[18]=t=>e.setDispatcherPage("history")),class:(0,o.normalizeClass)([{selected:"history"===e.dispatcherPage},"filter row-block align-center"])},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/financing/transactions.svg",class:"filter__picture"}),(0,o.createElementVNode)("span",K,(0,o.toDisplayString)(e.$t("cef.ipad.org.history")),1)],2),(0,o.createElementVNode)("div",{onClick:t[19]||(t[19]=t=>e.setDispatcherPage("codes")),class:(0,o.normalizeClass)([{selected:"codes"===e.dispatcherPage},"filter row-block align-center"])},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/dispatcher/codes.svg",class:"filter__picture"}),(0,o.createElementVNode)("span",X,(0,o.toDisplayString)(e.$t("cef.ipad.org.codes")),1)],2)])):"news"===e.iconPage?((0,o.openBlock)(),(0,o.createElementBlock)("div",J,[(0,o.createElementVNode)("div",{onClick:t[20]||(t[20]=t=>e.setPageModal("create","set-news-modal")),class:"filter row-block align-center"},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/balance/create.svg",class:"filter__picture"}),(0,o.createElementVNode)("span",Q,(0,o.toDisplayString)(e.$t("cef.ipad.org.create-ad")),1)]),(0,o.createElementVNode)("div",{onClick:t[21]||(t[21]=t=>e.setNewsPage("history")),class:(0,o.normalizeClass)([{selected:"history"===e.newsPage},"filter row-block align-center"])},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/financing/transactions.svg",class:"filter__picture"}),(0,o.createElementVNode)("span",ee,(0,o.toDisplayString)(e.$t("cef.ipad.org.history")),1)],2)])):"Laws"===e.iconPage?((0,o.openBlock)(),(0,o.createElementBlock)("div",te,[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)([{selected:"moderation"===e.lawsPage},"filter row-block align-center"]),onClick:t[22]||(t[22]=t=>e.setLawsPage("moderation"))},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/laws/moderation.svg",class:"filter__picture"}),(0,o.createElementVNode)("span",ae,(0,o.toDisplayString)(e.$t("cef.ipad.org.moderation")),1)],2)])):"deliveries"===e.iconPage?((0,o.openBlock)(),(0,o.createElementBlock)("div",oe,[4!=e.member?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,onClick:t[23]||(t[23]=t=>e.setPageModal("createModal","set-deliveries-modal")),class:"filter row-block align-center"},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/balance/create.svg",class:"filter__picture"}),(0,o.createElementVNode)("span",ie,(0,o.toDisplayString)(e.$t("cef.ipad.org.deliveries.create-order")),1)])):(0,o.createCommentVNode)("",!0),4==e.member?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:1,class:(0,o.normalizeClass)([{selected:"map"===e.deliveriesPage},"filter row-block align-center"]),onClick:t[24]||(t[24]=t=>e.setDeliveriesPage("map"))},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/deliveries/map.svg",class:"filter__picture"}),(0,o.createElementVNode)("span",le,(0,o.toDisplayString)(e.$t("cef.ipad.org.map")),1)],2)):(0,o.createCommentVNode)("",!0)])):"access"===e.iconPage?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:13},[e.accessUpgradeProperty?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",ne,[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)([{selected:"ranks"===e.accessPage},"filter row-block align-center"]),onClick:t[25]||(t[25]=t=>e.setAccessPage("ranks"))},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/access/ranks.svg",class:"filter__picture"}),(0,o.createElementVNode)("span",re,(0,o.toDisplayString)(e.$t("cef.ipad.org.position")),1)],2),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)([{selected:"craft"===e.accessPage},"filter row-block align-center"]),onClick:t[26]||(t[26]=t=>e.setAccessPage("craft"))},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/access/craft.svg",class:"filter__picture"}),(0,o.createElementVNode)("span",se,(0,o.toDisplayString)(e.$t("cef.ipad.org.items")),1)],2),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)([{selected:"vehicle"===e.accessPage},"filter row-block align-center"]),onClick:t[27]||(t[27]=t=>e.setAccessPage("vehicle"))},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/access/vehicle.svg",class:"filter__picture"}),(0,o.createElementVNode)("span",ce,(0,o.toDisplayString)(e.$t("cef.ipad.org.vehicle")),1)],2),"family"===e.openedApp?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:(0,o.normalizeClass)([{selected:"property"===e.accessPage},"filter row-block align-center"]),onClick:t[28]||(t[28]=t=>e.setAccessPage("property"))},[(0,o.createVNode)(a,{class:"filter__picture",path:"icons/ipad/apps/organizations/access/property.svg"}),(0,o.createElementVNode)("span",de,(0,o.toDisplayString)(e.$t("cef.ipad.org.property")),1)],2)):(0,o.createCommentVNode)("",!0),e.fractionKits?.length>0?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:1,class:(0,o.normalizeClass)([{selected:"kits"===e.accessPage},"filter row-block align-center"]),onClick:t[29]||(t[29]=t=>e.setAccessPage("kits"))},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/access/kits.svg",class:"filter__picture"}),(0,o.createElementVNode)("span",me,(0,o.toDisplayString)(e.$t("cef.ipad.org.kits")),1)],2)):(0,o.createCommentVNode)("",!0)]))],64)):"contracts"===e.iconPage||"perkTree"===e.iconPage?((0,o.openBlock)(),(0,o.createElementBlock)("div",pe,[(0,o.createElementVNode)("div",ue,[(0,o.createVNode)(a,{class:"money__picture",path:"icons/ipad/apps/organizations/contracts/money.svg"}),(0,o.createElementVNode)("span",he,(0,o.toDisplayString)(e.$n(e.balance/100,"any-number-decimal")),1)]),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["respect row-block align-center",e.reputation>0?"legal":e.reputation<0?"illegal":"neutral"])},[(0,o.createVNode)(a,{class:"respect__picture",path:`icons/ipad/apps/organizations/contracts/${e.reputation>0?"legal":e.reputation<0?"illegal":"neutral"}.svg`},null,8,["path"]),(0,o.createElementVNode)("span",ge,(0,o.toDisplayString)(e.$n(Math.abs(e.reputation),"any-number")),1),e.reputation>0?((0,o.openBlock)(),(0,o.createBlock)(a,{key:0,path:"icons/ipad/apps/organizations/contracts/plus.svg",class:"respect__correlation plus"})):e.reputation<0?((0,o.openBlock)(),(0,o.createBlock)(a,{key:1,path:"icons/ipad/apps/organizations/contracts/minus.svg",class:"respect__correlation minus"})):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("span",fe,"( "+(0,o.toDisplayString)(e.$t("cef.ipad.org.contracts."+(e.reputation>0?"legal":e.reputation<0?"illegal":"neutral")))+" )",1)],2)])):(0,o.createCommentVNode)("",!0),"perkTree-page"===e.page&&(0>e.reputation||0<e.reputation)?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:15,class:"filter row-block align-center filter__left",onClick:t[30]||(t[30]=t=>e.swapReputation(e.reputation))},[(0,o.createVNode)(a,{class:"filter__picture",path:`icons/ipad/apps/organizations/contracts/${e.reputation<0?"legal":e.reputation>0?"illegal":"neutral"}.svg`},null,8,["path"]),(0,o.createElementVNode)("span",ye,(0,o.toDisplayString)(e.$t("cef.ipad.org.swapReputation")),1)])):"calls"===e.iconPage?((0,o.openBlock)(),(0,o.createElementBlock)("div",ke,[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["call-button row-block align-center",{selected:"available"===e.callsPage}]),onClick:t[31]||(t[31]=t=>e.setCallsPage("available"))},[(0,o.createVNode)(a,{class:"call-button__picture",path:"icons/ipad/apps/organizations/calls/available.svg"}),(0,o.createElementVNode)("span",ve,(0,o.toDisplayString)(e.$t("cef.ipad.org.calls.available")),1)],2)])):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("div",be,[(0,o.createElementVNode)("div",Ne,[(0,o.createElementVNode)("div",Ve,(0,o.toDisplayString)(e.login),1),(0,o.createElementVNode)("div",we,(0,o.toDisplayString)(e.rankName),1)]),e.organizationColorSchema.logo?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:"player-info__picture",style:(0,o.normalizeStyle)({"background-image":`url(${e.organizationColorSchema.logo})`})},null,4)):((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:1,style:(0,o.normalizeStyle)({"background-image":`url(${e.cdn}/img/ipad/apps/organizations/family.svg)`}),class:"player-info__picture"},null,4))])]),e.isLoading?((0,o.openBlock)(),(0,o.createElementBlock)("div",Ee)):(0,o.createCommentVNode)("",!0),e.isLoading?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:1,class:(0,o.normalizeClass)(["filled-line",{loading:e.isLoading}])},null,2)):(0,o.createCommentVNode)("",!0)],2)])):(0,o.createCommentVNode)("",!0),"map"===e.deliveriesPage?((0,o.openBlock)(),(0,o.createElementBlock)("div",Se,[(0,o.createElementVNode)("div",{onClick:t[32]||(t[32]=t=>e.setDeliveriesPage("orders")),class:"back map align-center justify-center"},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/back.svg",class:"back__picture"})]),(0,o.createElementVNode)("div",Ce,[_e,(0,o.createElementVNode)("span",$e,(0,o.toDisplayString)(e.$n(e.balance/100,"any-number-decimal")),1)])])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(o.Transition,{name:"local-fade",mode:"out-in",appear:""},{default:(0,o.withCtx)((()=>[((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)(e.page),{key:e.page,class:"full-width full-height"}))])),_:1}),(0,o.createVNode)(o.Transition,{name:"local-fade",appear:""},{default:(0,o.withCtx)((()=>[e.modal||"family"===e.openedApp&&e.familyFrozen&&!e.closed?((0,o.openBlock)(),(0,o.createElementBlock)("div",De,[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["modal-viewbox column-block",e.modalHeightType])},[(0,o.createElementVNode)("div",{onClick:t[33]||(t[33]=t=>e.setClosed()),class:"close-block"},[(0,o.createVNode)(a,{path:"icons/global/cross.svg"})]),(0,o.createVNode)(o.Transition,{name:"local-fade",appear:"",mode:"out-in",onBeforeEnter:e.transitionComplete},{default:(0,o.withCtx)((()=>["family"===e.openedApp&&e.familyFrozen&&"hand-over-house"!==e.modal?((0,o.openBlock)(),(0,o.createElementBlock)("div",Be,[(0,o.createElementVNode)("span",xe,(0,o.toDisplayString)(e.$t("cef.ipad.org.warning")),1),(0,o.createElementVNode)("span",ze,(0,o.toDisplayString)(e.$t("cef.ipad.org.org-frozen")),1),(0,o.createElementVNode)("span",Me,(0,o.toDisplayString)(e.$t("cef.ipad.org.warning-text.0")),1),(0,o.createElementVNode)("span",Le,(0,o.toDisplayString)(e.$t("cef.ipad.org.warning-text.1")),1),(0,o.createElementVNode)("div",Te,[(0,o.createElementVNode)("span",Ie,(0,o.toDisplayString)(e.familyRemovedDate),1),(0,o.createElementVNode)("span",Fe,(0,o.toDisplayString)(e.$t("cef.ipad.org.deleting-date")),1)]),(0,o.createElementVNode)("div",Pe,[(0,o.createElementVNode)("div",{class:"control-button full-width full-height",onClick:t[34]||(t[34]=t=>e.setModal("hand-over-house"))},(0,o.toDisplayString)(e.$t("cef.ipad.org.set-house")),1),(0,o.createElementVNode)("div",{class:"control-button full-width full-height",onClick:t[35]||(t[35]=t=>e.removeFamily())},(0,o.toDisplayString)(e.$t("cef.ipad.org.delete-org")),1)])])):"family"===e.openedApp&&"hand-over-house"===e.modal?((0,o.openBlock)(),(0,o.createElementBlock)("div",Ae,[(0,o.createElementVNode)("span",Re,(0,o.toDisplayString)(e.$t("cef.ipad.org.warning")),1),(0,o.createElementVNode)("span",Oe,(0,o.toDisplayString)(e.$t("cef.ipad.org.hand-over-house-1")),1),(0,o.createElementVNode)("span",je,(0,o.toDisplayString)(e.$t("cef.ipad.org.hand-over-house-2",{royalty:e.royalty})),1),(0,o.createElementVNode)("div",Ze,[(0,o.createElementVNode)("div",{onClick:t[36]||(t[36]=t=>e.setNewFamilyHouse()),class:"control-button full-width full-height"},(0,o.toDisplayString)(e.$t("cef.ipad.org.yes")),1),(0,o.createElementVNode)("div",{onClick:t[37]||(t[37]=t=>e.setModal(null)),class:"control-button full-width full-height"},(0,o.toDisplayString)(e.$t("cef.ipad.org.no")),1)])])):(0,o.createCommentVNode)("",!0)])),_:1},8,["onBeforeEnter"])],2)])):(0,o.createCommentVNode)("",!0)])),_:1})],6)}var He=a(33907),Ge=a(49759),qe=a(53196),We=a(18763);const Ye=["onClick"],Ke={class:"tile-block__text"};function Xe(e,t){const a=(0,o.resolveComponent)("SVGComponent");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"hub-page row-block"]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`,"--main-text-color":`${e.getCorrectContrastingFontColor(e.organizationColorSchema.main,"#fbfbfb","#060606")}`})},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.filteredTiles,(t=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{onClick:a=>{e.openPage({path:t})},class:"tile-block column-block"},[(0,o.createVNode)(a,{class:"tile-block__picture",path:`icons/ipad/apps/organizations/hub/${t}.svg?aaa`},null,8,["path"]),(0,o.createElementVNode)("div",Ke,(0,o.toDisplayString)(e.$t(e.categoryTitles[t])),1)],8,Ye)))),256))],6)}var Je=a(91738),Qe={name:"hub",mixins:[Je.Z],computed:{...(0,He.rn)({totalCount:e=>e.ipad.organization.totalCount,onlineCount:e=>e.ipad.organization.onlineCount,leader:e=>e.ipad.leader,member:e=>e.main.member,organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],categories:e=>e.ipad.organization.categories,categoryTitles:e=>e.ipad.organization.categoryTitles}),filteredTiles(){return this.categories.filter((e=>0===this.leader&&"access"!==e.path||this.leader>0))}},methods:{...(0,He.nv)({openPage:"ipad/organization/openPage"})}},et=a(83744);const tt=(0,et.Z)(Qe,[["render",Xe],["__scopeId","data-v-b72605f0"]]);var at=tt;const ot=e=>((0,o.pushScopeId)("data-v-407ba200"),e=e(),(0,o.popScopeId)(),e),it={key:0,class:"list column-block full-width full-height"},lt={class:"row-block"},nt={class:"search-bar align-center row-reverse-block"},rt=["placeholder"],st={class:"table column-block full-height"},ct={class:"container column-block full-height full-width"},dt={class:"headers row-block full-width"},mt=["onClick"],pt={class:"title-content align-center"},ut={key:0,class:"table-loader full-width"},ht=ot((()=>(0,o.createElementVNode)("div",{class:"loader"},null,-1))),gt=[ht],ft=["onClick"],yt={class:"row-item"},kt={class:"row-item"},vt={class:"row-item"},bt={class:"row-item"},Nt={class:"row-item"},Vt={class:"row-item"},wt={key:1,class:"logs column-block full-width full-height"},Et={class:"row-block"},St={class:"search-bar align-center row-reverse-block"},Ct=["placeholder"],_t={class:"table column-block full-height"},$t={class:"container column-block full-height full-width"},Dt={class:"headers row-block full-width"},Bt=["onClick"],xt={class:"title-content align-center"},zt={key:0,class:"table-loader full-width"},Mt=ot((()=>(0,o.createElementVNode)("div",{class:"loader"},null,-1))),Lt=[Mt],Tt={class:"table-row row-block align-center full-width"},It={class:"row-item"},Ft={class:"row-item"},Pt={class:"row-item"},At={class:"row-item"},Rt={class:"row-item"},Ot={class:"row-item"},jt={class:"row-item"},Zt={class:"modal-viewbox column-block"},Ut={class:"modal-viewbox__title"},Ht={class:"modal-content column-block"},Gt={class:"member column-block"},qt={class:"member__title"},Wt={class:"row-block align-center justify-start"},Yt={class:"member__value"},Kt={class:"member__uid"},Xt={class:"modal-content__title"},Jt=["placeholder","min-height"],Qt={class:"control-buttons row-block full-width justify-between"},ea={class:"modal-viewbox__title"},ta={class:"modal-content column-block"},aa={class:"modal-content__title"},oa=["placeholder"],ia={class:"modal-content__title"},la=["placeholder","min-height"],na={class:"control-buttons row-block full-width justify-between"};function ra(e,t){const a=(0,o.resolveComponent)("SVGComponent"),i=(0,o.resolveComponent)("vue-select"),l=(0,o.resolveComponent)("DynamicScrollerItem"),n=(0,o.resolveComponent)("DynamicScroller");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"blacklist-page full-width full-height"]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`,"--background":`${e.organizationColorSchema.backgroundColor}`})},[e.isLoading?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},["list"===e.blacklistCategory?((0,o.openBlock)(),(0,o.createElementBlock)("div",it,[(0,o.createElementVNode)("header",lt,[(0,o.createElementVNode)("div",nt,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=t=>e.nameFilter=t),placeholder:e.$t("cef.ipad.org.blacklist.enter-login"),class:(0,o.normalizeClass)(["search-bar__input full-height full-width",{notEmpty:e.nameFilter}])},null,10,rt),[[o.vModelText,e.nameFilter,void 0,{trim:!0}]]),(0,o.createVNode)(a,{class:"search-bar__picture",path:"icons/ipad/apps/organizations/search.svg"})]),(0,o.createVNode)(i,{active:0,"item-list":e.filters,bindTitle:"title",class:(0,o.normalizeClass)(["select-menu",{selected:e.actionFilter}]),onSetItem:t[1]||(t[1]=t=>e.setFilterType(t))},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(a,{class:"filter",path:"icons/ipad/apps/organizations/calls/filter.svg"}),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.actionFilter?e.actionFilter.title:e.$t("cef.ipad.org.blacklist.select-action")),1)])),_:1},8,["item-list","class"])]),(0,o.createElementVNode)("div",st,[(0,o.createElementVNode)("div",ct,[(0,o.createElementVNode)("div",dt,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.headers,((t,i)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{onClick:a=>e.sorting(t.path),class:"headers__title align-center"},[(0,o.createElementVNode)("div",pt,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(t.title),1),(0,o.withDirectives)((0,o.createVNode)(a,{class:(0,o.normalizeClass)({selected:e.checkSortIcon()}),path:"icons/global/chevron.svg"},null,8,["class"]),[[o.vShow,e.tempSort&&e.tempSort.path.includes(t.path)]])])],8,mt)))),256)),e.loader?((0,o.openBlock)(),(0,o.createElementBlock)("div",ut,gt)):(0,o.createCommentVNode)("",!0)]),(0,o.createVNode)(n,{class:"table-view full-width full-height column-block",items:e.list,"min-item-size":45/1080*e.windowHeight,emitUpdate:!0,ref:"blacklistListLogs",onScroll:t[2]||(t[2]=t=>e.updateList("blacklistListLogs","list",e.onPageChange,45/1080*e.windowHeight)),"key-field":"id"},{default:(0,o.withCtx)((({item:t,index:a,active:i})=>[(0,o.createVNode)(l,{item:t,active:i,"data-index":a},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",{class:"table-row row-block align-center full-width",onClick:a=>e.openModal("member",t.id)},[(0,o.createElementVNode)("div",yt,(0,o.toDisplayString)(t.enteredLogin),1),(0,o.createElementVNode)("div",kt,(0,o.toDisplayString)(t.enteredUid),1),(0,o.createElementVNode)("div",vt,(0,o.toDisplayString)(t.madeLogin),1),(0,o.createElementVNode)("div",bt,(0,o.toDisplayString)(t.madeUid),1),(0,o.createElementVNode)("div",Nt,(0,o.toDisplayString)(t.reason),1),(0,o.createElementVNode)("div",Vt,(0,o.toDisplayString)(t.date),1)],8,ft)])),_:2},1032,["item","active","data-index"])])),_:1},8,["items","min-item-size"])])])])):(0,o.createCommentVNode)("",!0),"logs"===e.blacklistCategory?((0,o.openBlock)(),(0,o.createElementBlock)("div",wt,[(0,o.createElementVNode)("header",Et,[(0,o.createElementVNode)("div",St,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=t=>e.nameFilter=t),placeholder:e.$t("cef.ipad.org.blacklist.enter-login"),class:(0,o.normalizeClass)(["search-bar__input full-height full-width",{notEmpty:e.nameFilter}])},null,10,Ct),[[o.vModelText,e.nameFilter,void 0,{trim:!0}]]),(0,o.createVNode)(a,{class:"search-bar__picture",path:"icons/ipad/apps/organizations/search.svg"})]),(0,o.createVNode)(i,{active:0,"item-list":e.filters,bindTitle:"title",class:(0,o.normalizeClass)(["select-menu",{selected:e.actionFilter}]),onSetItem:t[4]||(t[4]=t=>e.setFilterType(t))},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(a,{class:"filter",path:"icons/ipad/apps/organizations/calls/filter.svg"}),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.actionFilter?e.actionFilter.title:e.$t("cef.ipad.org.blacklist.select-action")),1)])),_:1},8,["item-list","class"])]),(0,o.createElementVNode)("div",_t,[(0,o.createElementVNode)("div",$t,[(0,o.createElementVNode)("div",Dt,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.headers,((t,i)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{onClick:a=>e.sorting(t.path),class:"headers__title align-center"},[(0,o.createElementVNode)("div",xt,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(t.title),1),(0,o.withDirectives)((0,o.createVNode)(a,{class:(0,o.normalizeClass)({selected:e.checkSortIcon()}),path:"icons/global/chevron.svg"},null,8,["class"]),[[o.vShow,e.tempSort&&e.tempSort.title.includes(t.title)]])])],8,Bt)))),256)),e.loader?((0,o.openBlock)(),(0,o.createElementBlock)("div",zt,Lt)):(0,o.createCommentVNode)("",!0)]),(0,o.createVNode)(n,{class:"table-view full-width full-height column-block",items:e.list,"min-item-size":45/1080*e.windowHeight,emitUpdate:!0,ref:"blacklistListLogs",onScroll:t[5]||(t[5]=t=>e.updateList("blacklistListLogs","list",e.onPageChange,45/1080*e.windowHeight)),"key-field":"id"},{default:(0,o.withCtx)((({item:t,index:a,active:i})=>[(0,o.createVNode)(l,{item:t,active:i,"data-index":a},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",Tt,[(0,o.createElementVNode)("div",It,(0,o.toDisplayString)(t.madeLogin),1),(0,o.createElementVNode)("div",Ft,(0,o.toDisplayString)(t.madeUid),1),(0,o.createElementVNode)("div",Pt,(0,o.toDisplayString)(e.$t(`cef.ipad.org.blacklist.typeOfAction.${t.typeOfAction}`)),1),(0,o.createElementVNode)("div",At,(0,o.toDisplayString)(t.enteredLogin),1),(0,o.createElementVNode)("div",Rt,(0,o.toDisplayString)(t.enteredUid),1),(0,o.createElementVNode)("div",Ot,(0,o.toDisplayString)(t.reason),1),(0,o.createElementVNode)("div",jt,(0,o.toDisplayString)(t.date),1)])])),_:2},1032,["item","active","data-index"])])),_:1},8,["items","min-item-size"])])])])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(o.Transition,{name:"local-fade",appear:""},{default:(0,o.withCtx)((()=>[e.modal?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:"modal-window full-width full-height",onClick:t[19]||(t[19]=(0,o.withModifiers)(((...t)=>e.resetModal&&e.resetModal(...t)),["self"]))},[(0,o.createElementVNode)("div",Zt,["member"===e.modal&&e.openedItem?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createElementVNode)("div",Ut,(0,o.toDisplayString)(e.$t("cef.ipad.org.blacklist.modal.removing-player-from-list")),1),(0,o.createElementVNode)("div",{class:"flex-block close-block",onClick:t[6]||(t[6]=(...t)=>e.resetModal&&e.resetModal(...t))},[(0,o.createVNode)(a,{path:"icons/global/cross.svg"})]),(0,o.createElementVNode)("div",Ht,[(0,o.createElementVNode)("div",Gt,[(0,o.createElementVNode)("div",qt,(0,o.toDisplayString)(e.$t("cef.ipad.org.blacklist.modal.list-member"))+":",1),(0,o.createElementVNode)("div",Wt,[(0,o.createElementVNode)("span",Yt,(0,o.toDisplayString)(e.openedItem.enteredLogin),1),(0,o.createElementVNode)("span",Kt,"#"+(0,o.toDisplayString)(e.openedItem.enteredUid),1)])]),(0,o.createElementVNode)("div",Xt,(0,o.toDisplayString)(e.$t("cef.ipad.org.blacklist.modal.comment")),1),(0,o.withDirectives)((0,o.createElementVNode)("textarea",{placeholder:e.$t("cef.ipad.org.blacklist.modal.leave-comment"),maxlength:"220","onUpdate:modelValue":t[7]||(t[7]=t=>e.reason=t),"min-height":93/1080*e.windowHeight,class:"modal-content__input-reason"},null,8,Jt),[[o.vModelText,e.reason,void 0,{trim:!0}]]),(0,o.createElementVNode)("div",Qt,[(0,o.createElementVNode)("div",{onClick:t[8]||(t[8]=(...t)=>e.action&&e.action(...t)),class:"control-button"},(0,o.toDisplayString)(e.$t("cef.ipad.org.blacklist.modal.removing-from-list")),1),(0,o.createElementVNode)("div",{onClick:t[9]||(t[9]=(...t)=>e.resetModal&&e.resetModal(...t)),class:"control-button"},(0,o.toDisplayString)(e.$t("cef.ipad.org.blacklist.modal.discard")),1)])])],64)):(0,o.createCommentVNode)("",!0),"addList"===e.modal?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:1},[(0,o.createElementVNode)("div",ea,(0,o.toDisplayString)(e.$t("cef.ipad.org.blacklist.modal.add-player-in-list")),1),(0,o.createElementVNode)("div",{class:"flex-block close-block",onClick:t[10]||(t[10]=(...t)=>e.resetModal&&e.resetModal(...t))},[(0,o.createVNode)(a,{path:"icons/global/cross.svg"})]),(0,o.createElementVNode)("div",ta,[(0,o.createElementVNode)("div",aa,(0,o.toDisplayString)(e.$t("cef.ipad.org.blacklist.modal.static-id")),1),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[11]||(t[11]=t=>e.staticId=t),class:"input-block__input",placeholder:e.$t("cef.ipad.org.balance.modal.enter-value"),maxlength:"8",onKeypress:t[12]||(t[12]=(...t)=>e.preventForNumber&&e.preventForNumber(...t)),onCopy:t[13]||(t[13]=(0,o.withModifiers)((()=>{}),["prevent"])),onPaste:t[14]||(t[14]=(0,o.withModifiers)((()=>{}),["prevent"])),onCut:t[15]||(t[15]=(0,o.withModifiers)((()=>{}),["prevent"]))},null,40,oa),[[o.vModelText,e.staticId]]),(0,o.createElementVNode)("div",ia,(0,o.toDisplayString)(e.$t("cef.ipad.org.blacklist.modal.comment")),1),(0,o.withDirectives)((0,o.createElementVNode)("textarea",{placeholder:e.$t("cef.ipad.org.blacklist.modal.leave-comment"),maxlength:"220","onUpdate:modelValue":t[16]||(t[16]=t=>e.reason=t),"min-height":93/1080*e.windowHeight,class:"modal-content__input-reason"},null,8,la),[[o.vModelText,e.reason,void 0,{trim:!0}]]),(0,o.createElementVNode)("div",na,[(0,o.createElementVNode)("div",{onClick:t[17]||(t[17]=(...t)=>e.action&&e.action(...t)),class:"control-button"},(0,o.toDisplayString)(e.$t("cef.ipad.org.blacklist.modal.adding-in-list")),1),(0,o.createElementVNode)("div",{onClick:t[18]||(t[18]=(...t)=>e.resetModal&&e.resetModal(...t)),class:"control-button"},(0,o.toDisplayString)(e.$t("cef.ipad.org.blacklist.modal.discard")),1)])])],64)):(0,o.createCommentVNode)("",!0)])])):(0,o.createCommentVNode)("",!0)])),_:1})],64))],6)}var sa={methods:{updateList(e,t,a,o=0){const i=`${t}-list-data`;this[i]||(this[i]={}),clearTimeout(this[i].debounce),this.$refs[e]&&this.$refs[e].$el&&this.$refs[e].$el.offsetHeight+this.$refs[e].$el.scrollTop+o>=this.$refs[e].$el.scrollHeight&&(this[i].debounce=setTimeout(a,500))}}},ca=a(6160),da={name:"blacklist",mixins:[ca.Z,sa],components:{VueSelect:We.Z},data(){return{nameFilter:"",actionFilter:null,tempSort:null,pageNumber:1,debounce:null,sort:null,paginationDebounce:null,openedItem:null,staticId:null,reason:"",modal:null}},computed:{...(0,He.rn)({blacklist:e=>e.ipad.organization.blacklist.blacklist,endList:e=>e.ipad.organization.blacklist.endList,organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],blacklistCategory:e=>e.ipad.organization.blacklist.category,loader:e=>e.ipad.organization.blacklist.loader,openedApp:e=>e.ipad.openedApp,isLoading:e=>e.ipad.organization.isLoading}),headers(){switch(this.blacklistCategory){case"list":return[{title:this.$t("cef.ipad.org.blacklist.entered-name"),path:"entered-name"},{title:"UID",path:"entered-uid"},{title:this.$t("cef.ipad.org.blacklist.made-name"),path:"made-name"},{title:"UID",path:"made-uid"},{title:this.$t("cef.ipad.org.blacklist.comment"),path:"comment"},{title:this.$t("cef.ipad.org.blacklist.date"),path:"date"}];case"logs":return[{title:this.$t("cef.ipad.org.blacklist.made-name-logs"),path:"made-name"},{title:"UID",path:"made-uid"},{title:this.$t("cef.ipad.org.blacklist.type-action"),path:"action"},{title:this.$t("cef.ipad.org.blacklist.entered-name-logs"),path:"entered-name"},{title:"UID",path:"entered-uid"},{title:this.$t("cef.ipad.org.blacklist.comment"),path:"comment"},{title:this.$t("cef.ipad.org.blacklist.date"),path:"date"}]}},filters(){switch(this.blacklistCategory){case"list":return[{title:this.$t("cef.ipad.org.blacklist.entered-name"),path:"entered-name"},{title:"UID",path:"entered-uid"},{title:this.$t("cef.ipad.org.blacklist.made-name"),path:"made-name"},{title:"UID",path:"made-uid"},{title:this.$t("cef.ipad.org.blacklist.comment"),path:"comment"},{title:this.$t("cef.ipad.org.blacklist.date"),path:"date"}];case"logs":return[{title:this.$t("cef.ipad.org.blacklist.made-name-logs"),path:"made-name"},{title:"UID",path:"made-uid"},{title:this.$t("cef.ipad.org.blacklist.type-action"),path:"action"},{title:this.$t("cef.ipad.org.blacklist.entered-name-logs"),path:"entered-name"},{title:"UID",path:"entered-uid"},{title:this.$t("cef.ipad.org.blacklist.comment"),path:"comment"},{title:this.$t("cef.ipad.org.blacklist.date"),path:"date"}]}},list(){return this.blacklist[this.blacklistCategory]}},methods:{openModal(e,t){this.modal=e,t&&(this.openedItem=this.list.find((e=>e.id===t)))},resetModal(){this.modal=null,this.openedItem=null,this.staticId=null,this.reason=""},action(){if(!this.reason||this.reason.length<2||this.reason.length>45)this.$store.commit("main/showNotify",{text:this.$t("cef.ipad.org.blacklist.modal.reason-length"),type:"error"});else if("addList"===this.modal){if(!this.staticId)return void this.$store.commit("main/showNotify",{text:this.$t("cef.ipad.org.blacklist.modal.wrong-staticId"),type:"error"});mp.trigger2("ipad.organization.blacklist.addInBlacklist","family"===this.openedApp?"families":"fractions",this.staticId,this.reason,this.blacklistCategory),this.resetModal()}else"member"===this.modal&&(mp.trigger2("ipad.organization.blacklist.removeFromBlacklist","family"===this.openedApp?"families":"fractions",this.openedItem.enteredUid,this.reason),this.resetModal())},onPageChange(){this.paginationDebounce&&this.paginationDebounce>Date.now()/1e3||this.list.length&&(Array.isArray(this.list)&&this.list?.length<50||this.endList||(this.pageNumber++,mp.trigger2(`ipad.organization.blacklist.get${this.blacklistCategory[0].toUpperCase()+this.blacklistCategory.substr(1)}Data`,"family"===this.openedApp?"families":"fractions",this.pageNumber,this.sort,this.selectedFilter?this.selectedFilter.path:null,this.nameFilter),this.$store.commit("ipad/organization/blacklist/setLoader",!0)))},sorting(e){switch(this.tempSort=this.headers.find((t=>t.path===e)),e){case"entered-name":e="from_.login";break;case"entered-uid":e="from_.id";break;case"made-name":e="to_.login";break;case"made-uid":e="to_.id";break;case"action":e="actionCase";break;case"comment":e="fl.reason";break;case"date":e="list"==this.blacklistCategory?"fbl.date":"fl.date";break}if(this.sort){const t=this.sort.split("-");e===t[0]?this.sort=`${e}-${"desc"===t[t.length-1]?"asc":"desc"}`:this.sort=`${e}-desc`}else this.sort=`${e}-desc`;this.pageNumber=1,mp.trigger2(`ipad.organization.blacklist.get${this.blacklistCategory[0].toUpperCase()+this.blacklistCategory.substr(1)}Data`,"family"===this.openedApp?"families":"fractions",this.pageNumber,this.sort,null,null),this.paginationDebounce=Date.now()/1e3+1,this.$store.commit("ipad/organization/blacklist/setLoader",!0)},checkSortIcon(){if(!this.sort)return;const e=this.sort.split("-");return"desc"!==e[e.length-1]},clearSort(){this.tempSort=null,this.sort=null},clearSearchModifiers(){this.pageNumber=1,mp.trigger2(`ipad.organization.blacklist.get${this.blacklistCategory[0].toUpperCase()+this.blacklistCategory.substr(1)}Data`,"family"===this.openedApp?"families":"fractions"),this.paginationDebounce=Date.now()/1e3+1,this.$store.commit("ipad/organization/blacklist/setLoader",!0),this.clearSort()},setFilterType(e){this.actionFilter&&this.actionFilter.path==e.path?this.actionFilter=null:this.actionFilter=e,this.actionFilter?this.nameFilter&&this.nameFilter.length&&(this.clearSort(),this.pageNumber=1,mp.trigger2(`ipad.organization.blacklist.get${this.blacklistCategory[0].toUpperCase()+this.blacklistCategory.substr(1)}Data`,"family"===this.openedApp?"families":"fractions",this.pageNumber,null,this.actionFilter.path,this.nameFilter),this.paginationDebounce=Date.now()/1e3+1,this.$store.commit("ipad/organization/blacklist/setLoader",!0)):this.nameFilter&&this.nameFilter.length&&this.clearSearchModifiers()}},mounted(){qe.TB.$on("set-blacklist-modal",this.openModal)},created(){this.actionFilter=this.filters[0]},beforeUnmount(){qe.TB.$off("set-blacklist-modal",this.openModal)},watch:{nameFilter(e){clearTimeout(this.debounce),this.debounce=setTimeout((()=>{e.length&&this.actionFilter?(this.clearSort(),this.pageNumber=1,mp.trigger2(`ipad.organization.blacklist.get${this.blacklistCategory[0].toUpperCase()+this.blacklistCategory.substr(1)}Data`,"family"===this.openedApp?"families":"fractions",this.pageNumber,null,e,this.actionFilter.path),this.paginationDebounce=Date.now()/1e3+1,this.$store.commit("ipad/organization/blacklist/setLoader",!0)):!e.length&&this.actionFilter&&(this.actionFilter=null,this.clearSearchModifiers())}),1e3)},blacklistCategory(){this.selectedFilter=null,this.search="",this.clearSearchModifiers(),this.actionFilter=this.filters[0]}}};const ma=(0,et.Z)(da,[["render",ra],["__scopeId","data-v-407ba200"]]);var pa=ma;const ua={class:"map"},ha=["viewBox"],ga=(0,o.createStaticVNode)('<defs data-v-7dd5516e><pattern id="smallGrid" width="20" height="20" patternUnits="userSpaceOnUse" data-v-7dd5516e><path class="map-svg__smallGrid" d="M 20 0 L 0 0 0 20" fill="none" stroke-width="1" data-v-7dd5516e></path></pattern><pattern id="grid" width="100" height="100" patternUnits="userSpaceOnUse" patternTransform="translate(-25.5 42.5)" data-v-7dd5516e><rect width="100" height="100" fill="url(#smallGrid)" data-v-7dd5516e></rect><path class="map-svg__grid" d="M 100 0 L 0 0 0 100" fill="none" stroke-width="1" data-v-7dd5516e></path></pattern></defs>',1),fa=["width","height"],ya=["x1","y1","x2","y2"],ka=["x","y","width","height"],va={key:0,class:"map-svg__logo"},ba=["src"],Na=["src"],Va=["onClick"],wa={key:1,class:"map-svg__progress"},Ea=["onClick"],Sa={key:0,class:"modal"},Ca={class:"modal-header"},_a={key:0},$a={class:"modal-content"},Da={class:"modal-content__block modal-description"},Ba={class:"modal-content__block with-header with-margin"},xa={class:"modal-requirements"},za={class:"modal-requirements__item-checkbox"},Ma={class:"modal-requirements__item-content"},La={key:0},Ta={key:1},Ia={key:2},Fa=["onClick"],Pa={key:4},Aa={key:0,class:"modal-content__block with-header with-margin"},Ra={class:"modal-rewards"},Oa={key:0,class:"modal-rewards__item"},ja={class:"modal-rewards__item-content"},Za={key:1},Ua={key:2},Ha={key:0,class:"list-item__value"},Ga={key:1,class:"list-item__value"},qa={key:2,class:"list-item__value"},Wa={class:"modal-purchase"},Ya={key:0,class:"modal-purchase__item left"},Ka={class:"modal-purchase__item-list"},Xa={key:0,class:"modal-purchase__item-main"},Ja={key:1,class:"modal-purchase__item-main"},Qa={key:1,class:"modal-purchase__item right"},eo={class:"modal-purchase__item-main"},to={key:1,class:"modal-buttons"};function ao(e,t){const a=(0,o.resolveComponent)("SVGComponent");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"perkTree-page full-width full-height"]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`,"--background":`${e.organizationColorSchema.backgroundColor}`,"--main-text-color":`${e.getCorrectContrastingFontColor(e.organizationColorSchema.main,"#fbfbfb","#060606")}`,"--main-opacity-color":`${e.getCorrectContrastingFontColor(e.opacityColor,"#fbfbfb","#060606")}`})},[e.isLoading?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createElementVNode)("div",ua,[(0,o.createElementVNode)("div",{class:"map-main",style:(0,o.normalizeStyle)(e.mapMainStyles),onMousedown:t[0]||(t[0]=(...t)=>e.onMainMouseDown&&e.onMainMouseDown(...t)),onWheel:t[1]||(t[1]=(...t)=>e.onMainMouseWheel&&e.onMainMouseWheel(...t))},[((0,o.openBlock)(),(0,o.createElementBlock)("svg",{class:"map-svg",viewBox:`0 0 ${e.treeData.width} ${e.treeData.height}`,xmlns:"http://www.w3.org/2000/svg"},[ga,(0,o.createElementVNode)("rect",{x:"0",y:"0",width:e.treeData.width,height:e.treeData.height,fill:"url(#grid)"},null,8,fa),(0,o.createElementVNode)("g",null,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.treeData.lines,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("line",{class:(0,o.normalizeClass)(["map-svg__line",e.status]),x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,"stroke-width":"2",fill:"none",stroke:"red"},null,10,ya)))),256))]),(0,o.createElementVNode)("g",null,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.treeData.nodes,(t=>((0,o.openBlock)(),(0,o.createElementBlock)("foreignObject",{key:t.id,x:t.x,y:t.y,width:t.width,height:t.height,rx:"5",ry:"3"},[t.isLogo?((0,o.openBlock)(),(0,o.createElementBlock)("div",va,[e.organizationColorSchema.logo?((0,o.openBlock)(),(0,o.createElementBlock)("img",{key:0,src:`${e.organizationColorSchema.logo}`,alt:"logo"},null,8,ba)):((0,o.openBlock)(),(0,o.createElementBlock)("img",{key:1,src:e.getImage("/img/ipad/apps/organizations/family.svg")},null,8,Na))])):((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:1,class:(0,o.normalizeClass)(["map-svg__item",t.status])},[t.title?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:"map-svg__item-main",onClick:a=>e.clickNode(t)},[(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(e.$t(t.title[0],t.title[1])),1)],8,Va)):(0,o.createCommentVNode)("",!0),"progress"==t.status?((0,o.openBlock)(),(0,o.createElementBlock)("div",wa,[(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(e.$t("cef.ipad.org.perkTree.progress")),1),(0,o.createElementVNode)("div",{class:"map-svg__progress-main",onClick:a=>e.clickNode(t)},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/perkTree/timer.svg"}),(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(e.convertTime(t.timeRemaining)),1)],8,Ea)])):(0,o.createCommentVNode)("",!0)],2))],8,ka)))),128))])],8,ha))],36)]),(0,o.createVNode)(o.Transition,{name:"local-fade",mode:"out-in"},{default:(0,o.withCtx)((()=>[e.selectedNode?((0,o.openBlock)(),(0,o.createElementBlock)("div",Sa,[(0,o.createVNode)(o.Transition,{name:"local-fade",mode:"out-in"},{default:(0,o.withCtx)((()=>[((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"modal-main",key:e.selectedNode.id},[(0,o.createElementVNode)("div",Ca,[e.selectedNode.title?((0,o.openBlock)(),(0,o.createElementBlock)("p",_a,(0,o.toDisplayString)(e.$t(e.selectedNode.title[0],e.selectedNode.title[1])),1)):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("button",{class:"modal-header__close",tabindex:"-1",onClick:t[2]||(t[2]=(...t)=>e.closeModal&&e.closeModal(...t))},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/perkTree/close.svg"})])]),(0,o.createElementVNode)("div",$a,[(0,o.createElementVNode)("div",Da,[(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(e.$t(e.selectedNode.description,e.selectedNode.title[1])),1)]),(0,o.createElementVNode)("div",Ba,[(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(e.$t("cef.ipad.org.perkTree.requirenments")),1),(0,o.createElementVNode)("div",xa,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.selectedNode.requirements,(t=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["modal-requirements__item",{completed:t.done}])},[(0,o.createElementVNode)("div",za,[(0,o.withDirectives)((0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/perkTree/mark.svg"},null,512),[[o.vShow,t.done]])]),(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(e.$t("cef.ipad.org.perkTree.requirenment."+t.type))+":",1),(0,o.createElementVNode)("div",Ma,["property"==t.type?((0,o.openBlock)(),(0,o.createElementBlock)("p",La,(0,o.toDisplayString)(e.$t(`cef.ipad.org.perkTree.requirenment.${t.propertyType}`)),1)):["money","members"].includes(t.type)?((0,o.openBlock)(),(0,o.createElementBlock)("p",Ta,[(0,o.createTextVNode)((0,o.toDisplayString)(t.current)+" ",1),(0,o.createElementVNode)("span",null,"/ "+(0,o.toDisplayString)(t.amount),1)])):["reputation","familyLvl"].includes(t.type)?((0,o.openBlock)(),(0,o.createElementBlock)("p",Ia,(0,o.toDisplayString)(t.amount),1)):"perk"==t.type?((0,o.openBlock)(),(0,o.createElementBlock)("p",{key:3,class:"perk",onClick:a=>e.openLinkNode(t.perk)},(0,o.toDisplayString)(e.$t(...e.treeData.nodes.find((e=>e.id===t.perk)).title)),9,Fa)):"item"==t.type?((0,o.openBlock)(),(0,o.createElementBlock)("p",Pa,(0,o.toDisplayString)(e.$t(`items[${t.id}].title`)),1)):(0,o.createCommentVNode)("",!0)])],2)))),256))])]),(e.selectedNode.rewards||[]).length?((0,o.openBlock)(),(0,o.createElementBlock)("div",Aa,[(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(e.$t("cef.ipad.org.contracts.award")),1),(0,o.createElementVNode)("div",Ra,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.selectedNode.rewards,(t=>((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[t.dynamic||"task"===t.amount?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",Oa,[(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(e.$t("family.contracts."+t.type))+":",1),(0,o.createElementVNode)("div",ja,[["money","exp","reputation"].includes(t.type)?((0,o.openBlock)(),(0,o.createBlock)(a,{key:0,path:e.getRewardSignIcon(t)},null,8,["path"])):(0,o.createCommentVNode)("",!0),"task"!==t.amount?((0,o.openBlock)(),(0,o.createElementBlock)("p",Za,(0,o.toDisplayString)(e.getRewardValue(t)),1)):((0,o.openBlock)(),(0,o.createElementBlock)("p",Ua,[e.getContractData(t,"maxCount")&&e.getContractData(t,"minCount")?((0,o.openBlock)(),(0,o.createElementBlock)("span",Ha,(0,o.toDisplayString)(e.getRewardValue([e.getContractData(t,"minCount"),e.getContractData(t,"maxCount")])),1)):e.getContractData(t,"maxCount")?((0,o.openBlock)(),(0,o.createElementBlock)("span",Ga,(0,o.toDisplayString)(e.getRewardValue(e.getContractData(t,"maxCount"))),1)):((0,o.openBlock)(),(0,o.createElementBlock)("span",qa,(0,o.toDisplayString)(e.getRewardValue(e.getContractData(t,"minCount"))),1))])),["money","exp","reputation"].includes(t.type)?((0,o.openBlock)(),(0,o.createBlock)(a,{key:3,path:e.getRewardMainIcon(t)},null,8,["path"])):(0,o.createCommentVNode)("",!0)])]))],64)))),256))])])):(0,o.createCommentVNode)("",!0),(0,o.withDirectives)((0,o.createElementVNode)("div",Wa,[e.selectedNode.price||e.selectedNode.reputationPrice?((0,o.openBlock)(),(0,o.createElementBlock)("div",Ya,[(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(e.$t("cef.ipad.org.perkTree.price")),1),(0,o.createElementVNode)("div",Ka,[e.selectedNode.price?((0,o.openBlock)(),(0,o.createElementBlock)("div",Xa,[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/perkTree/coin.svg"}),(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(e.$n(e.selectedNode.price,"any-number")),1)])):(0,o.createCommentVNode)("",!0),e.selectedNode.reputationPrice?((0,o.openBlock)(),(0,o.createElementBlock)("div",Ja,[["illegalContracts","illegalsidejob"].includes(e.selectedNode.parent)?((0,o.openBlock)(),(0,o.createBlock)(a,{key:0,path:"icons/ipad/apps/organizations/perkTree/illegal.svg"})):"legalContracts"==e.selectedNode.parent?((0,o.openBlock)(),(0,o.createBlock)(a,{key:1,path:"icons/ipad/apps/organizations/perkTree/legal.svg"})):((0,o.openBlock)(),(0,o.createBlock)(a,{key:2,path:"icons/ipad/apps/organizations/perkTree/neutral.svg"})),(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(e.$n(Math.abs(e.selectedNode.reputationPrice),"any-number")),1)])):(0,o.createCommentVNode)("",!0)])])):(0,o.createCommentVNode)("",!0),e.selectedNode.timeImprovement?((0,o.openBlock)(),(0,o.createElementBlock)("div",Qa,[(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(e.$t("cef.ipad.org.perkTree.time")),1),(0,o.createElementVNode)("div",eo,[(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(e.convertTime(e.selectedNode.timeImprovement,!0)),1),(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/perkTree/timer.svg"})])])):(0,o.createCommentVNode)("",!0)],512),[[o.vShow,e.selectedNode.price||e.selectedNode.timeImprovement]]),"progress"==e.selectedNode.status||"unlocked"==e.selectedNode.status?((0,o.openBlock)(),(0,o.createElementBlock)("div",to,[(0,o.withDirectives)((0,o.createElementVNode)("button",{tabindex:"-1",class:"modal-buttons__item",onClick:t[3]||(t[3]=t=>e.unlockPerk(e.selectedNode))},(0,o.toDisplayString)(e.$t("cef.ipad.org.perkTree.unlock")),513),[[o.vShow,"unlocked"==e.selectedNode.status]]),(0,o.withDirectives)((0,o.createElementVNode)("button",{tabindex:"-1",class:"modal-buttons__item",onClick:t[4]||(t[4]=t=>e.returnPerk(e.selectedNode))},(0,o.toDisplayString)(e.$t("cef.ipad.org.perkTree.cancel")),513),[[o.vShow,"progress"==e.selectedNode.status]])])):(0,o.createCommentVNode)("",!0)])]))])),_:1})])):(0,o.createCommentVNode)("",!0)])),_:1})],64))],6)}var oo={name:"perkTree",mixins:[Ge.Z,Je.Z],data(){return{isDragging:!1,mapScale:1,mapX:0,mapY:0,mapStartPosition:{x:0,y:0},tabletSizes:{width:1250,height:920},selectedNode:null}},computed:{...(0,He.rn)({organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],isLoading:e=>e.ipad.organization.isLoading,treeData:e=>e.ipad.organization.perkTree.treeData,serverTimeOffset:e=>e.main.serverTimeOffset}),mapMainStyles(){return{width:this.treeData.width/1080*100+"vh",height:this.treeData.height/1080*100+"vh",transform:`translate(${this.mapX/1080*100}vh, ${this.mapY/1080*100}vh) scale(${this.mapScale})`}},maxZoom(){let e=this.tabletSizes.width/this.treeData.width,t=this.tabletSizes.height/this.treeData.height;return e<=t?t:e},opacityColor(){const e=this.hexToRgb(this.organizationColorSchema.backgroundColor),t=this.hexToRgb(this.organizationColorSchema.main);return this.rgbToHex(...Object.values(this.colorMixer(Object.values(t),Object.values(e),.25)))}},methods:{rgbToHex(e,t,a){return"#"+(1<<24|e<<16|t<<8|a).toString(16).slice(1)},colorChannelMixer(e,t,a){var o=e*a,i=t*(1-a);return parseInt(o+i)},colorMixer(e,t,a){var o=this.colorChannelMixer(e[0],t[0],a),i=this.colorChannelMixer(e[1],t[1],a),l=this.colorChannelMixer(e[2],t[2],a);return{r:o,g:i,b:l}},hexToRgb(e){const t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,(function(e,t,a,o){return t+t+a+a+o+o}));const a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return a?{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16)}:null},onMainMouseDown(e){e.preventDefault(),this.mapStartPosition={x:e.clientX-this.mapX,y:e.clientY-this.mapY},this.isDragging=!0,window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp)},onMouseUp(){window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),this.isPanning=!1},onMouseMove(e){e.preventDefault(),this.mapX=e.clientX-this.mapStartPosition.x,this.mapY=e.clientY-this.mapStartPosition.y,this.onPointChange()},onMainMouseWheel(e){e.preventDefault();let t=(e.clientX-this.mapX)/this.mapScale,a=(e.clientY-this.mapY)/this.mapScale,o=e.wheelDelta?e.wheelDelta:-e.deltaY;o>0?!(this.mapScale+.1<=2)||(this.mapScale+=.1):!(this.mapScale-.1>=this.maxZoom)||(this.mapScale-=.1),this.mapX=e.clientX-t*this.mapScale,this.mapY=e.clientY-a*this.mapScale,this.onPointChange()},onPointChange(){this.mapX=this.mapX>=0?0:this.mapX<=-this.treeData.width*this.mapScale+this.tabletSizes.width?-this.treeData.width*this.mapScale+this.tabletSizes.width:this.mapX,this.mapY=this.mapY>=0?0:this.mapY<=-this.treeData.height*this.mapScale+this.tabletSizes.height?-this.treeData.height*this.mapScale+this.tabletSizes.height:this.mapY},getImage(e){return`${this.cdn}${e}`},convertTime(e,t=!1){let a="",o=!1,i=parseInt(e/60/60/24);(0!==i||o)&&(0!==i&&t||!t)&&(a+=`${i} ${this.$t("cef.ipad.org.perkTree.times.days")} `,o=!0);let l=parseInt(e/60/60%24);(0!==l||o)&&(0!==l&&t||!t)&&(l=o&&l<10?`0${l}`:l,a+=`${l} ${this.$t("cef.ipad.org.perkTree.times.hours")} `,o=!0);let n=parseInt(e/60%60);(0!==n||o)&&(0!==n&&t||!t)&&(n=o&&n<10?`0${n}`:n,a+=`${n} ${this.$t("cef.ipad.org.perkTree.times.minutes")} `,o=!0);let r=parseInt(e%60);return(0!==r||o)&&(0!==r&&t||!t)&&(r=o&&r<10?`0${r}`:r,a+=`${r} ${this.$t("cef.ipad.org.perkTree.times.seconds")}`,o=!0),a},getServerTimeWithOffset(){return new Date(Date.now()+this.serverTimeOffset)},getRequirenmentAmount(e,t){const a=e[t];if(a)return`${"amount"==t?" / ":""} ${"members"==e.type?"":"$"} ${this.$n(Math.abs(a),"any-number")}`},getRewardSignIcon(e){return Array.isArray(e.amount)?e.amount[0]>0:e.amount>0?"icons/ipad/apps/organizations/perkTree/plus.svg":"icons/ipad/apps/organizations/perkTree/minus.svg"},getRewardValue(e){if(e.amount){const t=e.amount;return Array.isArray(t)?Math.abs(t[0])===Math.abs(t[t.length-1])?this.$n(Math.abs(t[0],"any-number")):`${this.$n(Math.abs(t[0]),"any-number")} - ${this.$n(Math.abs(t[t.length-1]),"any-number")}`:this.$n(Math.abs(e.amount),"any-number")}return this.$t("items."+e.itemId+".title")},getContractData(e,t){if(e.task&&e.task.rules){const a=0;return e.task.rules[a][t]}return e.task[t]},getRewardMainIcon(e){return"money"==e.type?"icons/ipad/apps/organizations/perkTree/coin.svg":"exp"==e.type?"icons/ipad/apps/organizations/perkTree/experience.svg":e.amount<0?"icons/ipad/apps/organizations/perkTree/illegal.svg":"icons/ipad/apps/organizations/perkTree/legal.svg"},clickNode(e){e.isLogo||e.header||(this.selectedNode=e)},openLinkNode(e){const t=this.treeData.nodes.find((t=>t.id===e));!t||t.isLogo||t.header||(this.setNodeInView(t),this.selectedNode=t)},closeModal(){this.selectedNode=null},returnPerk(e){e&&e.id&&(mp.trigger2("ipad.organization.perkTree.returnPerk",e.id),this.selectedNode=null)},unlockPerk(e){e&&e.id&&(mp.trigger2("ipad.organization.perkTree.buyPerk",e.id),this.selectedNode=null)},setCenter(){if(!this?.treeData?.nodes)return;const e=this.treeData.nodes.find((e=>e.isLogo));e&&this.setNodeInView(e)},setNodeInView(e){this.mapScale=1,e?(this.mapX=-e.x+this.tabletSizes.width/2-e.width/2,this.mapY=-e.y+this.tabletSizes.height/2-e.height/2):(this.mapX=0,this.mapY=0),this.onPointChange()},onKeyDown(e){27==e.keyCode&&this.selectedNode&&(this.selectedNode=null)}},watch:{isLoading:function(e){e||this.setCenter()}},created(){window.addEventListener("keydown",this.onKeyDown)},mounted(){this.setCenter()},beforeUnmount(){window.removeEventListener("keydown",this.onKeyDown)}};const io=(0,et.Z)(oo,[["render",ao],["__scopeId","data-v-7dd5516e"]]);var lo=io;const no=e=>((0,o.pushScopeId)("data-v-4f40b7f4"),e=e(),(0,o.popScopeId)(),e),ro={class:"row-block"},so={class:"search-bar align-center row-reverse-block"},co=["placeholder"],mo={class:"container column-block full-height full-width"},po={class:"headers row-block full-width"},uo=["onClick"],ho={class:"title-content align-center"},go={key:0,class:"table-loader full-width"},fo=no((()=>(0,o.createElementVNode)("div",{class:"loader"},null,-1))),yo=[fo],ko=["onClick"],vo={class:"row-item"},bo={class:"row-item"},No={class:"row-item"},Vo={class:"row-item"},wo={class:"row-item"},Eo={class:"row-item"},So={class:"row-item"},Co={key:0,class:"row-item"},_o={class:"row-item"};function $o(e,t){const a=(0,o.resolveComponent)("SVGComponent"),i=(0,o.resolveComponent)("vue-select"),l=(0,o.resolveComponent)("DynamicScrollerItem"),n=(0,o.resolveComponent)("DynamicScroller");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"members-page column-block"]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`,"--background":`${e.organizationColorSchema.backgroundColor}`})},[e.isLoading?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createElementVNode)("header",ro,[(0,o.createElementVNode)("div",so,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=t=>e.search=t),placeholder:e.$t("cef.ipad.org.members.enter-value"),class:(0,o.normalizeClass)(["search-bar__input full-height full-width",{notEmpty:e.search}])},null,10,co),[[o.vModelText,e.search,void 0,{trim:!0}]]),(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/search.svg",class:"search-bar__picture"})]),(0,o.createVNode)(i,{active:0,"item-list":e.filters,bindTitle:"title",class:(0,o.normalizeClass)(["select-menu",{selected:e.selectedFilter}]),onSetItem:t[1]||(t[1]=t=>e.setFilterType(t))},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/calls/filter.svg",class:"filter"}),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.selectedFilter?e.selectedFilter.title:e.$t("cef.ipad.org.members.select-filter")),1)])),_:1},8,["item-list","class"])]),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["table column-block full-height",e.openedApp])},[(0,o.createElementVNode)("div",mo,[(0,o.createElementVNode)("div",po,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.membersHeader,((t,i)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{onClick:a=>e.sorting(t.path,t.noSort),class:"headers__title align-center"},[(0,o.createElementVNode)("div",ho,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(t.title),1),t.noSort?(0,o.createCommentVNode)("",!0):(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createBlock)(a,{key:0,path:"icons/global/chevron.svg",class:(0,o.normalizeClass)({selected:e.checkSortIcon()})},null,8,["class"])),[[o.vShow,e.tempSort&&e.tempSort.title.includes(t.title)]])])],8,uo)))),256)),e.loader?((0,o.openBlock)(),(0,o.createElementBlock)("div",go,yo)):(0,o.createCommentVNode)("",!0)]),(0,o.createVNode)(n,{class:"table-view full-width full-height column-block",items:e.members.filter((e=>e.rank)),"min-item-size":45/1080*e.windowHeight,emitUpdate:!0,ref:"membersLogs",onScroll:t[2]||(t[2]=t=>e.updateList("membersLogs","members",e.onPageChange,45/1080*e.windowHeight)),"key-field":"id"},{default:(0,o.withCtx)((({item:t,index:a,active:i})=>[(0,o.createVNode)(l,{item:t,active:i,"data-index":a},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",{class:"table-row row-block align-center full-width",onClick:a=>e.openPage({path:"player",title:t.login,id:t.id})},[(0,o.createElementVNode)("div",vo,(0,o.toDisplayString)(a+1),1),(0,o.createElementVNode)("div",bo,(0,o.toDisplayString)(t.login),1),(0,o.createElementVNode)("div",No,(0,o.toDisplayString)(t.id),1),(0,o.createElementVNode)("div",Vo,(0,o.toDisplayString)(t.rankName),1),(0,o.createElementVNode)("div",wo,(0,o.toDisplayString)(100==t.rank?"Leader":t.rank),1),(0,o.createElementVNode)("div",Eo,(0,o.toDisplayString)(e.$t(t.dayOnline.title,t.dayOnline.args)),1),(0,o.createElementVNode)("div",So,(0,o.toDisplayString)(e.$t(t.monthOnline.title,t.monthOnline.args)),1),"family"===e.openedApp?((0,o.openBlock)(),(0,o.createElementBlock)("div",Co,(0,o.toDisplayString)(t.organization),1)):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",_o,(0,o.toDisplayString)(t.online?e.$t("cef.ipad.org.members.in-game"):t.lastVisit),1),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["is-online",{active:t.online}])},null,2)],8,ko)])),_:2},1032,["item","active","data-index"])])),_:1},8,["items","min-item-size"])])],2)],64))],6)}var Do=a(12692),Bo={name:"members",components:{VueSelect:We.Z,DynamicScroller:Do.cV,DynamicScrollerItem:Do.Wk},mixins:[ca.Z,sa],data(){return{search:"",pageNumber:1,selectedFilter:null,debounce:null,sort:null,paginationDebounce:null,tempSort:null}},computed:{...(0,He.rn)({members:e=>e.ipad.organization.members.members,endList:e=>e.ipad.organization.members.endList,organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],loader:e=>e.ipad.organization.members.loader,openedApp:e=>e.ipad.openedApp,isLoading:e=>e.ipad.organization.isLoading}),filters(){return"family"===this.openedApp?[{title:this.$t("cef.ipad.org.members.name"),path:"name"},{title:"UID",path:"uid"},{title:this.$t("cef.ipad.org.members.position"),path:"position"},{title:this.$t("cef.ipad.org.members.rank"),path:"rank"},{title:this.$t("cef.ipad.org.members.org"),path:"org"}]:[{title:this.$t("cef.ipad.org.members.name"),path:"name"},{title:"UID",path:"uid"},{title:this.$t("cef.ipad.org.members.position"),path:"position"},{title:this.$t("cef.ipad.org.members.rank"),path:"rank"}]},membersHeader(){return"family"===this.openedApp?[{title:"#",path:"number",noSort:!0},{title:this.$t("cef.ipad.org.members.name"),path:"login"},{title:"UID",path:"uid"},{title:this.$t("cef.ipad.org.members.position"),path:"position"},{title:this.$t("cef.ipad.org.members.rank"),path:"rank"},{title:this.$t("cef.ipad.org.members.today"),path:"today"},{title:this.$t("cef.ipad.org.members.month"),path:"month"},{title:this.$t("cef.ipad.org.members.org"),path:"org"},{title:this.$t("cef.ipad.org.members.online"),path:"online"}]:[{title:"#",path:"number",noSort:!0},{title:this.$t("cef.ipad.org.members.name"),path:"login"},{title:"UID",path:"uid"},{title:this.$t("cef.ipad.org.members.position"),path:"position"},{title:this.$t("cef.ipad.org.members.rank"),path:"rank"},{title:this.$t("cef.ipad.org.members.today"),path:"today"},{title:this.$t("cef.ipad.org.members.month"),path:"month"},{title:this.$t("cef.ipad.org.members.online"),path:"online"}]}},methods:{...(0,He.nv)({openFractionPage:"ipad/organization/openFractionPage"}),openPage(e){this.paginationDebounce=Date.now()/1e3+1,this.$store.dispatch("ipad/organization/openPage",e)},onPageChange(){this.paginationDebounce&&this.paginationDebounce>Date.now()/1e3||this.members.length&&(this.members.length<50||this.endList||(this.pageNumber++,mp.trigger2("ipad.organization.members.getData","family"===this.openedApp?"families":"fractions",this.pageNumber,this.sort,this.selectedFilter?this.selectedFilter.path:null,this.search),this.$store.commit("ipad/organization/members/setLoader",!0)))},checkSortIcon(){if(!this.sort)return;const e=this.sort.split("-");return"desc"!==e[1]},sorting(e,t){if(this.tempSort=this.membersHeader.find((t=>t.path===e)),!t){switch(e){case"login":e="a.login";break;case"uid":e="a.id";break;case"position":case"rank":e="fr.rank";break;case"today":e="a.dayOnline";break;case"month":e="a.monthOnline";break;case"org":e="a.member";break;case"online":e="a.online";break}if(this.sort){const t=this.sort.split("-");e===t[0]?this.sort=`${e}-${"desc"===t[1]?"asc":"desc"}`:this.sort=`${e}-desc`}else this.sort=`${e}-desc`;this.pageNumber=1,mp.trigger2("ipad.organization.members.getData","family"===this.openedApp?"families":"fractions",this.pageNumber,this.sort,null,null),this.paginationDebounce=Date.now()/1e3+1,this.$store.commit("ipad/organization/members/setLoader",!0)}},clearSort(){this.tempSort=null,this.sort=null},clearSearchModifiers(){this.pageNumber=1,mp.trigger2("ipad.organization.members.getData","family"===this.openedApp?"families":"fractions"),this.paginationDebounce=Date.now()/1e3+1,this.$store.commit("ipad/organization/members/setLoader",!0),this.clearSort()},setFilterType(e){this.selectedFilter&&this.selectedFilter.path==e.path?this.selectedFilter=null:this.selectedFilter=e,this.selectedFilter?this.search&&this.search.length&&(this.clearSort(),this.pageNumber=1,mp.trigger2("ipad.organization.members.getData","family"===this.openedApp?"families":"fractions",this.pageNumber,null,this.selectedFilter.path,this.search),this.paginationDebounce=Date.now()/1e3+1,this.$store.commit("ipad/organization/members/setLoader",!0)):this.search&&this.search.length&&this.clearSearchModifiers()}},created(){this.selectedFilter=this.filters[0]},watch:{search(e){clearTimeout(this.debounce),this.debounce=setTimeout((()=>{e.length&&this.selectedFilter?(this.clearSort(),this.pageNumber=1,mp.trigger2("ipad.organization.members.getData","family"===this.openedApp?"families":"fractions",this.pageNumber,null,this.selectedFilter.path,e),this.paginationDebounce=Date.now()/1e3+1,this.$store.commit("ipad/organization/members/setLoader",!0)):!e.length&&this.selectedFilter&&(this.selectedFilter=null,this.clearSearchModifiers())}),1e3)}}};const xo=(0,et.Z)(Bo,[["render",$o],["__scopeId","data-v-4f40b7f4"]]);var zo=xo;const Mo=e=>((0,o.pushScopeId)("data-v-3d670fb4"),e=e(),(0,o.popScopeId)(),e),Lo={class:"player-info column-block"},To={class:"row-block"},Io={class:"info-block column-block justify-center"},Fo={class:"row-block"},Po={class:"content-block column-block"},Ao=Mo((()=>(0,o.createElementVNode)("div",{class:"content-block__title"},"UID:",-1))),Ro={class:"content-block__value"},Oo={class:"content-block column-block"},jo={class:"content-block__title"},Zo={class:"content-block__value"},Uo={class:"content-block column-block last"},Ho={class:"content-block__title"},Go={class:"content-block__value"},qo={key:0,class:"content-block column-block last"},Wo={class:"content-block__title"},Yo={class:"content-block__value"},Ko={key:1,class:"content-block column-block last"},Xo={class:"content-block__title"},Jo={class:"content-block__value"},Qo={class:"content-block column-block last"},ei={class:"content-block__title"},ti={class:"content-block__value"},ai={class:"content-block column-block last"},oi={class:"content-block__title"},ii={class:"content-block__value"},li={key:2,class:"content-block column-block last"},ni={class:"content-block__title"},ri={class:"content-block__value"},si={class:"interaction row-block"},ci=["onClick"],di={class:"action-block__title"},mi={class:"table column-block full-height"},pi={class:"container column-block full-height full-width"},ui={class:"headers row-block full-width"},hi={class:"headers__title align-center"},gi={key:0,class:"table-loader full-width"},fi=Mo((()=>(0,o.createElementVNode)("div",{class:"loader"},null,-1))),yi=[fi],ki={class:"row-item"},vi={class:"row-item"},bi={class:"row-item"},Ni={class:"row-item"},Vi={class:"row-item"},wi={class:"row-item"},Ei={class:"modal-viewbox column-block"},Si={class:"modal-viewbox__title"},Ci={class:"modal-content column-block"},_i={key:0,class:"select-menu column-block"},$i={class:"modal-content__title"},Di={class:"balance column-block"},Bi={class:"balance__title"},xi={class:"balance__value"},zi={class:"column-block"},Mi={class:"modal-content__title"},Li=["placeholder"],Ti={class:"modal-content__title"},Ii=["placeholder","min-height"],Fi={key:2,class:"confirm-action align-center row-block"},Pi=Mo((()=>(0,o.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 11.414 8.381"},[(0,o.createElementVNode)("path",{id:"Контур_12884","data-name":"Контур 12884",d:"M355.228,681.191l3.741,3.741,6.259-6.259",transform:"translate(-354.521 -677.965)",fill:"none","stroke-width":"2"})],-1))),Ai={key:0,for:"confirm",class:"confirm-action__text"},Ri={key:1,for:"confirm",class:"confirm-action__text"},Oi={class:"control-buttons row-block full-width justify-between"};function ji(e,t){const a=(0,o.resolveComponent)("AvatarComponent"),i=(0,o.resolveComponent)("SVGComponent"),l=(0,o.resolveComponent)("DynamicScrollerItem"),n=(0,o.resolveComponent)("DynamicScroller"),r=(0,o.resolveComponent)("vue-select");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"player-page full-width full-height"]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`,"--main-text-color":`${e.getCorrectContrastingFontColor(e.organizationColorSchema.main,"#fbfbfb","#060606")}`})},[e.isLoading?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createElementVNode)("div",Lo,[(0,o.createElementVNode)("div",To,[(0,o.createVNode)(a,{class:"player-info__picture"}),(0,o.createElementVNode)("div",Io,[(0,o.createElementVNode)("div",Fo,[(0,o.createElementVNode)("div",Po,[Ao,(0,o.createElementVNode)("div",Ro,(0,o.toDisplayString)(e.member?.id),1)]),(0,o.createElementVNode)("div",Oo,[(0,o.createElementVNode)("div",jo,(0,o.toDisplayString)(e.$t("cef.ipad.org.player.rank"))+":",1),(0,o.createElementVNode)("div",Zo,(0,o.toDisplayString)(100==e.member?.rank?"Leader":e.member?.rank),1)]),(0,o.createElementVNode)("div",Uo,[(0,o.createElementVNode)("div",Ho,(0,o.toDisplayString)(e.$t("cef.ipad.org.player.position"))+":",1),(0,o.createElementVNode)("div",Go,(0,o.toDisplayString)(e.member?.rankName||e.$t("cef.ipad.org.player.no")),1)]),"family"===e.openedApp?((0,o.openBlock)(),(0,o.createElementBlock)("div",qo,[(0,o.createElementVNode)("div",Wo,(0,o.toDisplayString)(e.$t("cef.ipad.org.player.warn"))+":",1),(0,o.createElementVNode)("div",Yo,(0,o.toDisplayString)(e.member?.famwarns)+" / 3",1)])):((0,o.openBlock)(),(0,o.createElementBlock)("div",Ko,[(0,o.createElementVNode)("div",Xo,(0,o.toDisplayString)(e.$t("cef.ipad.org.player.warn"))+":",1),(0,o.createElementVNode)("div",Jo,(0,o.toDisplayString)(e.member?.fwarns)+" / 3",1)])),(0,o.createElementVNode)("div",Qo,[(0,o.createElementVNode)("div",ei,(0,o.toDisplayString)(e.$t("cef.ipad.org.player.today"))+":",1),(0,o.createElementVNode)("div",ti,(0,o.toDisplayString)(e.$t(e.member?.dayOnline.title,e.member?.dayOnline.args)),1)]),(0,o.createElementVNode)("div",ai,[(0,o.createElementVNode)("div",oi,(0,o.toDisplayString)(e.$t("cef.ipad.org.player.month"))+":",1),(0,o.createElementVNode)("div",ii,(0,o.toDisplayString)(e.$t(e.member?.monthOnline.title,e.member?.monthOnline.args)),1)]),e.invitedBy&&e.invitedBy.length?((0,o.openBlock)(),(0,o.createElementBlock)("div",li,[(0,o.createElementVNode)("div",ni,(0,o.toDisplayString)(e.$t("cef.ipad.org.player.invited-by"))+":",1),(0,o.createElementVNode)("div",ri,(0,o.toDisplayString)(e.invitedBy),1)])):(0,o.createCommentVNode)("",!0)])])]),(0,o.createElementVNode)("div",si,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.actions,(t=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{onClick:a=>e.openModal(t.action),class:(0,o.normalizeClass)(["action-block row-block align-center",{disabled:("lowering"===t.action||"promotion"===t.action)&&e.getAvailableRanks(t.action).length<=0}])},[(0,o.createVNode)(i,{class:"action-block__picture",path:`icons/ipad/apps/organizations/player/${t.action}.svg?a`},null,8,["path"]),(0,o.createElementVNode)("div",di,(0,o.toDisplayString)(t.title),1)],10,ci)))),256))])]),(0,o.createElementVNode)("div",mi,[(0,o.createElementVNode)("div",pi,[(0,o.createElementVNode)("div",ui,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.headers,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",hi,(0,o.toDisplayString)(e),1)))),256)),e.loader?((0,o.openBlock)(),(0,o.createElementBlock)("div",gi,yi)):(0,o.createCommentVNode)("",!0)]),(0,o.createVNode)(n,{class:"table-view full-width full-height column-block",items:e.playerHistory,"min-item-size":45/1080*e.windowHeight,emitUpdate:!0,ref:"playerHistoryLogs",onScroll:t[0]||(t[0]=t=>e.updateList("playerHistoryLogs","playerHistory",e.onPageChange,45/1080*e.windowHeight)),"key-field":"id"},{default:(0,o.withCtx)((({item:t,index:a,active:i})=>[(0,o.createVNode)(l,{class:"table-row row-block align-center full-width",item:t,active:i,"data-index":a},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",ki,(0,o.toDisplayString)(t.actionBy),1),(0,o.createElementVNode)("div",vi,(0,o.toDisplayString)(t.accountId),1),(0,o.createElementVNode)("div",bi,(0,o.toDisplayString)(t.rank),1),(0,o.createElementVNode)("div",Ni,(0,o.toDisplayString)(e.sliceString(e.$t(t.action,t.args),42)),1),(0,o.createElementVNode)("div",Vi,(0,o.toDisplayString)(t.comment),1),(0,o.createElementVNode)("div",wi,(0,o.toDisplayString)(t.date),1)])),_:2},1032,["item","active","data-index"])])),_:1},8,["items","min-item-size"])])]),(0,o.createVNode)(o.Transition,{name:"local-fade",appear:""},{default:(0,o.withCtx)((()=>[e.modal.show?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:"modal-window full-width full-height",onClick:t[12]||(t[12]=(0,o.withModifiers)(((...t)=>e.resetModal&&e.resetModal(...t)),["self"]))},[(0,o.createElementVNode)("div",Ei,[(0,o.createElementVNode)("div",Si,(0,o.toDisplayString)(e.modalType.title),1),(0,o.createElementVNode)("div",{class:"flex-block close-block",onClick:t[1]||(t[1]=(...t)=>e.resetModal&&e.resetModal(...t))},[(0,o.createVNode)(i,{path:"icons/global/cross.svg"})]),(0,o.createElementVNode)("div",Ci,["promotion"===e.modal.type||"lowering"===e.modal.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",_i,[(0,o.createElementVNode)("div",$i,(0,o.toDisplayString)("promotion"===e.modal.type?e.$t("cef.ipad.org.player.choose-rank-promotion"):e.$t("cef.ipad.org.player.choose-rank-demotion")),1),(0,o.createVNode)(r,{"item-list":e.getAvailableRanks(e.modal.type),bindTitle:"title",additionalTitle:"additional",class:(0,o.normalizeClass)(["select-panel",{selected:e.selectedRank,disabled:e.getAvailableRanks(e.modal.type).length<=0}]),onSetItem:t[2]||(t[2]=t=>e.selectedRank=t)},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.selectedRank?e.selectedRank.title:e.$t("cef.ipad.org.player.select-value")),1)])),_:1},8,["item-list","class"])])):(0,o.createCommentVNode)("",!0),"award"===e.modal.type?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:1},[(0,o.createElementVNode)("div",Di,[(0,o.createElementVNode)("div",Bi,(0,o.toDisplayString)(e.$t("cef.ipad.org.player.org-balance")),1),(0,o.createElementVNode)("span",xi,(0,o.toDisplayString)(e.countMoneyToDollar(e.balance,!1,!0)),1)]),(0,o.createElementVNode)("div",zi,[(0,o.createElementVNode)("div",Mi,(0,o.toDisplayString)(e.$t("cef.ipad.org.player.bonus-size")),1),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",placeholder:e.$t("cef.ipad.org.player.enter-value"),class:"replenishment","onUpdate:modelValue":t[3]||(t[3]=t=>e.replenishmentSum=t),onKeypress:t[4]||(t[4]=(...t)=>e.preventForNumber&&e.preventForNumber(...t)),onCut:t[5]||(t[5]=(0,o.withModifiers)((()=>{}),["prevent"])),onCopy:t[6]||(t[6]=(0,o.withModifiers)((()=>{}),["prevent"])),onPaste:t[7]||(t[7]=(0,o.withModifiers)((()=>{}),["prevent"]))},null,40,Li),[[o.vModelText,e.replenishmentSum]])])],64)):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",Ti,(0,o.toDisplayString)(e.modalType.description),1),(0,o.withDirectives)((0,o.createElementVNode)("textarea",{placeholder:e.$t("cef.ipad.org.player.leave-comment"),maxlength:"220","onUpdate:modelValue":t[8]||(t[8]=t=>e.reason=t),"min-height":93/1080*e.windowHeight,class:"modal-content__input-reason"},null,8,Ii),[[o.vModelText,e.reason,void 0,{trim:!0}]]),"uninvite"===e.modal.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",Fi,[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["checkbox",{selected:e.isBlacklist}])},[(0,o.withDirectives)((0,o.createElementVNode)("input",{id:"confirm",type:"checkbox",class:"checkbox__input","onUpdate:modelValue":t[9]||(t[9]=t=>e.isBlacklist=t)},null,512),[[o.vModelCheckbox,e.isBlacklist]]),Pi],2),"family"===e.openedApp?((0,o.openBlock)(),(0,o.createElementBlock)("label",Ai,(0,o.toDisplayString)(e.$t("cef.ipad.org.player.put-in-blacklist-family")),1)):((0,o.openBlock)(),(0,o.createElementBlock)("label",Ri,(0,o.toDisplayString)(e.$t("cef.ipad.org.player.put-in-blacklist-org")),1))])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",Oi,[(0,o.createElementVNode)("div",{onClick:t[10]||(t[10]=(...t)=>e.action&&e.action(...t)),class:"control-button"},(0,o.toDisplayString)(e.$t("cef.ipad.org.player.execute")),1),(0,o.createElementVNode)("div",{onClick:t[11]||(t[11]=(...t)=>e.resetModal&&e.resetModal(...t)),class:"control-button"},(0,o.toDisplayString)(e.$t("cef.ipad.org.player.discard")),1)])])])])):(0,o.createCommentVNode)("",!0)])),_:1})],64))],6)}var Zi=a(54842),Ui={name:"player",mixins:[Ge.Z,ca.Z,sa,Je.Z],components:{Money:Zi.Z,DynamicScroller:Do.cV,DynamicScrollerItem:Do.Wk,VueSelect:We.Z},created(){this.actions=[{action:"promotion",title:this.$t("cef.ipad.org.player.promotion")},{action:"lowering",title:this.$t("cef.ipad.org.player.demotion")},{action:"give-warn",title:this.$t("cef.ipad.org.player.give-warn")},{action:"remove-warn",title:this.$t("cef.ipad.org.player.remove-warn")},{action:"uninvite",title:this.$t("cef.ipad.org.player.fire")},{action:"award",title:this.$t("cef.ipad.org.player.bonus")}]},data(){return{actions:[{action:"promotion",title:"promotion"},{action:"lowering",title:"lowering"},{action:"give-warn",title:"give-warn"},{action:"remove-warn",title:"remove-warn"},{action:"uninvite",title:"uninvite"},{action:"award",title:"award"}],isBlacklist:!1,modal:{show:!1,type:null},selectedRank:null,reason:null,replenishmentSum:null,pageNumber:1,paginationDebounce:null,debounce:null}},methods:{action(){if(!this.reason||this.reason.length<2||this.reason.length>45)this.$store.commit("main/showNotify",{text:this.$t("cef.ipad.org.player.reason-length"),type:"error"});else{switch(this.modal.type){case"promotion":if(!this.selectedRank)return void this.$store.commit("main/showNotify",{text:this.$t("cef.ipad.org.player.select-rank-error"),type:"error"});if(this.selectedRank.index<=this.member.rank)return void this.$store.commit("main/showNotify",{text:this.$t("cef.ipad.org.player.rank-limitation"),type:"error"});if(this.selectedRank.index>=this.ranks[this.ranks.length-1].index)return void this.$store.commit("main/showNotify",{text:this.$t("cef.ipad.org.player.rank-limitation"),type:"error"});mp.trigger2("ipad.organization.player.giveRank","family"===this.openedApp?"families":"fractions",this.memberId,this.selectedRank.index,this.modal.type,this.reason);break;case"lowering":if(!this.selectedRank)return void this.$store.commit("main/showNotify",{text:this.$t("cef.ipad.org.player.select-rank-error"),type:"error"});if(this.selectedRank.index>=this.member.rank)return void this.$store.commit("main/showNotify",{text:this.$t("cef.ipad.org.player.demotion-limitation"),type:"error"});if(this.selectedRank.index>=this.ranks[this.ranks.length-1].index)return void this.$store.commit("main/showNotify",{text:this.$t("cef.ipad.org.player.demotion-limitation"),type:"error"});mp.trigger2("ipad.organization.player.giveRank","family"===this.openedApp?"families":"fractions",this.memberId,this.selectedRank.index,this.modal.type,this.reason);break;case"give-warn":mp.trigger2("ipad.organization.player.changeWarns","family"===this.openedApp?"families":"fractions",this.memberId,this.modal.type,this.reason);break;case"remove-warn":mp.trigger2("ipad.organization.player.changeWarns","family"===this.openedApp?"families":"fractions",this.memberId,this.modal.type,this.reason);break;case"uninvite":mp.trigger2("ipad.organization.player.uninvite","family"===this.openedApp?"families":"fractions",this.memberId,this.reason,this.isBlacklist);break;case"award":if(!this.replenishmentSum||isNaN(this.replenishmentSum)||this.replenishmentSum<1)return void this.$store.commit("main/showNotify",{text:this.$t("cef.ipad.org.player.sum-error"),type:"error"});mp.trigger2("ipad.organization.player.award","family"===this.openedApp?"families":"fractions",this.memberId,this.replenishmentSum,this.reason);break}this.resetModal()}},getAvailableRanks(e){switch(e){case"promotion":{let e=[...this.ranks.filter((e=>e.index>this.member.rank))];return e.pop(),e}case"lowering":return this.ranks.filter((e=>e.index<this.member.rank))}},openModal(e){this.modal.type=e,this.modal.show=!0},resetModal(){this.modal.show=!1,this.modal.type=null,this.reason=null,this.selectedRank=null},onPageChange(){this.paginationDebounce&&this.paginationDebounce>Date.now()/1e3||this.playerHistory.length&&(this.playerHistory.length<50||this.endList||(this.pageNumber++,mp.trigger2("ipad.organization.player.getHistoryData","family"===this.openedApp?"families":"fractions",this.memberId,this.pageNumber),this.paginationDebounce=Date.now()/1e3+1,this.$store.commit("ipad/organization/player/setLoader",!0)))}},computed:{...(0,He.rn)({memberId:e=>e.ipad.organization.members.memberId,members:e=>e.ipad.organization.members.members,loader:e=>e.ipad.organization.player.loader,balance:e=>e.ipad.organization.balance.balance,playerHistory:e=>e.ipad.organization.player.history,endList:e=>e.ipad.organization.player.endList,invitedBy:e=>e.ipad.organization.player.invitedBy,openedApp:e=>e.ipad.openedApp,isLoading:e=>e.ipad.organization.isLoading,ranks:function(e){const t="family"===e.ipad.openedApp?e.ipad.organization.familyRanks[e.ipad.family]:e.ipad.organization.fractionRanks[e.ipad.member];return t?t.map(((e,t)=>({index:t+1,title:e,additional:`${t+1} ${this.$t("cef.ipad.org.player.rank")}`}))):[]},organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp]}),headers(){return[this.$t("cef.ipad.org.player.managment"),"UID",this.$t("cef.ipad.org.player.rank"),this.$t("cef.ipad.org.player.action"),this.$t("cef.ipad.org.player.comment"),this.$t("cef.ipad.org.player.date")]},member(){return this.members.find((e=>e.id===this.memberId))},modalType(){if(!this.modal.show||null==this.modal.type)return{title:"",description:""};switch(this.modal.type){case"promotion":return{title:this.$t("cef.ipad.org.player.promotion-title"),description:`${this.$t("cef.ipad.org.player.promotion-reason")}:`};case"lowering":return{title:this.$t("cef.ipad.org.player.demotion"),description:`${this.$t("cef.ipad.org.player.demotion-reason")}:`};case"give-warn":return{title:this.$t("cef.ipad.org.player.give-rebuke"),description:`${this.$t("cef.ipad.org.player.rebuke-reason")}:`};case"remove-warn":return{title:this.$t("cef.ipad.org.player.remove-rebuke"),description:`${this.$t("cef.ipad.org.player.remove-rebuke-reason")}:`};case"uninvite":return{title:this.$t("cef.ipad.org.player.fire"),description:`${this.$t("cef.ipad.org.player.fire-reason")}:`};case"award":return{title:`${this.$t("cef.ipad.org.player.pay-bonus")}`,description:`${this.$t("cef.ipad.org.player.comment")}:`}}}}};const Hi=(0,et.Z)(Ui,[["render",ji],["__scopeId","data-v-3d670fb4"]]);var Gi=Hi;function qi(e,t){return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"access-page full-width full-height column-block"]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`})},[e.isLoading?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(o.Transition,{key:0,name:"local-fade",appear:"",mode:"out-in"},{default:(0,o.withCtx)((()=>[((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)(e.page)))])),_:1}))],6)}const Wi={class:"container row-block"},Yi={class:"players-list column-block"},Ki={class:"title-block full-width row-block align-center justify-between"},Xi={class:"row-block"},Ji={class:"dragging-container flex-block"},Qi=["onClick","data-rank"],el={key:1,class:"player-block__text-rank"},tl={class:"player-block__text-nickname"},al=["onMousedown"],ol={key:0,ref:"draggingElement",class:"dragging-element selected player-block align-center row-block full-width"},il={class:"player-block__text-rank"},ll={class:"player-block__text-nickname"},nl={class:"drag-icon flex-block"},rl={key:0,class:"access-panel column-block full-height full-width"},sl={key:0,class:"change-rank row-block full-width"},cl={class:"input-block row-block full-width"},dl=["placeholder"],ml={key:1,class:"salary column-block align-start justify-start"},pl={class:"salary__text"},ul={class:"salary__value"},hl={class:"control-block column-block"},gl={class:"full-width main-table column-block"},fl={class:"option column-block full-width"},yl={class:"select align-center full-width"},kl={key:0,type:"checkbox",class:"option__input",checked:!0,disabled:!0},vl=["onUpdate:modelValue","onClick","disabled"],bl={class:"option__title"},Nl={class:"modal-content column-block"},Vl={class:"modal-content__title"},wl={key:0,class:"input-block column-block"},El={class:"modal-content__text"},Sl=["placeholder"],Cl={key:1,class:"delete-rank column-block"},_l={class:"delete-rank-title"},$l={class:"delete-rank-text"},Dl={class:"control-buttons row-block justify-between"};function Bl(e,t){const a=(0,o.resolveComponent)("SVGComponent"),i=(0,o.resolveDirective)("smoothScroll");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"access-container full-height row-block"]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`,"--background":`${e.organizationColorSchema.backgroundColor}`,"--main-text-color":`${e.getCorrectContrastingFontColor(e.organizationColorSchema.main,"#fbfbfb","#060606")}`})},[(0,o.createElementVNode)("div",Wi,[(0,o.createElementVNode)("div",Yi,[(0,o.createElementVNode)("div",Ki,[(0,o.createElementVNode)("div",Xi,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.$t("cef.ipad.org.access.ranks.job-name")),1)]),e.isLeader||e.ranks[e.myRank]?.settings?.manageRank?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:"add-new",onClick:t[0]||(t[0]=t=>e.setModal("create-rank"))},[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.$t("cef.ipad.org.access.ranks.create-rank")),1),(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/access/ranks/add.svg"})])):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("div",Ji,[(0,o.createElementVNode)("div",{class:"ranks-list full-width",ref:"ranksContainer",onMousemove:t[2]||(t[2]=(...t)=>e.dragRank&&e.dragRank(...t))},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(Object.keys(e.ranks).sort(((e,t)=>t-e)),((i,l)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{onClick:t=>"leader"!==i?e.selectRank(i):null,class:(0,o.normalizeClass)(["player-block align-center row-block full-width",{selected:e.selectedRank==i,leader:100==i}]),ref_for:!0,ref:"ranks","data-rank":e.ranks[i].name},[100==i?((0,o.openBlock)(),(0,o.createBlock)(a,{key:0,class:"player-block__picture",path:"icons/ipad/apps/organizations/access/ranks/crown.svg"})):((0,o.openBlock)(),(0,o.createElementBlock)("div",el,(0,o.toDisplayString)(i),1)),(0,o.createElementVNode)("div",tl,(0,o.toDisplayString)(e.ranks[i].name),1),e.isLeader||e.ranks[e.myRank].settings["manageRank"]?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:2,class:"drag-icon flex-block",onClick:t[1]||(t[1]=(0,o.withModifiers)((()=>{}),["stop"])),onMousedown:t=>e.startDrag(t,l,i)},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/access/drag.svg"})],40,al)):(0,o.createCommentVNode)("",!0)],10,Qi)))),256))],544),e.isLeader||e.ranks[e.myRank].settings["manageRank"]?((0,o.openBlock)(),(0,o.createElementBlock)("div",ol,[(0,o.createElementVNode)("div",il,(0,o.toDisplayString)(e.dragging.rank),1),(0,o.createElementVNode)("div",ll,(0,o.toDisplayString)(e.dragging.name),1),(0,o.createElementVNode)("div",nl,[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/access/drag.svg"})])],512)):(0,o.createCommentVNode)("",!0)])]),e.ranks[e.selectedRank].settings?((0,o.openBlock)(),(0,o.createElementBlock)("div",rl,[e.isLeader||e.ranks[e.myRank]?.settings?.manageRank?((0,o.openBlock)(),(0,o.createElementBlock)("div",sl,[(0,o.createElementVNode)("div",cl,[(0,o.withDirectives)((0,o.createElementVNode)("input",{"onUpdate:modelValue":t[3]||(t[3]=t=>e.newRankName=t),type:"text",class:"input-block__input full-width",placeholder:e.$t("cef.ipad.org.access.ranks.enter-rank-name")},null,8,dl),[[o.vModelText,e.newRankName]])]),e.newRankName!==e.selectedRankName?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,onClick:t[4]||(t[4]=t=>e.renameRank()),class:"save-button"},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/access/save.svg"}),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.$t("cef.ipad.org.access.ranks.save")),1)])):(0,o.createCommentVNode)("",!0),e.selectedRank>1&&e.selectedRank<100?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:1,onClick:t[5]||(t[5]=t=>e.setModal("delete-rank")),class:"delete row-block align-center"},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/access/delete.svg"}),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.$t("cef.ipad.org.access.ranks.delete-rank")),1)])):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0),e.ranks[e.selectedRank].salary?((0,o.openBlock)(),(0,o.createElementBlock)("div",ml,[(0,o.createElementVNode)("span",pl,(0,o.toDisplayString)(e.$t("cef.ipad.org.access.ranks.salary"))+":",1),(0,o.createElementVNode)("span",ul,(0,o.toDisplayString)(e.countMoneyToDollar(e.ranks[e.selectedRank].salary,!1,!1)),1)])):(0,o.createCommentVNode)("",!0),(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("div",hl,[(0,o.createElementVNode)("div",gl,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.access,(t=>((0,o.openBlock)(),(0,o.createElementBlock)("div",fl,[(0,o.createElementVNode)("div",yl,[100===e.selectedRank?((0,o.openBlock)(),(0,o.createElementBlock)("input",kl)):(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("input",{key:1,"onUpdate:modelValue":a=>e.ranks[e.selectedRank].settings[t]=a,onClick:a=>e.setValue(t),type:"checkbox",disabled:100==e.selectedRank,class:"option__input"},null,8,vl)),[[o.vModelCheckbox,e.ranks[e.selectedRank].settings[t]]]),(0,o.createElementVNode)("span",bl,(0,o.toDisplayString)(e.$t("fractions.access."+t)),1)])])))),256))])])),[[i,"ranksContainer"]])])):(0,o.createCommentVNode)("",!0)]),(0,o.createVNode)(o.Transition,{name:"local-fade",appear:""},{default:(0,o.withCtx)((()=>[e.modal?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:"modal full-width full-height",onClick:t[12]||(t[12]=(0,o.withModifiers)((t=>e.setModal(!1)),["self"]))},[(0,o.createElementVNode)("div",Nl,[(0,o.createElementVNode)("div",Vl,(0,o.toDisplayString)(e.$t("cef.ipad.org.access.ranks."+("create-rank"===e.modal?"add-new-rank":"delete-rank-modal"))),1),(0,o.createElementVNode)("div",{onClick:t[6]||(t[6]=t=>e.setModal(null)),class:"close-block flex-block"},[(0,o.createVNode)(a,{path:"icons/global/cross.svg"})]),"create-rank"===e.modal?((0,o.openBlock)(),(0,o.createElementBlock)("div",wl,[(0,o.createElementVNode)("span",El,(0,o.toDisplayString)(e.$t("cef.ipad.org.access.ranks.rank-name"))+":",1),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=t=>e.rankName=t),class:"input-block__input",placeholder:e.$t("cef.ipad.org.access.ranks.enter-rank-name"),onCopy:t[8]||(t[8]=(0,o.withModifiers)((()=>{}),["prevent"])),onCut:t[9]||(t[9]=(0,o.withModifiers)((()=>{}),["prevent"]))},null,40,Sl),[[o.vModelText,e.rankName]])])):((0,o.openBlock)(),(0,o.createElementBlock)("div",Cl,[(0,o.createElementVNode)("span",_l,(0,o.toDisplayString)(e.$t("cef.ipad.org.access.ranks.attention")),1),(0,o.createElementVNode)("span",$l,(0,o.toDisplayString)(e.$t("cef.ipad.org.access.ranks.delete-rank-text")),1)])),(0,o.createElementVNode)("div",Dl,[(0,o.createElementVNode)("div",{onClick:t[10]||(t[10]=t=>e.applyModal()),class:"control-button"},(0,o.toDisplayString)(e.$t("cef.ipad.org.access.ranks.execute")),1),(0,o.createElementVNode)("div",{onClick:t[11]||(t[11]=t=>e.setModal(null)),class:"control-button"},(0,o.toDisplayString)(e.$t("cef.ipad.org.access.ranks.discard")),1)])])])):(0,o.createCommentVNode)("",!0)])),_:1})],6)}var xl={mounted(){if(this.tileHeight=window.innerHeight/1080*this.$options.TILE_SIZE,this.$refs?.ranksContainer?.getBoundingClientRect){const e=this.$refs.ranksContainer.getBoundingClientRect();this.ranksContainerTop=e.y,this.ranksContainerHeight=e.height}window.addEventListener("mouseup",this.dropElement)},beforeUnmount(){window.removeEventListener("mouseup",this.dropElement)},data(){return{tileHeight:140,startFromY:0,ranksContainerTop:0,ranksContainerHeight:0,cursorOffset:0,isDragging:!1,element:null,elementTop:0,fromIndex:-1,elementsScrollTop:0,dragging:{id:"",rank:"",name:""}}},methods:{setDraggingObjectPos(e){let t=e.pageY-this.cursorOffset,a=Math.max(t-this.ranksContainerTop,0);a+this.tileHeight<this.ranksContainerHeight&&(this.$refs.draggingElement.style.top=`${a}px`)},startDrag(e,t,a){if(!e.target.closest(".player-block").dataset.rank)return;this.isDragging=!0;const o=this.$refs.ranks[t].querySelector(".drag-icon").getBoundingClientRect().height;this.cursorOffset=(this.tileHeight-o)/2+e.offsetY,this.elementTop=this.$refs.ranks[t].getBoundingClientRect().top,this.fromIndex=t,this.dragging={rank:parseInt(a),id:this.ranks[a].id,name:this.ranks[a].name},this.setDraggingObjectPos(e),this.$nextTick((()=>{this.$refs.draggingElement.classList.toggle("visible"),this.$refs.ranks[t].style.opacity="0"}))},dragRank(e){this.isDragging&&this.setDraggingObjectPos(e)},dropElement(e){if(!this.isDragging)return;if(this.$refs?.ranksContainer?.getBoundingClientRect&&!this.ranksContainerTop&&!this.ranksContainerHeight){const e=this.$refs.ranksContainer.getBoundingClientRect();this.ranksContainerTop=e.y,this.ranksContainerHeight=e.height}this.$refs.draggingElement.classList.toggle("visible"),this.$refs.ranks[this.fromIndex].style.opacity="1";let t=e.target;if(t.dataset.rank||(t=t.closest(".player-block")),null!=t){const e=this.dragging.rank,a=parseInt(Object.keys(this.ranks).find((e=>this.ranks[e].name===t.dataset.rank)));if(100==a)return;const o=this.ranks[a];this.ranks[a]=this.ranks[e],this.ranks[e]=o,mp.trigger2("ipad.organization.access.swapRanks",e,a,"family"===this.openedApp?"families":"fractions")}this.elementTop=0,this.cursorOffset=0,this.startFromY=0,this.fromIndex=-1,this.isDragging=!1,this.dragging={id:"",rank:"",name:""}}}},zl=a(62345),Ml={name:"ranks",TILE_SIZE:47,mixins:[xl,Je.Z,zl.Z],components:{VueSelect:We.Z},created(){this.ranks=this.ranksStore,this.updateSettingsValues(),this.selectedRank=Object.keys(this.ranks)[0],this.selectedRankName=this.ranks[this.selectedRank].name,this.newRankName=this.selectedRankName},watch:{ranksStore(e){this.ranks=e,this.updateSettingsValues()}},data(){return{selectedRank:1,modal:!1,selectedMember:null,ranks:[],rankName:"",selectedRankName:"",newRankName:""}},computed:{...(0,He.rn)({ranksStore:e=>e.ipad.organization.access.ranks,settings:e=>e.ipad.organization.access.settings,organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],openedApp:e=>e.ipad.openedApp,members:e=>e.ipad.organization.access.settings.members.members,access:e=>e.ipad.organization.access.access,isLeader:e=>e.ipad.organization.access.isLeader,myRank:e=>e.ipad.organization.access.rank})},methods:{updateSettingsValues(){for(const e of Object.keys(this.ranks))for(const[t,a]of Object.entries(this.ranks[e].settings))this.ranks[e].settings[t]=!!a},...(0,He.OI)({showNotify:"main/showNotify"}),applyModal(){if("create-rank"===this.modal)mp.trigger2("ipad.organization.access.createRank",this.rankName,"family"===this.openedApp?"families":"fractions");else if("delete-rank"===this.modal){if(1==this.selectedRank)return void this.showNotify({text:this.$t("ipad.cannotRemoveFirstRank"),type:"error"});if(100==this.selectedRank)return void this.showNotify({text:this.$t("ipad.cannotRemoveLeaderRank"),type:"error"});mp.trigger2("ipad.organization.access.removeRank",this.selectedRank,"family"===this.openedApp?"families":"fractions"),this.myRank==this.selectedRank&&this.myRank--,this.selectedRank--}this.setModal(null)},renameRank(){this.selectedRankName=this.newRankName,mp.trigger2("ipad.organization.access.renameRank",this.selectedRank,this.newRankName,"family"===this.openedApp?"families":"fractions")},selectRank(e){this.selectedRank=parseInt(e),this.selectedRankName=this.ranks[this.selectedRank].name,this.newRankName=this.selectedRankName},setValue(e){this.isLeader||this.ranks[this.myRank]?.settings?.manageRank?this.selectedRank!=this.ranks.length-1&&(this.$store.commit("ipad/organization/access/setRankAccess",{rank:this.selectedRank,key:e}),mp.trigger2("ipad.organization.access.setRankAccess","family"===this.openedApp?"families":"fractions",e,this.ranks[this.selectedRank].settings[e],this.selectedRank)):this.showNotify({text:this.$t("cef.ipad.org.access.ranks.no-access"),type:"error"})},setModal(e){this.modal=e,this.rankName=""}}};const Ll=(0,et.Z)(Ml,[["render",Bl],["__scopeId","data-v-236bc5d0"]]);var Tl=Ll;const Il={class:"item__title"},Fl={class:"row-block align-center full-width justify-between rank-control"},Pl={class:"rank-control__title"},Al={class:"row-block align-center selector"},Rl=["onClick"],Ol={class:"selector__value"},jl=["onClick"];function Zl(e,t){const a=(0,o.resolveComponent)("PaddedImage"),i=(0,o.resolveComponent)("SVGComponent"),l=(0,o.resolveDirective)("smoothScroll");return(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"craft full-height full-width row-block"]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`})},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.availableItems,((t,l)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"item column-block",key:`${l}${t.itemId}`},[(0,o.createElementVNode)("div",Il,(0,o.toDisplayString)(e.$t(t.title)),1),(0,o.createVNode)(a,{class:"full-width item__picture",src:`${e.cdn}/img/inventory/items/${t.itemId}.png`},null,8,["src"]),(0,o.createElementVNode)("div",Fl,[(0,o.createElementVNode)("div",Pl,(0,o.toDisplayString)(e.$t("cef.ipad.org.access.craft.rank-access")),1),(0,o.createElementVNode)("div",Al,[(0,o.createElementVNode)("div",{class:"selector__arrow",onClick:a=>e.setRank("-",t)},[(0,o.createVNode)(i,{path:"icons/global/arrow.svg"})],8,Rl),(0,o.createElementVNode)("div",Ol,(0,o.toDisplayString)(100==Object.keys(e.ranks)[t.rank-1]?"Leader":t.rank),1),(0,o.createElementVNode)("div",{class:"selector__arrow",onClick:a=>e.setRank("+",t)},[(0,o.createVNode)(i,{path:"icons/global/arrow.svg"})],8,jl)])])])))),128))],6)),[[l,"craftScroll"]])}var Ul=a(83210),Hl={name:"craft",mixins:[Ge.Z,zl.Z],components:{PaddedImage:Ul.Z},computed:{...(0,He.rn)({member:e=>e.main.member,organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],craftData:e=>e.ipad.organization.access.craftData,ranks:e=>e.ipad.organization.access.ranks,configItems:e=>e.inventory.configItems,myRank:e=>e.ipad.organization.access.rank,openedApp:e=>e.ipad.openedApp,isLeader:e=>e.ipad.organization.access.isLeader}),availableItems(){const e=Object.keys(this.craftData).map((e=>({...this.configItems[e],itemId:e,rank:this.craftData[e]})));return e.sort(((e,t)=>e.width-t.width)),e}},methods:{...(0,He.OI)({showNotify:"main/showNotify"}),setRank(e,t){if(!this.isLeader&&!this.ranks[this.myRank]?.settings?.manageRank)return void this.showNotify({text:this.$t("cef.ipad.org.access.craft.no-access"),type:"error"});let a=t.rank;"-"===e?a=1===a?Object.keys(this.ranks).length:a-1:"+"===e&&(a=a===Object.keys(this.ranks).length?1:a+1),this.$store.commit("ipad/organization/access/setCraftAccess",{type:"family"===this.openedApp?"families":"fractions",itemId:t.itemId,rank:a}),mp.trigger2("ipad.organization.access.setCraftAccess","family"===this.openedApp?"families":"fractions",t.itemId,a)}}};const Gl=(0,et.Z)(Hl,[["render",Zl],["__scopeId","data-v-79d8723b"]]);var ql=Gl;const Wl={class:"row-block justify-between full-width"},Yl={key:0,class:"item__title"},Kl={key:1,class:"item__text-number align-center"},Xl={key:2,class:"item__fuelType align-center"},Jl={key:3,class:"item__title"},Ql={class:"control-bar column-block full-width"},en={class:"row-block align-center full-width justify-between rank"},tn={class:"control-bar__title"},an={class:"row-block align-center selector"},on=["onClick"],ln={class:"selector__value"},nn=["onClick"],rn={key:0,class:"row-block align-center full-width justify-between percent"},sn={class:"control-bar__title"},cn={class:"row-block align-center selector"},dn=["onClick"],mn={class:"selector__value"},pn=["onClick"],un={key:0,class:"owner row-block full-width justify-between align-center"},hn={class:"column-block align-start justify-start"},gn={class:"owner__title"},fn={class:"owner__value"},yn=["onClick"];function kn(e,t){const a=(0,o.resolveComponent)("SVGComponent"),i=(0,o.resolveDirective)("smoothScroll");return(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"vehicle row-block"]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`})},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.vehicles,(t=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["item column-block",{families:"families"===e.type}])},[(0,o.createElementVNode)("header",Wl,["families"===e.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",Yl,(0,o.toDisplayString)(e.unescapeString(e.getValidVehicleName({model:t.model}))),1)):(0,o.createCommentVNode)("",!0),"families"===e.type&&t.number?((0,o.openBlock)(),(0,o.createElementBlock)("div",Kl,(0,o.toDisplayString)(t.number),1)):(0,o.createCommentVNode)("",!0),"families"===e.type&&t.fuelType?((0,o.openBlock)(),(0,o.createElementBlock)("div",Xl,[(0,o.createTextVNode)((0,o.toDisplayString)(t.fuelType)+" ",1),(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/access/vehicles/fuel.svg"})])):(0,o.createCommentVNode)("",!0),"fractions"===e.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",Jl,(0,o.toDisplayString)(e.unescapeString(e.getValidVehicleName({model:t.model}))),1)):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("div",{style:(0,o.normalizeStyle)({"background-image":`url(${e.cdn}/img/vehicles/${t.model}.png)`}),class:"item__picture full-width"},null,4),(0,o.createElementVNode)("div",Ql,[(0,o.createElementVNode)("div",en,[(0,o.createElementVNode)("div",tn,(0,o.toDisplayString)(e.$t("cef.ipad.org.access.vehicle.rank-access"))+":",1),(0,o.createElementVNode)("div",an,[(0,o.createElementVNode)("div",{class:"selector__arrow",onClick:a=>e.setRank("-",t)},[(0,o.createVNode)(a,{path:"icons/global/arrow.svg"})],8,on),(0,o.createElementVNode)("div",ln,(0,o.toDisplayString)(100==Object.keys(e.ranks)[t.rank-1]?"Leader":t.rank),1),(0,o.createElementVNode)("div",{class:"selector__arrow",onClick:a=>e.setRank("+",t)},[(0,o.createVNode)(a,{path:"icons/global/arrow.svg"})],8,nn)])]),"families"!==e.type||t.familyCarriage?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",rn,[(0,o.createElementVNode)("div",sn,(0,o.toDisplayString)(e.$t("cef.ipad.org.access.vehicle.income-by-percent"))+":",1),(0,o.createElementVNode)("div",cn,[(0,o.createElementVNode)("div",{class:"selector__arrow",onClick:a=>e.changePercent("-",t)},[(0,o.createVNode)(a,{path:"icons/global/arrow.svg"})],8,dn),(0,o.createElementVNode)("div",mn,(0,o.toDisplayString)(t.percent),1),(0,o.createElementVNode)("div",{class:"selector__arrow",onClick:a=>e.changePercent("+",t)},[(0,o.createVNode)(a,{path:"icons/global/arrow.svg"})],8,pn)])]))]),"families"===e.type&&t.owner?((0,o.openBlock)(),(0,o.createElementBlock)("div",un,[(0,o.createElementVNode)("div",hn,[(0,o.createElementVNode)("span",gn,(0,o.toDisplayString)(e.$t("cef.ipad.org.access.vehicle.owner"))+":",1),(0,o.createElementVNode)("span",fn,(0,o.toDisplayString)(t.owner),1)]),e.isLeader||e.ranks[e.myRank]?.settings?.backVehicles?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,onClick:a=>e.getBack(t),class:"take-back"},(0,o.toDisplayString)(e.$t("cef.ipad.org.access.vehicle.return-owner")),9,yn)):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0)],2)))),256))],6)),[[i,"vehicleScroll"]])}var vn={name:"vehicle",mixins:[Ge.Z,zl.Z],computed:{...(0,He.rn)({type:e=>e.ipad.organization.access.type,fractionVehicles:e=>e.ipad.organization.access.fractionVehicles,familyVehicles:e=>e.ipad.organization.access.familyVehicles,ranks:e=>e.ipad.organization.access.ranks,organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],isLeader:e=>e.ipad.organization.access.isLeader,myRank:e=>e.ipad.organization.access.rank}),vehicles(){switch(this.type){case"fractions":return this.fractionVehicles;case"families":return this.familyVehicles}}},methods:{...(0,He.OI)({showNotify:"main/showNotify"}),changePercent(e,t){if(!this.isLeader)return void this.showNotify({text:this.$t("cef.ipad.org.access.vehicle.no-access"),type:"error"});let a=t.percent;"-"===e?a=0===a?10:a-1:"+"===e&&(a=10===a?0:a+1),this.$store.commit("ipad/organization/access/setVehiclePercent",{vehicle:t,percent:a}),mp.trigger2("ipad.organization.access.setVehiclePercent",t.id,a)},setRank(e,t){if(!this.isLeader&&!this.ranks[this.myRank]?.settings?.manageRank)return void this.showNotify({text:this.$t("cef.ipad.org.access.vehicle.no-access"),type:"error"});let a=t.rank;console.log(a),"-"===e?a=1===a?Object.keys(this.ranks).length:a-1:"+"===e&&(a=a===Object.keys(this.ranks).length?1:a+1),this.$store.commit("ipad/organization/access/setVehicleAccess",{vehicle:t,rank:a}),mp.trigger2("ipad.organization.access.setVehicleAccess",this.type,"families"===this.type?t.id:t.model,a)},getBack(e){mp.trigger2("ipad.organization.access.getBackFamilyVehicle",e.id,e.model)}}};const bn=(0,et.Z)(vn,[["render",kn],["__scopeId","data-v-b639e742"]]);var Nn=bn;const Vn={key:0,class:"upgrade-overlay"},wn={key:0,class:"lock full-width full-height column-block align-center"},En={class:"lock__title full-width"},Sn={class:"full-width column-block justify-between"},Cn={class:"row-block full-width justify-between"},_n={class:"title"},$n=["onClick"],Dn={class:"content column-block"},Bn={key:0,class:"control-bar row-block align-center full-width justify-between"},xn={class:"control-bar__title"},zn={class:"row-block align-center selector"},Mn=["onClick"],Ln={class:"selector__value"},Tn=["onClick"],In={key:1,class:"data-container row-block justify-between"},Fn={class:"data-container__title"},Pn={class:"row-block align-center justify-start"},An=["onUpdate:modelValue","onChange"],Rn={class:"owner row-block full-width justify-between align-center"},On={key:0,class:"item-button__row"},jn=["onClick"],Zn=["onClick"],Un={key:1,class:"data-container row-block justify-between full-width"},Hn={class:"data-container__title"},Gn={class:"data-container__value"},qn={key:2,class:"owner row-block full-width justify-between align-center"},Wn={class:"data-container row-block justify-between full-width"},Yn={class:"data-container__title"},Kn={key:0,class:"data-container__value"},Xn={key:1,class:"data-container__value"},Jn={key:3,class:"owner row-block full-width justify-between align-center"},Qn={class:"data-container row-block justify-between full-width"},er={class:"data-container__title"},tr={class:"data-container__value"},ar={key:4,class:"owner row-block full-width justify-between align-center"},or={class:"data-container row-block justify-between full-width"},ir={class:"data-container__title"},lr={class:"data-container__value"},nr={key:5,class:"owner row-block full-width justify-between align-center"},rr={class:"data-container row-block justify-between full-width"},sr={class:"data-container__title"},cr={class:"data-container__value"},dr={key:6,class:"owner row-block full-width justify-between align-center"},mr={class:"data-container row-block justify-between full-width"},pr={class:"data-container__title"},ur={class:"data-container__value"},hr={key:7,class:"owner row-block full-width justify-between align-center"},gr={class:"data-container row-block justify-between full-width"},fr={class:"data-container__title"},yr={class:"data-container__value"};function kr(e,t){const a=(0,o.resolveComponent)("warehouse-card"),i=(0,o.resolveComponent)("SVGComponent");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"property row-block full-width full-height"]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`,"--main-text-color":`${e.getCorrectContrastingFontColor(e.organizationColorSchema.main,"#fbfbfb","#060606")}`})},[(0,o.createVNode)(o.Transition,{name:"local-fade",appear:""},{default:(0,o.withCtx)((()=>[e.upgradePropertyId?((0,o.openBlock)(),(0,o.createElementBlock)("div",Vn,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.warehouseUpdates,(t=>((0,o.openBlock)(),(0,o.createBlock)(a,{key:t.level,card:t,theme:e.organizationColorSchema.theme},null,8,["card","theme"])))),128))])):(0,o.createCommentVNode)("",!0)])),_:1}),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.property,((t,a)=>(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["property-item column-block",{hidden:t.hidden}])},[t.hidden?((0,o.openBlock)(),(0,o.createElementBlock)("div",wn,[(0,o.createElementVNode)("span",En,(0,o.toDisplayString)(e.$t("cef.ipad.org.access.property.hidden")),1),(0,o.createVNode)(i,{class:"lock-icon hidden",path:"icons/ipad/apps/organizations/access/lock.svg"})])):((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:1},[(0,o.createElementVNode)("header",Sn,["offices"===t.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:"background",style:(0,o.normalizeStyle)({"background-image":`url(${e.cdn}/img/property/offices/${t.buildingId}.jpg)`})},null,4)):"warehouses"===t.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:1,class:"background",style:(0,o.normalizeStyle)({"background-image":`url(${e.cdn}/img/property/warehouses/${t.buildingId}.jpg)`})},null,4)):"mapObject"===t.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:2,class:"background",style:(0,o.normalizeStyle)({"background-image":`url(${e.cdn}/img/property/map/${t.name}_${t.paramId}.png)`})},null,4)):"rentProperty"===t.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:3,class:"background",style:(0,o.normalizeStyle)({"background-image":`url(${e.cdn}/img/property/rentProperty/${t.name}.png)`})},null,4)):((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:4,class:"background",style:(0,o.normalizeStyle)({"background-image":`url(${e.cdn}/img/property/${t.type}/exteriors/${t.id}.jpg)`})},null,4)),(0,o.createElementVNode)("div",Cn,[(0,o.createElementVNode)("span",_n,(0,o.toDisplayString)(e.$t(t.title,t.args)),1),(0,o.createElementVNode)("div",{onClick:a=>e.setGPS(t),class:"find-place"},[(0,o.createVNode)(i,{path:"icons/ipad/apps/organizations/marker.svg",class:"find-place__picture"})],8,$n)])]),(0,o.createElementVNode)("div",Dn,["warehouses"===t.type||"offices"===t.type||"houses"===t.type||["mapObject","rentProperty"].includes(t.type)?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",Bn,[(0,o.createElementVNode)("div",xn,(0,o.toDisplayString)(e.$t("cef.ipad.org.access.property.rank"))+":",1),(0,o.createElementVNode)("div",zn,[(0,o.createElementVNode)("div",{class:"selector__arrow",onClick:a=>e.setRank("-",t)},[(0,o.createVNode)(i,{path:"icons/global/arrow.svg"})],8,Mn),(0,o.createElementVNode)("div",Ln,(0,o.toDisplayString)(100==Object.keys(e.ranks)[t.rank-1]?"Leader":t.rank),1),(0,o.createElementVNode)("div",{class:"selector__arrow",onClick:a=>e.setRank("+",t)},[(0,o.createVNode)(i,{path:"icons/global/arrow.svg"})],8,Tn)])])),"warehouses"===t.type||"offices"===t.type||["mapObject","rentProperty"].includes(t.type)?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",In,[(0,o.createElementVNode)("span",Fn,(0,o.toDisplayString)(e.$t("cef.ipad.org.access.property.locked")),1),(0,o.createElementVNode)("div",Pn,[(0,o.createVNode)(i,{path:"icons/ipad/apps/organizations/access/unlock.svg",class:(0,o.normalizeClass)(["lock-icon",{active:!t.isHouseLocked}])},null,8,["class"]),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"checkbox",class:"data-container__checkbox","onUpdate:modelValue":e=>t.isHouseLocked=e,onChange:a=>e.setLocked(t)},null,40,An),[[o.vModelCheckbox,t.isHouseLocked]]),(0,o.createVNode)(i,{path:"icons/ipad/apps/organizations/access/lock.svg",class:(0,o.normalizeClass)(["lock-icon",{active:t.isHouseLocked}])},null,8,["class"])])])),(0,o.createElementVNode)("div",Rn,[e.isLeader&&"houses"===t.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",On,[(0,o.createElementVNode)("div",{onClick:a=>e.openWarehouseUpgrade(t),class:"item-button"},(0,o.toDisplayString)(e.$t("cef.ipad.org.access.property.warehouse-upgrade")),9,jn),(0,o.createElementVNode)("div",{onClick:a=>e.getBackHouse(t),class:"item-button"},(0,o.toDisplayString)(e.$t("cef.ipad.org.access.property.return-owner")),9,Zn)])):(0,o.createCommentVNode)("",!0),"warehouses"===t.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",Un,[(0,o.createElementVNode)("span",Hn,(0,o.toDisplayString)(e.$t("cef.property.room-capacity")),1),(0,o.createElementVNode)("span",Gn,(0,o.toDisplayString)(e.$n(t.capacity/1e3,"any-number"))+" "+(0,o.toDisplayString)(e.$t("cef.property.kg")),1)])):(0,o.createCommentVNode)("",!0)]),"offices"===t.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",qn,[(0,o.createElementVNode)("div",Wn,[(0,o.createElementVNode)("span",Yn,(0,o.toDisplayString)(e.$t("cef.property.office-garage")),1),t.garage?((0,o.openBlock)(),(0,o.createElementBlock)("span",Kn,(0,o.toDisplayString)(t.garage)+" "+(0,o.toDisplayString)(e.$t("cef.property.garageSlots")),1)):((0,o.openBlock)(),(0,o.createElementBlock)("span",Xn,(0,o.toDisplayString)(e.$t("cef.property.no")),1))])])):(0,o.createCommentVNode)("",!0),"offices"===t.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",Jn,[(0,o.createElementVNode)("div",Qn,[(0,o.createElementVNode)("span",er,(0,o.toDisplayString)(e.$t("cef.property.office-safe")),1),(0,o.createElementVNode)("span",tr,(0,o.toDisplayString)(t.moneySafe?e.$t("cef.property.yes"):e.$t("cef.property.no")),1)])])):(0,o.createCommentVNode)("",!0),"offices"===t.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",ar,[(0,o.createElementVNode)("div",or,[(0,o.createElementVNode)("span",ir,(0,o.toDisplayString)(e.$t("cef.property.office-gunlocker")),1),(0,o.createElementVNode)("span",lr,(0,o.toDisplayString)(t.gunLocker?e.$t("cef.property.yes"):e.$t("cef.property.no")),1)])])):(0,o.createCommentVNode)("",!0),"offices"===t.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",nr,[(0,o.createElementVNode)("div",rr,[(0,o.createElementVNode)("span",sr,(0,o.toDisplayString)(e.$t("cef.property.office-wardrobe")),1),(0,o.createElementVNode)("span",cr,(0,o.toDisplayString)(t.wardrobe?e.$t("cef.property.yes"):e.$t("cef.property.no")),1)])])):(0,o.createCommentVNode)("",!0),"offices"===t.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",dr,[(0,o.createElementVNode)("div",mr,[(0,o.createElementVNode)("span",pr,(0,o.toDisplayString)(e.$t("cef.property.office-warehouse")),1),(0,o.createElementVNode)("span",ur,(0,o.toDisplayString)(t.warehouse?e.$t("cef.property.yes"):e.$t("cef.property.no")),1)])])):(0,o.createCommentVNode)("",!0),"offices"===t.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",hr,[(0,o.createElementVNode)("div",gr,[(0,o.createElementVNode)("span",fr,(0,o.toDisplayString)(e.$t("cef.property.office-heliport")),1),(0,o.createElementVNode)("span",yr,(0,o.toDisplayString)(t.heliport?e.$t("cef.property.yes"):e.$t("cef.property.no")),1)])])):(0,o.createCommentVNode)("",!0)])],64))],2)),[[o.vShow,!t.hidden||t.hidden&&e.isLeader]]))),256))],6)}var vr=a(78519),br={name:"property",mixins:[Ge.Z,Je.Z],components:{WarehouseCard:vr.Z},mounted(){for(const e of this.property)this.models.push(e.rank);this.property=this.$store.state.ipad.organization.access.familyProperty},data(){return{models:[],property:[]}},computed:{...(0,He.rn)({organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],ranks:e=>e.ipad.organization.access.ranks,isLeader:e=>e.ipad.organization.access.isLeader,upgradePropertyId:e=>e.ipad.organization.access.upgradePropertyId,upgradePropertyCardsState:e=>e.ipad.organization.access.upgradePropertyCards,warehouseUpdatesState:e=>e.ipad.home.warehouseUpdates,myRank:e=>e.ipad.organization.access.rank,openedApp:e=>e.ipad.openedApp}),warehouseUpdates(){const e=this.toRawStructuredClone(this.warehouseUpdatesState);let t=-1;for(let a=e.length-1;a>=0;a-=1)if(e[a].isInstalled){t=a;break}return-1!==t&&(e[t].isCurrent=!0),e},upgradePropertyCards(){const e=this.toRawStructuredClone(this.upgradePropertyCardsState);let t=-1;for(let a=e.length-1;a>=0;a-=1)if(e[a].isInstalled){t=a;break}return-1!==t&&(e[t].isCurrent=!0),e}},methods:{...(0,He.OI)({showNotify:"main/showNotify"}),getPropPicture(e){switch(e.type){case"houses":return`${this.cdn}/img/property/${e.type}/exteriors/${e.id}.jpg`;case"warehouses":return`${this.cdn}/img/property/warehouses/${e.buildingId}.jpg`;case"mapObject":return e.paramId?`${this.cdn}/img/property/map/${e.name}_${e.paramId}.png`:`${this.cdn}/img/property/map/${e.name}.png`}},setGPS(e){switch(e.type){case"houses":mp.trigger2("ipad.organization.access.setPropertyGPS",e.type,e.id);break;case"warehouses":mp.trigger2("ipad.organization.access.setPropertyGPS",e.type,e.buildingId,"familyWarehouse");break;case"offices":mp.trigger2("ipad.organization.access.setPropertyGPS",e.type,e.buildingId,"familyOffice");break;case"mapObject":mp.trigger2("ipad.organization.access.setPropertyGPS",e.type,e.id,"mapObject");break}},setRank(e,t){if(!this.isLeader&&!this.ranks[this.myRank]?.settings?.manageRank)return void this.showNotify({text:this.$t("cef.ipad.org.access.property.no-access"),type:"error"});let a=t.rank;"-"===e?a=1===a?Object.keys(this.ranks).length:a-1:"+"===e&&(a=a===Object.keys(this.ranks).length?1:a+1),this.$store.commit("ipad/organization/access/setPropertyAccess",{property:t,rank:a}),mp.trigger2("ipad.organization.access.setPropertyAccess",t.id,a)},setLocked(e){mp.trigger2("ipad.organization.access.setHouseLocked",e.isHouseLocked)},getBackHouse(e){mp.trigger2("ipad.organization.access.getBackFamilyHouse",e.id)},openWarehouseUpgrade(e){mp.trigger2("ipad.organization.access.loadPumping",e.id),this.$store.dispatch("ipad/organization/access/setUpgradePropertyId",e.id)}}};const Nr=(0,et.Z)(br,[["render",kr],["__scopeId","data-v-2a898524"]]);var Vr=Nr;function wr(e,t){const a=(0,o.resolveComponent)("Item"),i=(0,o.resolveDirective)("smoothScroll");return(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"kits row-block"]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`})},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.kits,(t=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["column-block",{families:"families"===e.type}])},[(0,o.createVNode)(a,{kit:t,rank:e.rank,ranks:e.ranks,isLeader:e.isLeader,myRank:e.myRank,theme:e.organizationColorSchema.theme},null,8,["kit","rank","ranks","isLeader","myRank","theme"])],2)))),256))],6)),[[i,"vehicleScroll"]])}const Er={class:"item"},Sr={class:"row-block justify-between full-width"},Cr={class:"kitName"},_r={class:"info"},$r={class:"title"},Dr={class:"textures"},Br={key:0,class:"item__title"},xr={class:"main"},zr={class:"img-wrapper"},Mr=["src"],Lr={class:"control-bar column-block full-width"},Tr={class:"row-block align-center full-width justify-between"},Ir={class:"control-bar__title"},Fr={class:"selector"},Pr={class:"itemRank"};function Ar(e,t,a,i,l,n){const r=(0,o.resolveComponent)("SVGComponent");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["item-wrapper",a.theme])},[(0,o.createElementVNode)("div",Er,[(0,o.createElementVNode)("header",Sr,[(0,o.createElementVNode)("div",Cr,(0,o.toDisplayString)(a.kit.kitName),1),(0,o.createElementVNode)("div",_r,[(0,o.createElementVNode)("div",$r,(0,o.toDisplayString)(n.item?.title),1),(0,o.createElementVNode)("div",Dr,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(l.counter+1),1),(0,o.createTextVNode)(" / "+(0,o.toDisplayString)(n.kitLength),1)])]),"fractions"===e.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",Br,(0,o.toDisplayString)(e.unescapeString(e.getValidVehicleName({model:e.vehicle?.model}))),1)):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("div",xr,[(0,o.createElementVNode)("div",{onClick:t[0]||(t[0]=(...e)=>n.changeDownCounter&&n.changeDownCounter(...e)),class:"arrow"},[(0,o.createVNode)(r,{class:"left",path:"icons/ipad/apps/organizations/arrow.svg"})]),(0,o.createElementVNode)("div",zr,[(0,o.withDirectives)((0,o.createElementVNode)("img",{class:"image",onLoad:t[1]||(t[1]=e=>l.imageLoaded=!0),onError:t[2]||(t[2]=e=>l.imageLoaded=!1),src:`${e.getRouletteItemImageNew(`${n.item?.type}-${n.item?.isProp}-${n.item?.component}-${n.item?.drawable}-${n.item?.textures}-${n.item?.gender}`,"clothes")}`,alt:""},null,40,Mr),[[o.vShow,l.imageLoaded]]),(0,o.withDirectives)((0,o.createVNode)(r,{class:"load",path:"icons/ipad/apps/organizations/load.svg"},null,512),[[o.vShow,!l.imageLoaded]])]),(0,o.createElementVNode)("div",{onClick:t[3]||(t[3]=(...e)=>n.changeUpCounter&&n.changeUpCounter(...e)),class:"arrow"},[(0,o.createVNode)(r,{class:"right",path:"icons/ipad/apps/organizations/arrow.svg"})])]),(0,o.createElementVNode)("div",Lr,[(0,o.createElementVNode)("div",Tr,[(0,o.createElementVNode)("div",Ir,(0,o.toDisplayString)(e.$t("cef.ipad.org.access.vehicle.rank-access"))+":",1),(0,o.createElementVNode)("div",Fr,[(0,o.createElementVNode)("div",{class:"selector__arrow",onClick:t[4]||(t[4]=e=>n.setRank("-",{rank:a.kit.rank,id:a.kit.id}))},[(0,o.createVNode)(r,{path:"icons/global/arrow.svg"})]),(0,o.createElementVNode)("div",Pr,(0,o.toDisplayString)(n.itemRank),1),(0,o.createElementVNode)("div",{class:"right-arrow selector__arrow",onClick:t[5]||(t[5]=e=>n.setRank("+",{rank:a.kit.rank,id:a.kit.id}))},[(0,o.createVNode)(r,{path:"icons/global/arrow.svg"})])])])])])],2)}var Rr={props:{kit:{type:Object,required:!0},myRank:{type:Number},isLeader:{type:Object},ranks:{type:Object},theme:{type:String}},data(){return{counter:0,imageLoaded:!1}},computed:{item(){return this.kit?.items[this.counter]},itemRank(){return 100==Object.keys(this.ranks)[this.kit?.rank-1]?"Leader":this.kit.rank},kitLength(){return this.kit?.items?.length}},methods:{...(0,He.OI)({showNotify:"main/showNotify"}),changeUpCounter(){console.log(this.counter),this.counter<this.kit?.items?.length-1?this.counter+=1:this.counter=0},changeDownCounter(){console.log(this.counter),this.counter>0?this.counter-=1:this.counter=this.kit?.items?.length-1},setRank(e,t){if(!this.isLeader&&!this.ranks[this.myRank]?.settings?.manageRank)return void this.showNotify({text:this.$t("cef.ipad.org.access.vehicle.no-access"),type:"error"});let a=t.rank;console.log(a,"ДОrank"),"-"===e?a=1===a?Object.keys(this.ranks)?.length:a-1:"+"===e&&(a=a===Object.keys(this.ranks)?.length?1:a+1),console.log(a,"rank"),this.$store.commit("ipad/organization/access/setKitsAccess",{type:"fractions"===this.openedApp,kit:t,rank:a}),mp.trigger2("ipad.organization.access.setKitsAccess","fractions"===this.openedApp,t.id,a)}},mounted(){}};const Or=(0,et.Z)(Rr,[["render",Ar],["__scopeId","data-v-7cb06c83"]]);var jr=Or,Zr={name:"vehicle",mixins:[Ge.Z,zl.Z],components:{Item:jr},computed:{...(0,He.rn)({type:e=>e.ipad.organization.access.type,fractionKits:e=>e.ipad.organization.access.fractionKits,ranks:e=>e.ipad.organization.access.ranks,organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],isLeader:e=>e.ipad.organization.access.isLeader,myRank:e=>e.ipad.organization.access.rank}),kits(){switch(this.type){case"fractions":return this.fractionKits}}},methods:{...(0,He.OI)({showNotify:"main/showNotify"})}};const Ur=(0,et.Z)(Zr,[["render",wr],["__scopeId","data-v-27c15de6"]]);var Hr=Ur,Gr={name:"access",mixins:[Ge.Z],components:{Ranks:Tl,Craft:ql,Vehicle:Nn,Property:Vr,Kits:Hr},computed:(0,He.rn)({organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],page:e=>e.ipad.organization.access.page,isLoading:e=>e.ipad.organization.isLoading})};const qr=(0,et.Z)(Gr,[["render",qi],["__scopeId","data-v-31b356de"]]);var Wr=qr;const Yr=e=>((0,o.pushScopeId)("data-v-030468cc"),e=e(),(0,o.popScopeId)(),e),Kr={key:0,class:"logs column-block full-width full-height"},Xr={class:"row-block"},Jr={class:"search-bar align-center row-reverse-block"},Qr=["placeholder"],es={class:"table column-block full-height"},ts={class:"container column-block full-height full-width"},as={class:"headers row-block full-width"},os=["onClick"],is={class:"title-content align-center"},ls={key:0,class:"table-loader full-width"},ns=Yr((()=>(0,o.createElementVNode)("div",{class:"loader"},null,-1))),rs=[ns],ss={class:"table-row row-block align-center full-width"},cs={class:"row-item"},ds={class:"row-item"},ms={class:"row-item"},ps={class:"row-item"},us={class:"row-item"},hs={class:"row-item"},gs={class:"row-item"},fs={key:1,class:"equipment row-block full-width full-height justify-between"},ys={class:"table column-block full-height"},ks={class:"container column-block full-height full-width"},vs={class:"headers justify-between row-block full-width"},bs={class:"headers__title align-center"},Ns={class:"title-content align-center"},Vs={class:"table-row store row-block align-center full-width justify-between"},ws={class:"row-item"},Es={class:"row-item"},Ss={class:"table column-block full-height"},Cs={class:"container column-block full-height full-width"},_s={class:"headers justify-between row-block full-width"},$s={class:"headers__title align-center"},Ds={class:"title-content align-center"},Bs={class:"table-row store row-block align-center full-width justify-between"},xs={class:"row-item"},zs={class:"row-item"};function Ms(e,t){const a=(0,o.resolveComponent)("SVGComponent"),i=(0,o.resolveComponent)("vue-select"),l=(0,o.resolveComponent)("DynamicScrollerItem"),n=(0,o.resolveComponent)("DynamicScroller"),r=(0,o.resolveComponent)("RecycleScroller");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"store-page full-width full-height"]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`,"--background":`${e.organizationColorSchema.backgroundColor}`})},[e.isLoading?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},["logs"===e.storeCategory?((0,o.openBlock)(),(0,o.createElementBlock)("div",Kr,[(0,o.createElementVNode)("header",Xr,[(0,o.createElementVNode)("div",Jr,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=t=>e.nameFilter=t),placeholder:e.$t("cef.ipad.org.store.enter-login"),class:(0,o.normalizeClass)(["search-bar__input full-height full-width",{notEmpty:e.nameFilter}])},null,10,Qr),[[o.vModelText,e.nameFilter,void 0,{trim:!0}]]),(0,o.createVNode)(a,{class:"search-bar__picture",path:"icons/ipad/apps/organizations/search.svg"})]),(0,o.createVNode)(i,{active:0,"item-list":e.filters,bindTitle:"title",class:(0,o.normalizeClass)(["select-menu",{selected:e.actionFilter}]),onSetItem:t[1]||(t[1]=t=>e.setFilterType(t))},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(a,{class:"filter",path:"icons/ipad/apps/organizations/calls/filter.svg"}),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.actionFilter?e.actionFilter.title:e.$t("cef.ipad.org.store.select-action")),1)])),_:1},8,["item-list","class"])]),(0,o.createElementVNode)("div",es,[(0,o.createElementVNode)("div",ts,[(0,o.createElementVNode)("div",as,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.headers,((t,i)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{onClick:a=>e.sorting(t.path),class:"headers__title align-center"},[(0,o.createElementVNode)("div",is,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(t.title),1),(0,o.withDirectives)((0,o.createVNode)(a,{class:(0,o.normalizeClass)({selected:e.checkSortIcon()}),path:"icons/global/chevron.svg"},null,8,["class"]),[[o.vShow,e.tempSort&&e.tempSort.title.includes(t.title)]])])],8,os)))),256)),e.loader?((0,o.openBlock)(),(0,o.createElementBlock)("div",ls,rs)):(0,o.createCommentVNode)("",!0)]),(0,o.createVNode)(n,{class:"table-view full-width full-height column-block",items:e.logs,"min-item-size":45/1080*e.windowHeight,emitUpdate:!0,ref:"storeLogs",onScroll:t[2]||(t[2]=t=>e.updateList("storeLogs","logs",e.onPageChange,45/1080*e.windowHeight)),"key-field":"id"},{default:(0,o.withCtx)((({item:t,index:a,active:i})=>[(0,o.createVNode)(l,{item:t,active:i,"data-index":a},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",ss,[(0,o.createElementVNode)("div",cs,(0,o.toDisplayString)(t.login),1),(0,o.createElementVNode)("div",ds,(0,o.toDisplayString)(t.uid),1),(0,o.createElementVNode)("div",ms,(0,o.toDisplayString)(t.rank),1),(0,o.createElementVNode)("div",ps,(0,o.toDisplayString)(e.$t(t.action,t.args)),1),(0,o.createElementVNode)("div",us,(0,o.toDisplayString)(t.count),1),(0,o.createElementVNode)("div",hs,(0,o.toDisplayString)(e.$t(t.item)),1),(0,o.createElementVNode)("div",gs,(0,o.toDisplayString)(t.date),1)])])),_:2},1032,["item","active","data-index"])])),_:1},8,["items","min-item-size"])])])])):((0,o.openBlock)(),(0,o.createElementBlock)("div",fs,[(0,o.createElementVNode)("div",ys,[(0,o.createElementVNode)("div",ks,[(0,o.createElementVNode)("div",vs,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)([e.$t("cef.ipad.org.store.weapon"),e.$t("cef.ipad.org.store.amount")],((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",bs,[(0,o.createElementVNode)("div",Ns,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e),1)])])))),256))]),(0,o.createVNode)(r,{class:"table-view full-width full-height column-block",items:e.weapons,"item-size":47/1080*e.windowHeight,emitUpdate:!0,ref:"weaponsLogs",onScroll:t[3]||(t[3]=t=>e.updateList("weaponsLogs","weapons",e.onPageChange,45/1080*e.windowHeight)),"key-field":"title"},{default:(0,o.withCtx)((({item:t,index:a})=>[(0,o.createElementVNode)("div",Vs,[(0,o.createElementVNode)("div",ws,(0,o.toDisplayString)(e.$t(t.title)),1),(0,o.createElementVNode)("div",Es,(0,o.toDisplayString)(t.count),1)])])),_:1},8,["items","item-size"])])]),(0,o.createElementVNode)("div",Ss,[(0,o.createElementVNode)("div",Cs,[(0,o.createElementVNode)("div",_s,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)([e.$t("cef.ipad.org.store.other-items"),e.$t("cef.ipad.org.store.amount")],((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",$s,[(0,o.createElementVNode)("div",Ds,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e),1)])])))),256))]),(0,o.createVNode)(r,{class:"table-view full-width full-height column-block",items:e.others,"item-size":47/1080*e.windowHeight,emitUpdate:!0,ref:"othersLogs",onScroll:t[4]||(t[4]=t=>e.updateList("othersLogs","others",e.onPageChange,45/1080*e.windowHeight)),"key-field":"title"},{default:(0,o.withCtx)((({item:t,index:a})=>[(0,o.createElementVNode)("div",Bs,[(0,o.createElementVNode)("div",xs,(0,o.toDisplayString)(e.$t(t.title)),1),(0,o.createElementVNode)("div",zs,(0,o.toDisplayString)(t.count),1)])])),_:1},8,["items","item-size"])])])]))],64))],6)}var Ls={name:"store",mixins:[ca.Z,sa],components:{VueSelect:We.Z},LOGS_PAGE:"logs",created(){this.filters=[{title:this.$t("cef.ipad.org.store.name-surname"),path:"login"},{title:"UID",path:"uid"},{title:this.$t("cef.ipad.org.store.rank"),path:"rank"},{title:this.$t("cef.ipad.org.store.amount"),path:"amount"},{title:this.$t("cef.ipad.org.store.item"),path:"item"}],this.actionFilter=this.filters[0]},data(){return{nameFilter:"",actionFilter:null,filters:[],tempSort:null,pageNumber:1,debounce:null,sort:null,paginationDebounce:null}},computed:{...(0,He.rn)({weapons:e=>e.ipad.organization.store.weapons,others:e=>e.ipad.organization.store.others,logs:e=>e.ipad.organization.store.logs,endList:e=>e.ipad.organization.store.endList,organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],storeCategory:e=>e.ipad.organization.store.category,loader:e=>e.ipad.organization.store.loader,openedApp:e=>e.ipad.openedApp,isLoading:e=>e.ipad.organization.isLoading}),headers(){return[{title:this.$t("cef.ipad.org.store.name-surname"),path:"login"},{title:"UID",path:"uid"},{title:this.$t("cef.ipad.org.store.rank"),path:"rank"},{title:this.$t("cef.ipad.org.store.action"),path:"action"},{title:this.$t("cef.ipad.org.store.amount"),path:"amount"},{title:this.$t("cef.ipad.org.store.item"),path:"item"},{title:this.$t("cef.ipad.org.store.date"),path:"date"}]}},methods:{onLogsScroll(){this.paginationDebounce&&this.paginationDebounce>Date.now()/1e3||this.logs.length&&(this.logs.length<50||this.endList||(this.pageNumber++,mp.trigger2("ipad.organization.store.getLogsData","family"===this.openedApp?"families":"fractions",this.pageNumber,this.sort,this.selectedFilter?this.selectedFilter.path:null,this.nameFilter),this.$store.commit("ipad/organization/store/setLoader",!0)))},sorting(e){switch(this.tempSort=this.headers.find((t=>t.path===e)),e){case"login":e="a.login";break;case"uid":e="a.id";break;case"rank":e="fr.rank";break;case"action":e="action";break;case"amount":e="i.amount";break;case"item":e="i.itemId";break;case"date":e="i.date";break}if(this.sort){const t=this.sort.split("-");e===t[0]?this.sort=`${e}-${"desc"===t[t.length-1]?"asc":"desc"}`:this.sort=`${e}-desc`}else this.sort=`${e}-desc`;this.pageNumber=1,mp.trigger2("ipad.organization.store.getLogsData","family"===this.openedApp?"families":"fractions",this.pageNumber,this.sort,null,null),this.paginationDebounce=Date.now()/1e3+1,this.$store.commit("ipad/organization/store/setLoader",!0)},checkSortIcon(){if(!this.sort)return;const e=this.sort.split("-");return"desc"!==e[e.length-1]},clearSort(){this.tempSort=null,this.sort=null},clearSearchModifiers(){this.pageNumber=1,mp.trigger2("ipad.organization.store.getLogsData","family"===this.openedApp?"families":"fractions"),this.paginationDebounce=Date.now()/1e3+1,this.$store.commit("ipad/organization/store/setLoader",!0),this.clearSort()},setFilterType(e){this.actionFilter&&this.actionFilter.path==e.path?this.actionFilter=null:this.actionFilter=e,this.actionFilter?this.nameFilter&&this.nameFilter.length&&(this.clearSort(),this.pageNumber=1,mp.trigger2("ipad.organization.store.getLogsData","family"===this.openedApp?"families":"fractions",this.pageNumber,null,this.actionFilter.path,this.nameFilter),this.paginationDebounce=Date.now()/1e3+1,this.$store.commit("ipad/organization/store/setLoader",!0)):this.nameFilter&&this.nameFilter.length&&this.clearSearchModifiers()}},watch:{nameFilter(e){clearTimeout(this.debounce),this.debounce=setTimeout((()=>{e.length&&this.actionFilter?(this.clearSort(),this.pageNumber=1,mp.trigger2("ipad.organization.store.getLogsData","family"===this.openedApp?"families":"fractions",this.pageNumber,null,e,this.actionFilter.path),this.paginationDebounce=Date.now()/1e3+1,this.$store.commit("ipad/organization/store/setLoader",!0)):!e.length&&this.actionFilter&&(this.actionFilter=null,this.clearSearchModifiers())}),1e3)},storeCategory(e){e===this.$options.LOGS_PAGE&&(this.pageNumber=0)}}};const Ts=(0,et.Z)(Ls,[["render",Ms],["__scopeId","data-v-030468cc"]]);var Is=Ts;const Fs={class:"row-block"},Ps={class:"search-bar align-center row-reverse-block"},As=["placeholder"],Rs={class:"table column-block full-height"},Os={class:"container column-block full-height full-width"},js={class:"headers row-block full-width"},Zs=["onClick"],Us={class:"title-content align-center"},Hs={class:"table-loader full-width"},Gs={key:0,class:"loader"},qs={class:"row-item"},Ws={class:"row-item"},Ys={class:"row-item"},Ks={class:"row-item"},Xs={class:"row-item"},Js={class:"row-item"},Qs={class:"row-item"};function ec(e,t){const a=(0,o.resolveComponent)("SVGComponent"),i=(0,o.resolveComponent)("vue-select"),l=(0,o.resolveComponent)("DynamicScrollerItem"),n=(0,o.resolveComponent)("DynamicScroller"),r=(0,o.resolveComponent)("modal"),s=(0,o.resolveDirective)("smoothScroll");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"balance-page full-width full-height column-block"]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`,"--background":`${e.organizationColorSchema.backgroundColor}`,"--main-text-color":`${e.getCorrectContrastingFontColor(e.organizationColorSchema.main,"#fbfbfb","#060606")}`})},[e.isLoading?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createElementVNode)("header",Fs,[(0,o.createElementVNode)("div",Ps,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=t=>e.search=t),placeholder:e.$t("cef.ipad.org.balance.enter-login"),class:(0,o.normalizeClass)(["search-bar__input full-height full-width",{notEmpty:e.search}])},null,10,As),[[o.vModelText,e.search,void 0,{trim:!0}]]),(0,o.createVNode)(a,{class:"search-bar__picture",path:"icons/ipad/apps/organizations/search.svg"})]),(0,o.createVNode)(i,{active:0,"item-list":e.filters,bindTitle:"title",class:(0,o.normalizeClass)(["select-menu",{selected:e.selectedFilter}]),onSetItem:t[1]||(t[1]=t=>e.setFilterType(t))},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(a,{class:"filter",path:"icons/ipad/apps/organizations/calls/filter.svg"}),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.selectedFilter?e.selectedFilter.title:e.$t("cef.ipad.org.balance.select-filter")),1)])),_:1},8,["item-list","class"])]),(0,o.createElementVNode)("div",Rs,[(0,o.createElementVNode)("div",Os,[(0,o.createElementVNode)("div",js,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.headers,((t,i)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{onClick:a=>e.sorting(t.path),class:"headers__title align-center"},[(0,o.createElementVNode)("div",Us,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(t.title),1),(0,o.withDirectives)((0,o.createVNode)(a,{class:(0,o.normalizeClass)([{selected:e.checkSortIcon()},"drop-arrow"]),path:"icons/global/chevron.svg"},null,8,["class"]),[[o.vShow,e.tempSort&&e.tempSort.title.includes(t.title)]])])],8,Zs)))),256)),(0,o.createElementVNode)("div",Hs,[e.loader?((0,o.openBlock)(),(0,o.createElementBlock)("div",Gs)):(0,o.createCommentVNode)("",!0)])]),(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createBlock)(n,{class:"table-view full-width full-height column-block",items:e.logs,"min-item-size":45/1080*e.windowHeight,emitUpdate:!0,ref:"balanceLogs",onScroll:t[2]||(t[2]=t=>e.updateList("balanceLogs","logs",e.onPageChange,45/1080*e.windowHeight)),"key-field":"id"},{default:(0,o.withCtx)((({item:t,index:a,active:i})=>[(0,o.createVNode)(l,{item:t,active:i,"data-index":a},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["table-row row-block align-center full-width",{"extended-row":e.$t(t.comment,t.args).length>25}])},[(0,o.createElementVNode)("span",qs,(0,o.toDisplayString)(t.login),1),(0,o.createElementVNode)("span",Ws,(0,o.toDisplayString)(t.uid),1),(0,o.createElementVNode)("span",Ys,(0,o.toDisplayString)(t.login?100==t.rank?"Leader":t.rank:"—"),1),(0,o.createElementVNode)("span",Ks,(0,o.toDisplayString)(e.$et(t.comment,t.args)),1),(0,o.createElementVNode)("span",Xs,(0,o.toDisplayString)(t.args&&t.args.reason?e.$t(t.args.reason,t.args):"—"),1),(0,o.createElementVNode)("span",Js,(0,o.toDisplayString)(e.$n(t.amount/100,"game-currency-decimal")),1),(0,o.createElementVNode)("span",Qs,(0,o.toDisplayString)(t.date),1)],2)])),_:2},1032,["item","active","data-index"])])),_:1},8,["items","min-item-size"])),[[s,"tableScroll"]])])]),(0,o.createVNode)(o.Transition,{name:"local-fade",appear:""},{default:(0,o.withCtx)((()=>[e.modal?((0,o.openBlock)(),(0,o.createBlock)(r,{key:0,data:e.modalData,onClose:t[3]||(t[3]=t=>e.openModal(null))},null,8,["data"])):(0,o.createCommentVNode)("",!0)])),_:1})],64))],6)}const tc={class:"modal-content column-block"},ac={class:"modal-content__title align-center"},oc={class:"column-block full-width"},ic={class:"input-block column-block"},lc={class:"modal-content__text"},nc=["placeholder"],rc={class:"input-block column-block"},sc={class:"modal-content__text"},cc=["placeholder","min-height"],dc={class:"control-buttons row-block justify-between"};function mc(e,t){const a=(0,o.resolveComponent)("SVGComponent");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"modal full-width full-height"]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`}),onClick:t[9]||(t[9]=(0,o.withModifiers)((t=>e.$emit("close")),["self"]))},[(0,o.createElementVNode)("div",tc,[(0,o.createElementVNode)("div",ac,(0,o.toDisplayString)(e.data.title),1),(0,o.createElementVNode)("div",{onClick:t[0]||(t[0]=t=>e.$emit("close")),class:"close-block flex-block"},[(0,o.createVNode)(a,{path:"icons/global/cross.svg"})]),(0,o.createElementVNode)("main",oc,[(0,o.createElementVNode)("div",ic,[(0,o.createElementVNode)("span",lc,(0,o.toDisplayString)(e.data.input)+":",1),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=t=>e.amount=t),class:"input-block__input",placeholder:e.$t("cef.ipad.org.balance.modal.enter-value"),maxlength:"8",onKeypress:t[2]||(t[2]=(...t)=>e.preventForNumber&&e.preventForNumber(...t)),onCopy:t[3]||(t[3]=(0,o.withModifiers)((()=>{}),["prevent"])),onPaste:t[4]||(t[4]=(0,o.withModifiers)((()=>{}),["prevent"])),onCut:t[5]||(t[5]=(0,o.withModifiers)((()=>{}),["prevent"]))},null,40,nc),[[o.vModelText,e.amount]])]),(0,o.createElementVNode)("div",rc,[(0,o.createElementVNode)("span",sc,(0,o.toDisplayString)(e.$t("cef.ipad.org.balance.modal.comment"))+":",1),(0,o.withDirectives)((0,o.createElementVNode)("textarea",{placeholder:e.$t("cef.ipad.org.balance.modal.leave-comment"),maxlength:"220","onUpdate:modelValue":t[6]||(t[6]=t=>e.comment=t),"min-height":88/1080*e.windowHeight,class:"modal-content__input-reason"},null,8,cc),[[o.vModelText,e.comment,void 0,{trim:!0}]])]),(0,o.createElementVNode)("div",dc,[(0,o.createElementVNode)("div",{onClick:t[7]||(t[7]=(...t)=>e.action&&e.action(...t)),class:"control-button"},(0,o.toDisplayString)(e.$t("cef.ipad.org.balance.modal.execute")),1),(0,o.createElementVNode)("div",{onClick:t[8]||(t[8]=t=>e.$emit("close")),class:"control-button"},(0,o.toDisplayString)(e.$t("cef.ipad.org.balance.modal.discard")),1)])])])],6)}var pc={name:"balance-modal",mixins:[ca.Z],components:{Money:Zi.Z},props:{data:{required:!0}},data(){return{amount:null,comment:null}},computed:(0,He.rn)({organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],balance:e=>e.ipad.organization.balance.balance,openedApp:e=>e.ipad.openedApp}),methods:{action(){if(!this.comment||this.comment.length<3||this.comment.length>20)this.$store.commit("main/showNotify",{text:this.$t("cef.ipad.org.balance.modal.comment-length"),type:"error"});else{if("withdraw"===this.data.type){if(!this.amount||this.amount<=0||this.amount>this.balance)return void this.$store.commit("main/showNotify",{text:this.$t("cef.ipad.org.balance.modal.wrong-amount-withdraw",{max:this.$n(this.balance,"any-number")}),type:"error"})}else if("replenish"===this.data.type&&(!this.amount||this.amount<=0))return void this.$store.commit("main/showNotify",{text:this.$t("cef.ipad.org.balance.modal.wrong-amount-replenish"),type:"error"});mp.trigger2("ipad.organization.balance.action","family"===this.openedApp?"families":"fractions",this.data.type,parseInt(this.amount),this.comment),this.$emit("close")}}}};const uc=(0,et.Z)(pc,[["render",mc],["__scopeId","data-v-211e136c"]]);var hc=uc,gc={name:"balance",mixins:[ca.Z,sa,Je.Z,zl.Z],components:{VueSelect:We.Z,Modal:hc},created(){this.filters=[{title:this.$t("cef.ipad.org.balance.name-surname"),path:"name"},{title:"UID",path:"uid"},{title:this.$t("cef.ipad.org.balance.rank"),path:"rank"},{title:this.$t("cef.ipad.org.balance.comment"),path:"comment"},{title:this.$t("cef.ipad.org.balance.sum"),path:"sum"}],this.selectedFilter=this.filters[0]},mounted(){qe.TB.$on("set-balance-modal",this.openModal)},beforeUnmount(){qe.TB.$off("set-balance-modal",this.openModal)},data(){return{modal:null,filters:[],search:"",selectedFilter:null,pageNumber:1,debounce:null,sort:null,paginationDebounce:null,tempSort:null}},computed:{...(0,He.rn)({logs:e=>e.ipad.organization.balance.logs,endList:e=>e.ipad.organization.balance.endList,organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],loader:e=>e.ipad.organization.balance.loader,openedApp:e=>e.ipad.openedApp,isLoading:e=>e.ipad.organization.isLoading}),headers(){return[{title:this.$t("cef.ipad.org.balance.name-surname"),path:"name"},{title:"UID",path:"uid"},{title:this.$t("cef.ipad.org.balance.rank"),path:"rank"},{title:this.$t("cef.ipad.org.balance.type"),path:"comment"},{title:this.$t("cef.ipad.org.balance.comment"),path:null},{title:this.$t("cef.ipad.org.balance.sum"),path:"sum"},{title:this.$t("cef.ipad.org.balance.date"),path:"date"}]},modalData(){if(null==this.modal)return{title:"",input:""};switch(this.modal){case"withdraw":return{type:this.modal,title:this.$t("cef.ipad.org.balance.withdraw-money"),input:this.$t("cef.ipad.org.balance.withdraw-sum")};case"replenish":return{type:this.modal,title:this.$t("cef.ipad.org.balance.replenish-balance"),input:this.$t("cef.ipad.org.balance.replenish-sum")}}}},methods:{openModal(e){this.modal=e},onPageChange(){this.paginationDebounce&&this.paginationDebounce>Date.now()/1e3||this.logs.length&&(this.logs.length<50||this.endList||(this.pageNumber++,mp.trigger2("ipad.organization.balance.getData","family"===this.openedApp?"families":"fractions",this.pageNumber,this.sort,this.selectedFilter?this.selectedFilter.path:null,this.search),this.$store.commit("ipad/organization/balance/setLoader",!0)))},checkSortIcon(){if(!this.sort)return;const e=this.sort.split("-");return"desc"!==e[1]},sorting(e){if(e){switch(this.tempSort=this.headers.find((t=>t.path===e)),e){case"name":e="a.login";break;case"uid":e="a.id";break;case"rank":e="fr.rank";break;case"action":e="fml.comment";break;case"sum":e="fml.amount";break;case"date":e="fml.date";break}if(this.sort){const t=this.sort.split("-");e===t[0]?this.sort=`${e}-${"desc"===t[1]?"asc":"desc"}`:this.sort=`${e}-desc`}else this.sort=`${e}-desc`;this.pageNumber=1,mp.trigger2("ipad.organization.balance.getData","family"===this.openedApp?"families":"fractions",this.pageNumber,this.sort,null,null),this.paginationDebounce=Date.now()/1e3+1,this.$store.commit("ipad/organization/balance/setLoader",!0)}},clearSort(){this.tempSort=null,this.sort=null},clearSearchModifiers(){this.pageNumber=1,mp.trigger2("ipad.organization.balance.getData","family"===this.openedApp?"families":"fractions"),this.paginationDebounce=Date.now()/1e3+1,this.$store.commit("ipad/organization/balance/setLoader",!0),this.clearSort()},setFilterType(e){this.selectedFilter&&this.selectedFilter.path==e.path?this.selectedFilter=null:this.selectedFilter=e,this.selectedFilter?this.search&&this.search.length&&(this.clearSort(),this.pageNumber=1,mp.trigger2("ipad.organization.balance.getData","family"===this.openedApp?"families":"fractions",this.pageNumber,null,this.selectedFilter.path,this.search),this.paginationDebounce=Date.now()/1e3+1,this.$store.commit("ipad/organization/balance/setLoader",!0)):this.search&&this.search.length&&this.clearSearchModifiers()}},watch:{search(e){clearTimeout(this.debounce),this.debounce=setTimeout((()=>{e.length&&this.selectedFilter?(this.clearSort(),this.pageNumber=1,mp.trigger2("ipad.organization.balance.getData","family"===this.openedApp?"families":"fractions",this.pageNumber,null,this.selectedFilter.path,e),this.paginationDebounce=Date.now()/1e3+1,this.$store.commit("ipad/organization/balance/setLoader",!0)):!e.length&&this.selectedFilter&&(this.selectedFilter=null,this.clearSearchModifiers())}),1e3)}}};const fc=(0,et.Z)(gc,[["render",ec],["__scopeId","data-v-5f501bdd"]]);var yc=fc;const kc={key:"main",class:"main row-block full-height full-width"},vc={class:"news-list full-height column-block"},bc={class:"container"},Nc=["onClick"],Vc={class:"user-info row-block align-center"},wc={class:"user-info__text-id"},Ec={class:"news-item__text full-width"},Sc={class:"tile-footer row-block justify-between full-width"},Cc={class:"contact-info row-block"},_c={class:"contact-data flex-block"},$c={class:"contact-data flex-block"},Dc={class:"tile-footer__text-date"},Bc={key:0,class:"news-editor full-height full-width column-block"},xc={class:"editor-wrapper"},zc={class:"editor-block column-block"},Mc={class:"header row-block justify-between align-center full-width full-height"},Lc={class:"editor-block__title"},Tc={class:"editor-content"},Ic={class:"user-info row-block align-center"},Fc={class:"user-info__text-id"},Pc={class:"news-item__text full-width"},Ac={class:"tile-footer row-block justify-between align-center full-width"},Rc={class:"row-block"},Oc={class:"contact-data"},jc={class:"contact-data"},Zc={class:"tile-footer__text-date"},Uc=["placeholder"],Hc={class:"control-buttons row-block"},Gc={class:"control-button"},qc={key:"history",class:"history full-width full-height column-block"},Wc={class:"row-block"},Yc={class:"search-bar align-center row-block"},Kc=["placeholder"],Xc={class:"table column-block full-height"},Jc={class:"container column-block full-height full-width"},Qc={class:"headers row-block full-width"},ed={class:"headers__title align-center"},td={class:"title-content align-center"},ad=["onClick"],od={class:"row-item"},id={class:"row-item"},ld={class:"row-item"},nd={class:"row-item"},rd={class:"row-item"},sd={class:"row-item"},cd={class:"row-item"};function dd(e,t){const a=(0,o.resolveComponent)("SVGComponent"),i=(0,o.resolveComponent)("vue-select"),l=(0,o.resolveComponent)("RecycleScroller"),n=(0,o.resolveComponent)("modal");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"news-page row-block full-height full-width"]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`,"--background":`${e.organizationColorSchema.backgroundColor}`})},[e.isLoading?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createVNode)(o.Transition,{name:"local-fade",appear:"",mode:"out-in"},{default:(0,o.withCtx)((()=>["main"===e.newsPage?((0,o.openBlock)(),(0,o.createElementBlock)("div",kc,[(0,o.createElementVNode)("div",vc,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.news,((t,a)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",bc,[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["news-item",{selected:e.selected===a}]),onClick:o=>e.selectItem(t,a)},[(0,o.createElementVNode)("div",Vc,[(0,o.createElementVNode)("span",{class:(0,o.normalizeClass)(["user-info__text-name",t.status])},(0,o.toDisplayString)(t.author),3),(0,o.createElementVNode)("span",wc,"#"+(0,o.toDisplayString)(t.playerId)+" ["+(0,o.toDisplayString)(t.staticID)+"]",1)]),(0,o.createElementVNode)("div",Ec,(0,o.toDisplayString)(e.sliceString(t.message,120)),1),(0,o.createElementVNode)("div",Sc,[(0,o.createElementVNode)("div",Cc,[(0,o.createElementVNode)("div",_c,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.$t("cef.ipad.org.news.number"))+":",1),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(t.tel),1)]),(0,o.createElementVNode)("div",$c,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.$t("cef.ipad.org.news.adv"))+":",1),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(t.advertisementID),1)])]),(0,o.createElementVNode)("div",Dc,(0,o.toDisplayString)(t.date),1)])],10,Nc)])))),256))]),(0,o.createVNode)(o.Transition,{name:"local-fade",appear:""},{default:(0,o.withCtx)((()=>[null!=e.ad?((0,o.openBlock)(),(0,o.createElementBlock)("div",Bc,[(0,o.createElementVNode)("div",xc,[(0,o.createElementVNode)("div",zc,[(0,o.createElementVNode)("div",Mc,[(0,o.createElementVNode)("span",Lc,(0,o.toDisplayString)(e.$t("cef.ipad.org.news.edit-adv")),1),(0,o.createElementVNode)("div",{onClick:t[0]||(t[0]=t=>e.openModal("delete-ad")),class:"editor-block__picture-delete flex-block"},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/news/trash.svg"})])]),(0,o.createElementVNode)("div",Tc,[(0,o.createElementVNode)("div",Ic,[(0,o.createElementVNode)("span",{class:(0,o.normalizeClass)(["user-info__text-name",e.ad.status])},(0,o.toDisplayString)(e.ad.player),3),(0,o.createElementVNode)("span",Fc,"#"+(0,o.toDisplayString)(e.ad.playerID)+" ["+(0,o.toDisplayString)(e.ad.staticID)+"]",1)]),(0,o.createElementVNode)("div",Pc,(0,o.toDisplayString)(e.ad.message),1),(0,o.createElementVNode)("div",Ac,[(0,o.createElementVNode)("div",Rc,[(0,o.createElementVNode)("div",Oc,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.$t("cef.ipad.org.news.number"))+":",1),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.ad.tel),1)]),(0,o.createElementVNode)("div",jc,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.$t("cef.ipad.org.news.adv"))+":",1),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.ad.advertisementID),1)])]),(0,o.createElementVNode)("div",Zc,(0,o.toDisplayString)(e.ad.date),1)])])]),(0,o.withDirectives)((0,o.createElementVNode)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.editor=t),placeholder:e.$t("cef.ipad.org.news.enter-answer"),class:"news-editor__input full-width full-height"},null,8,Uc),[[o.vModelText,e.editor]]),(0,o.createElementVNode)("div",Hc,[(0,o.createElementVNode)("div",Gc,(0,o.toDisplayString)(e.$t("cef.ipad.org.news.send")),1),(0,o.createElementVNode)("div",{class:"control-button",onClick:t[2]||(t[2]=(...t)=>e.resetItem&&e.resetItem(...t))},(0,o.toDisplayString)(e.$t("cef.ipad.org.news.return")),1)])])])):(0,o.createCommentVNode)("",!0)])),_:1})])):"history"===e.newsPage?((0,o.openBlock)(),(0,o.createElementBlock)("div",qc,[(0,o.createElementVNode)("header",Wc,[(0,o.createElementVNode)("div",Yc,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=t=>e.search=t),placeholder:e.$t("cef.ipad.org.news.search-login"),class:"search-bar__input full-height full-width"},null,8,Kc),[[o.vModelText,e.search,void 0,{trim:!0}]]),(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/search.svg",class:"search-bar__picture"})]),(0,o.createVNode)(i,{"item-list":e.filters,class:"select-menu",onSetItem:t[4]||(t[4]=t=>e.selectedFilter=t)},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.selectedFilter||e.$t("cef.ipad.org.news.select-filter")),1)])),_:1},8,["item-list"])]),(0,o.createElementVNode)("div",Xc,[(0,o.createElementVNode)("div",Jc,[(0,o.createElementVNode)("div",Qc,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.headers,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",ed,[(0,o.createElementVNode)("div",td,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e),1),(0,o.createVNode)(a,{path:"icons/global/arrow.svg",class:(0,o.normalizeClass)({selected:!1})})])])))),256))]),(0,o.createVNode)(l,{class:"table-view full-width full-height column-block",items:e.filteredList,"item-size":47/1080*e.windowHeight,"key-field":"id"},{default:(0,o.withCtx)((({item:t,index:a})=>[(0,o.createElementVNode)("div",{onClick:a=>e.openModal("history",t),class:"table-row row-block align-center full-width"},[(0,o.createElementVNode)("div",od,(0,o.toDisplayString)(t.editor),1),(0,o.createElementVNode)("div",id,(0,o.toDisplayString)(t.staticID),1),(0,o.createElementVNode)("div",ld,(0,o.toDisplayString)(t.rank),1),(0,o.createElementVNode)("div",nd,(0,o.toDisplayString)(e.$t(t.action,t.args)),1),(0,o.createElementVNode)("div",rd,(0,o.toDisplayString)(t.author),1),(0,o.createElementVNode)("div",sd,(0,o.toDisplayString)(t.adId),1),(0,o.createElementVNode)("div",cd,(0,o.toDisplayString)(t.date),1)],8,ad)])),_:1},8,["items","item-size"])])])])):(0,o.createCommentVNode)("",!0)])),_:1}),(0,o.createVNode)(o.Transition,{name:"local-fade",appear:""},{default:(0,o.withCtx)((()=>[e.modal?((0,o.openBlock)(),(0,o.createBlock)(n,{key:0,onOpenModal:e.openModal,modalAd:e.modalAd,modal:e.modal},null,8,["onOpenModal","modalAd","modal"])):(0,o.createCommentVNode)("",!0)])),_:1})],64))],6)}const md={class:"full-width align-center"},pd={class:"flex-block full-width full-height column-block"},ud={key:0,class:"delete-ad column-block full-width full-height"},hd={class:"content__title-plain"},gd={class:"content__title-bold"},fd=["placeholder"],yd={key:1,class:"create column-block full-width full-height"},kd={class:"row-block full-width justify-between"},vd={class:"ad-data column-block"},bd={class:"content__title-plain"},Nd={class:"inputs row-block full-width justify-between"},Vd=["placeholder"],wd=["placeholder"],Ed={class:"ad-data column-block"},Sd={class:"content__title-plain"},Cd={class:"inputs flex-block"},_d=["placeholder"],$d={class:"content__title-bold"},Dd=["placeholder"],Bd={key:2,class:"history column-block full-width full-height"},xd={class:"content__title-bold"},zd={class:"news-item"},Md={class:"user-info row-block align-center"},Ld={class:"user-info__text-name"},Td={class:"user-info__text-id"},Id={class:"news-item__text full-width"},Fd={class:"tile-footer row-block justify-between full-width"},Pd={class:"contact-info row-block"},Ad={class:"contact-data flex-block"},Rd={class:"contact-data flex-block"},Od={class:"tile-footer__text-date"},jd={class:"content__title-bold after-editions"},Zd={class:"news-item"},Ud={class:"user-info row-block align-center"},Hd={class:"user-info__text-name"},Gd={class:"user-info__text-id"},qd={class:"news-item__text full-width"},Wd={class:"tile-footer row-block justify-between full-width"},Yd={class:"contact-info row-block"},Kd={class:"contact-data flex-block"},Xd={class:"contact-data flex-block"},Jd={class:"tile-footer__text-date"},Qd={class:"editor row-block"},em={class:"editor__title"},tm={class:"editor__value"},am={class:"control-buttons row-block"},om={key:0,class:"control-button"};function im(e,t){const a=(0,o.resolveComponent)("SVGComponent"),i=(0,o.resolveComponent)("vue-select");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"news-modal full-width full-height"]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`,"--background":`${e.organizationColorSchema.backgroundColor}`}),onClick:t[15]||(t[15]=(0,o.withModifiers)((t=>e.$emit("open-modal",null)),["self"]))},[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["content column-block",e.modal])},[(0,o.createElementVNode)("header",md,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.modalTitle),1),(0,o.createElementVNode)("div",{onClick:t[0]||(t[0]=t=>e.$emit("open-modal",null)),class:"close-block flex-block"},[(0,o.createVNode)(a,{path:"icons/global/cross.svg"})])]),(0,o.createElementVNode)("main",pd,["delete-ad"===e.modal?((0,o.openBlock)(),(0,o.createElementBlock)("div",ud,[(0,o.createElementVNode)("span",hd,(0,o.toDisplayString)(e.$t("cef.ipad.org.news.modal.enter-reason")),1),(0,o.createVNode)(i,{"item-list":e.reasons,class:"select-menu full-width",onSetItem:t[1]||(t[1]=t=>e.selectedReason=t)},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.selectedReason||e.$t("cef.ipad.org.news.modal.select-value")),1)])),_:1},8,["item-list"]),(0,o.createElementVNode)("span",gd,(0,o.toDisplayString)(e.$t("cef.ipad.org.news.modal.leave-comment"))+":",1),(0,o.createElementVNode)("textarea",{class:"content__input-textarea",placeholder:e.$t("cef.ipad.org.news.modal.enter-comment")},null,8,fd)])):"create"===e.modal?((0,o.openBlock)(),(0,o.createElementBlock)("div",yd,[(0,o.createElementVNode)("div",kd,[(0,o.createElementVNode)("div",vd,[(0,o.createElementVNode)("span",bd,(0,o.toDisplayString)(e.$t("cef.ipad.org.news.modal.publish-time"))+":",1),(0,o.createElementVNode)("div",Nd,[(0,o.createElementVNode)("input",{type:"text",maxlength:"2",class:"inputs__input time",onKeypress:t[2]||(t[2]=(...t)=>e.preventForNumber&&e.preventForNumber(...t)),placeholder:e.$t("cef.ipad.org.news.modal.hours"),onCut:t[3]||(t[3]=(0,o.withModifiers)((()=>{}),["prevent"])),onCopy:t[4]||(t[4]=(0,o.withModifiers)((()=>{}),["prevent"])),onPaste:t[5]||(t[5]=(0,o.withModifiers)((()=>{}),["prevent"]))},null,40,Vd),(0,o.createElementVNode)("input",{type:"text",maxlength:"2",class:"inputs__input time",onKeypress:t[6]||(t[6]=(...t)=>e.preventForNumber&&e.preventForNumber(...t)),placeholder:e.$t("cef.ipad.org.news.modal.mins"),onCut:t[7]||(t[7]=(0,o.withModifiers)((()=>{}),["prevent"])),onCopy:t[8]||(t[8]=(0,o.withModifiers)((()=>{}),["prevent"])),onPaste:t[9]||(t[9]=(0,o.withModifiers)((()=>{}),["prevent"]))},null,40,wd)])]),(0,o.createElementVNode)("div",Ed,[(0,o.createElementVNode)("span",Sd,(0,o.toDisplayString)(e.$t("cef.ipad.org.news.modal.adv-phone"))+":",1),(0,o.createElementVNode)("div",Cd,[(0,o.createElementVNode)("input",{type:"text",class:"inputs__input tel",onKeypress:t[10]||(t[10]=(...t)=>e.preventForNumber&&e.preventForNumber(...t)),placeholder:e.$t("cef.ipad.org.news.modal.enter-value"),onCut:t[11]||(t[11]=(0,o.withModifiers)((()=>{}),["prevent"])),onCopy:t[12]||(t[12]=(0,o.withModifiers)((()=>{}),["prevent"])),onPaste:t[13]||(t[13]=(0,o.withModifiers)((()=>{}),["prevent"]))},null,40,_d)])])]),(0,o.createElementVNode)("span",$d,(0,o.toDisplayString)(e.$t("cef.ipad.org.news.modal.leave-comment"))+":",1),(0,o.createElementVNode)("textarea",{class:"content__input-textarea",placeholder:e.$t("cef.ipad.org.news.modal.enter-comment")},null,8,Dd)])):"history"===e.modal?((0,o.openBlock)(),(0,o.createElementBlock)("div",Bd,[(0,o.createElementVNode)("span",xd,(0,o.toDisplayString)(e.$t("cef.ipad.org.news.modal.original-adv"))+":",1),(0,o.createElementVNode)("div",zd,[(0,o.createElementVNode)("div",Md,[(0,o.createElementVNode)("span",Ld,(0,o.toDisplayString)(e.modalAd.author),1),(0,o.createElementVNode)("span",Td,"#"+(0,o.toDisplayString)(e.modalAd.playerID)+" ["+(0,o.toDisplayString)(e.modalAd.staticID)+"]",1)]),(0,o.createElementVNode)("div",Id,(0,o.toDisplayString)(e.sliceString(e.modalAd.messageBefore,120)),1),(0,o.createElementVNode)("div",Fd,[(0,o.createElementVNode)("div",Pd,[(0,o.createElementVNode)("div",Ad,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.$t("cef.ipad.org.news.modal.phone"))+":",1),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.modalAd.tel),1)]),(0,o.createElementVNode)("div",Rd,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.$t("cef.ipad.org.news.modal.adv"))+":",1),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.modalAd.adId),1)])]),(0,o.createElementVNode)("div",Od,(0,o.toDisplayString)(e.modalAd.date),1)])]),(0,o.createElementVNode)("span",jd,(0,o.toDisplayString)(e.$t("cef.ipad.org.news.modal.after-edition"))+":",1),(0,o.createElementVNode)("div",Zd,[(0,o.createElementVNode)("div",Ud,[(0,o.createElementVNode)("span",Hd,(0,o.toDisplayString)(e.modalAd.author),1),(0,o.createElementVNode)("span",Gd,"#"+(0,o.toDisplayString)(e.modalAd.playerID)+" ["+(0,o.toDisplayString)(e.modalAd.staticID)+"]",1)]),(0,o.createElementVNode)("div",qd,(0,o.toDisplayString)(e.sliceString(e.modalAd.messageBefore,120)),1),(0,o.createElementVNode)("div",Wd,[(0,o.createElementVNode)("div",Yd,[(0,o.createElementVNode)("div",Kd,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.$t("cef.ipad.org.news.modal.phone"))+":",1),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.modalAd.tel),1)]),(0,o.createElementVNode)("div",Xd,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.$t("cef.ipad.org.news.modal.adv"))+":",1),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.modalAd.adId),1)])]),(0,o.createElementVNode)("div",Jd,(0,o.toDisplayString)(e.modalAd.date),1)])]),(0,o.createElementVNode)("div",Qd,[(0,o.createElementVNode)("span",em,(0,o.toDisplayString)(e.$t("cef.ipad.org.news.modal.editor"))+":",1),(0,o.createElementVNode)("span",tm,(0,o.toDisplayString)(e.modalAd.editor),1)])])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",am,["history"!==e.modal?((0,o.openBlock)(),(0,o.createElementBlock)("div",om,(0,o.toDisplayString)(e.$t("cef.ipad.org.news.modal.execute")),1)):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",{onClick:t[14]||(t[14]=t=>e.$emit("open-modal",null)),class:"control-button"},(0,o.toDisplayString)(e.$t("cef.ipad.org.news.modal.discard")),1)])])],2)],6)}var lm={name:"news-modal",props:["modal","modalAd"],components:{VueSelect:We.Z},data(){return{selectedReason:null,reasons:["reason 1","reason 2"]}},computed:{...(0,He.rn)({news:e=>e.ipad.organization.news.news,newsPage:e=>e.ipad.organization.news.page,organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp]}),modalTitle(){switch(this.modal){case"delete-ad":return this.$t("cef.ipad.org.news.modal.delete-adv");case"create":return this.$t("cef.ipad.org.news.modal.create-adv");case"history":return`${this.$t("cef.ipad.org.news.modal.more-about-adv")} ${this.modalAd.adId}`}}}};const nm=(0,et.Z)(lm,[["render",im],["__scopeId","data-v-98537864"]]);var rm=nm,sm={name:"news",components:{Modal:rm,VueSelect:We.Z},mixins:[ca.Z],mounted(){qe.TB.$on("set-news-modal",this.openModal)},beforeUnmount(){qe.TB.$off("set-news-modal",this.openModal)},data(){return{selected:null,ad:null,editor:null,modal:null,modalAd:null,search:"",filters:["UID","rank","day-online","month-online","HI","Hi2"],selectedFilter:null}},methods:{selectItem(e,t){null==this.ad&&(this.selected=t,this.ad=e)},resetItem(){this.selected=null,this.ad=null,this.editor=null},openModal(e,t=null){this.modal=e,this.modalAd=t}},computed:{...(0,He.rn)({news:e=>e.ipad.organization.news.news,newsPage:e=>e.ipad.organization.news.page,organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],newsHistory:e=>e.ipad.organization.news.history,isLoading:e=>e.ipad.organization.isLoading}),headers(){return[this.$t("cef.ipad.org.news.member"),"UID",this.$t("cef.ipad.org.news.rank"),this.$t("cef.ipad.org.news.action"),this.$t("cef.ipad.org.news.author"),this.$t("cef.ipad.org.news.adv-id"),this.$t("cef.ipad.org.news.date")]},filteredList(){return""===this.search?this.news.history:this.news.history.filter((e=>-1!==e.editor.indexOf(this.search)))}},watch:{newsPage(){this.resetItem(),this.search=""}}};const cm=(0,et.Z)(sm,[["render",dd],["__scopeId","data-v-4cba06fc"]]);var dm=cm;const mm=e=>((0,o.pushScopeId)("data-v-3d3a444c"),e=e(),(0,o.popScopeId)(),e),pm={class:"row-block justify-start"},um={key:0,class:"search-bar align-center justify-end row-reverse-block"},hm=["placeholder"],gm={class:"container column-block full-height full-width"},fm={class:"headers row-block full-width"},ym=["onClick"],km={class:"title-content align-center"},vm={key:0,class:"table-loader full-width"},bm=mm((()=>(0,o.createElementVNode)("div",{class:"loader"},null,-1))),Nm=[bm],Vm=["onClick"],wm={class:"row-item"},Em={class:"row-item"},Sm={class:"row-item"},Cm={class:"row-item row-block"},_m={class:"row-item"},$m={class:"row-item"},Dm={class:"table-row row-block align-center full-width"},Bm={class:"row-item"},xm={class:"row-item"},zm={class:"row-item"},Mm={class:"row-item"},Lm={class:"row-item"},Tm={class:"table-row row-block align-center full-width"},Im={class:"row-item"},Fm={class:"row-item"},Pm={class:"row-item"},Am={class:"row-item"},Rm={class:"row-item"},Om={class:"row-item"},jm={class:"row-item"},Zm={class:"row-item"};function Um(e,t){const a=(0,o.resolveComponent)("SVGComponent"),i=(0,o.resolveComponent)("vue-select"),l=(0,o.resolveComponent)("DynamicScrollerItem"),n=(0,o.resolveComponent)("DynamicScroller"),r=(0,o.resolveComponent)("vehicle-modal");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"database-page full-width full-height column-block"]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`,"--background":`${e.organizationColorSchema.backgroundColor}`})},[e.isLoading?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createElementVNode)("header",pm,["org"!==e.selectedFilter?((0,o.openBlock)(),(0,o.createElementBlock)("div",um,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=t=>e.search=t),placeholder:e.$t("cef.ipad.org.database.enter-value"),class:(0,o.normalizeClass)(["search-bar__input full-height full-width",{notEmpty:e.search}])},null,10,hm),[[o.vModelText,e.search,void 0,{trim:!0}]]),(0,o.createVNode)(a,{class:"search-bar__picture",path:"icons/ipad/apps/organizations/search.svg"})])):((0,o.openBlock)(),(0,o.createBlock)(i,{key:1,"item-list":e.fractions,class:"fractions select-menu",onSetItem:t[1]||(t[1]=t=>e.selectedOrganization=t)},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.selectedOrganization||e.$t("cef.ipad.org.database.select-org")),1)])),_:1},8,["item-list"])),(0,o.createVNode)(i,{active:0,"item-list":e.filters,bindTitle:"title",class:(0,o.normalizeClass)(["select-menu",{selected:e.selectedFilter}]),onSetItem:e.setFilterType},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/calls/filter.svg",class:"filter"}),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.selectedFilter?e.selectedFilter.title:e.$t("cef.ipad.org.database.select-filter")),1)])),_:1},8,["item-list","onSetItem","class"])]),(0,o.createElementVNode)("main",{class:(0,o.normalizeClass)([e.databaseCategory,"full-height full-width"])},[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)([e.databaseCategory,"table column-block full-height"])},[(0,o.createElementVNode)("div",gm,[(0,o.createElementVNode)("div",fm,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.headers,((t,i)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{onClick:a=>e.sorting(t.path),class:"headers__title align-center"},[(0,o.createElementVNode)("div",km,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(t.title),1),(0,o.withDirectives)((0,o.createVNode)(a,{class:(0,o.normalizeClass)({selected:e.checkSortIcon()}),path:"icons/global/chevron.svg"},null,8,["class"]),[[o.vShow,e.tempSort&&e.tempSort.title.includes(t.title)]])])],8,ym)))),256)),e.loader?((0,o.openBlock)(),(0,o.createElementBlock)("div",vm,Nm)):(0,o.createCommentVNode)("",!0)]),"players"===e.databaseCategory?((0,o.openBlock)(),(0,o.createBlock)(n,{key:0,class:"table-view full-width full-height column-block",items:e.list,"min-item-size":45/1080*e.windowHeight,emitUpdate:!0,ref:"playersListLogs",onScroll:t[2]||(t[2]=t=>e.updateList("playersListLogs","list",e.onPageChange,45/1080*e.windowHeight)),"key-field":"id"},{default:(0,o.withCtx)((({item:t,index:i,active:n})=>[(0,o.createVNode)(l,{item:t,active:n,"data-index":i},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",{onClick:a=>e.openOrganizationPage({path:"database-player",id:t.id,login:t.login}),class:"table-row row-block align-center full-width"},[(0,o.createElementVNode)("div",wm,(0,o.toDisplayString)(t.login),1),(0,o.createElementVNode)("div",Em,(0,o.toDisplayString)(t.organization||e.$t("cef.ipad.org.database.not-member")),1),(0,o.createElementVNode)("div",Sm,(0,o.toDisplayString)(t.phoneNumber||e.$t("cef.ipad.org.database.absent")),1),(0,o.createElementVNode)("div",Cm,[((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(5,(e=>(0,o.createVNode)(a,{class:(0,o.normalizeClass)(["star",{active:e<=t.wantedLevel}]),key:`star${e}`,path:"icons/ipad/apps/organizations/star.svg"},null,8,["class"]))),64))]),(0,o.createElementVNode)("div",_m,(0,o.toDisplayString)(t.arrests),1),(0,o.createElementVNode)("div",$m,(0,o.toDisplayString)(t.online?"online":t.lastVisit),1),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["is-online",{active:t.online}])},null,2)],8,Vm)])),_:2},1032,["item","active","data-index"])])),_:1},8,["items","min-item-size"])):"vehicles"===e.databaseCategory?((0,o.openBlock)(),(0,o.createBlock)(n,{key:1,class:"table-view full-width full-height column-block",items:e.list,"min-item-size":45/1080*e.windowHeight,emitUpdate:!0,ref:"vehiclesListLogs",onScroll:t[3]||(t[3]=t=>e.updateList("vehiclesListLogs","list",e.onPageChange,45/1080*e.windowHeight)),"key-field":"id"},{default:(0,o.withCtx)((({item:t,index:a,active:i})=>[(0,o.createVNode)(l,{item:t,active:i,"data-index":a},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",Dm,[(0,o.createElementVNode)("div",Bm,(0,o.toDisplayString)(t.owner),1),(0,o.createElementVNode)("div",xm,(0,o.toDisplayString)(e.unescapeString(e.getValidVehicleName(t))),1),(0,o.createElementVNode)("div",zm,(0,o.toDisplayString)(t.number),1),(0,o.createElementVNode)("div",Mm,(0,o.toDisplayString)(null!=t.tickets?e.countMoneyToDollar(t.tickets,!0,!0):e.$t("cef.ipad.org.database.they-absent")),1),(0,o.createElementVNode)("div",Lm,[(0,o.createElementVNode)("div",{class:"color",style:(0,o.normalizeStyle)({"background-color":e.$options.GTAVehicleColors[t.color]})},null,4)])])])),_:2},1032,["item","active","data-index"])])),_:1},8,["items","min-item-size"])):"arrests"===e.databaseCategory?((0,o.openBlock)(),(0,o.createBlock)(n,{key:2,class:"table-view full-width full-height column-block",items:e.list,"min-item-size":45/1080*e.windowHeight,emitUpdate:!0,ref:"arrestsListLogs",onScroll:t[4]||(t[4]=t=>e.updateList("arrestsListLogs","list",e.onPageChange,45/1080*e.windowHeight)),"key-field":"id"},{default:(0,o.withCtx)((({item:e,index:t,active:a})=>[(0,o.createVNode)(l,{item:e,active:a,"data-index":t},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",Tm,[(0,o.createElementVNode)("div",Im,(0,o.toDisplayString)(e.id),1),(0,o.createElementVNode)("div",Fm,(0,o.toDisplayString)(e.employeeOrg),1),(0,o.createElementVNode)("div",Pm,(0,o.toDisplayString)(e.employeeName),1),(0,o.createElementVNode)("div",Am,(0,o.toDisplayString)(e.intruderName),1),(0,o.createElementVNode)("div",Rm,(0,o.toDisplayString)(e.time),1),(0,o.createElementVNode)("div",Om,(0,o.toDisplayString)(e.bail),1),(0,o.createElementVNode)("div",jm,(0,o.toDisplayString)(e.reason),1),(0,o.createElementVNode)("div",Zm,(0,o.toDisplayString)(e.date),1)])])),_:2},1032,["item","active","data-index"])])),_:1},8,["items","min-item-size"])):(0,o.createCommentVNode)("",!0)])],2)],2),(0,o.createVNode)(o.Transition,{name:"local-fade",appear:""},{default:(0,o.withCtx)((()=>[e.modalType?((0,o.openBlock)(),(0,o.createBlock)(r,{key:0,onClose:t[5]||(t[5]=t=>e.openModal(null))})):(0,o.createCommentVNode)("",!0)])),_:1})],64))],6)}const Hm={class:"modal-content column-block full-width"},Gm={class:"modal-content__title align-center"},qm={class:"column-block full-width"},Wm={class:"vehicle-logo full-width"},Ym={class:"vehicle-logo__text"},Km={class:"reg-number row-block"},Xm={class:"vehicle-logo__title"},Jm={class:"vehicle-logo__value"},Qm={class:"owner row-block"},ep={class:"vehicle-logo__title"},tp={class:"vehicle-logo__value"},ap={class:"color row-block"},op={class:"vehicle-logo__title"},ip={class:"reason column-block full-width"},lp={class:"reason__title"},np=["placeholder"],rp={class:"control-buttons row-block full-width justify-between"},sp={class:"control-button"};function cp(e,t){const a=(0,o.resolveComponent)("SVGComponent"),i=(0,o.resolveComponent)("money-select");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"modal full-width full-height"]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`}),onClick:t[2]||(t[2]=(0,o.withModifiers)((t=>e.$emit("close")),["self"]))},[(0,o.createElementVNode)("div",Hm,[(0,o.createElementVNode)("div",Gm,(0,o.toDisplayString)(e.$t("cef.ipad.org.database.modal.create-ticket")),1),(0,o.createElementVNode)("div",{onClick:t[0]||(t[0]=t=>e.$emit("close")),class:"close-block flex-block"},[(0,o.createVNode)(a,{path:"icons/global/cross.svg"})]),(0,o.createElementVNode)("main",qm,[(0,o.createElementVNode)("div",Wm,[(0,o.createElementVNode)("div",{class:"vehicle-logo__picture",style:(0,o.normalizeStyle)({"background-image":`url('${e.cdn}/img/vehicles/${e.selectedDatabaseVehicle.model}.png')`})},null,4),(0,o.createElementVNode)("div",Ym,(0,o.toDisplayString)(e.selectedDatabaseVehicle.title),1),(0,o.createElementVNode)("div",Km,[(0,o.createElementVNode)("div",Xm,(0,o.toDisplayString)(e.$t("cef.ipad.org.database.modal.reg-number"))+":",1),(0,o.createElementVNode)("div",Jm,(0,o.toDisplayString)(e.selectedDatabaseVehicle.number),1)]),(0,o.createElementVNode)("div",Qm,[(0,o.createElementVNode)("div",ep,(0,o.toDisplayString)(e.$t("cef.ipad.org.database.modal.owner"))+":",1),(0,o.createElementVNode)("div",tp,(0,o.toDisplayString)(e.selectedDatabaseVehicle.owner),1)]),(0,o.createElementVNode)("div",ap,[(0,o.createElementVNode)("div",op,(0,o.toDisplayString)(e.$t("cef.ipad.org.database.modal.color"))+":",1),(0,o.createElementVNode)("div",{class:"color-viewbox",style:(0,o.normalizeStyle)({"background-color":e.$options.GTAVehicleColors[e.selectedDatabaseVehicle.color]})},null,4)])]),(0,o.createElementVNode)("div",ip,[(0,o.createElementVNode)("span",lp,(0,o.toDisplayString)(e.$t("cef.ipad.org.database.modal.ticket-reason"))+":",1),(0,o.createElementVNode)("textarea",{class:"reason__input full-width",placeholder:e.$t("cef.ipad.org.database.modal.leave-comment")},null,8,np)]),(0,o.createVNode)(i,{class:"fine",label:e.$t("cef.ipad.org.database.modal.ticket-sum"),slider:e.$options.modalSlider,placeholder:e.$t("cef.ipad.org.database.modal.enter-value")},null,8,["label","slider","placeholder"]),(0,o.createElementVNode)("div",rp,[(0,o.createElementVNode)("div",sp,(0,o.toDisplayString)(e.$t("cef.ipad.org.database.modal.execute")),1),(0,o.createElementVNode)("div",{onClick:t[1]||(t[1]=t=>e.$emit("close")),class:"control-button"},(0,o.toDisplayString)(e.$t("cef.ipad.org.database.modal.discard")),1)])])])],6)}var dp=a(92706),pp=a(366),up={GTAVehicleColors:dp.d1,name:"vehicle-modal",mixins:[Ge.Z],components:{MoneySelect:pp.Z},modalSlider:{min:0,max:1e7},data(){return{selectedCategory:null,selectedArticle:null}},computed:(0,He.rn)({selectedDatabaseVehicle:e=>e.ipad.organization.database.selectedVehicle,organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],vehicleTicketCategories:e=>e.ipad.organization.database.vehicleTicketCategories,vehicleTicketArticles:e=>e.ipad.organization.database.vehicleTicketArticles})};const hp=(0,et.Z)(up,[["render",cp],["__scopeId","data-v-1520dca9"]]);var gp=hp,fp={GTAVehicleColors:dp.d1,name:"database",mixins:[ca.Z,sa],components:{VehicleModal:gp,VueSelect:We.Z,DynamicScroller:Do.cV,DynamicScrollerItem:Do.Wk},data(){return{search:"",pageNumber:1,selectedFilter:null,selectedOrganization:null,debounce:null,sort:null,paginationDebounce:null,tempSort:null,type:"players",selected:null,comment:"",ticket:"",modalType:null}},computed:{...(0,He.rn)({database:e=>e.ipad.organization.database.database,playerEndList:e=>e.ipad.organization.database.playerEndList,vehicleEndList:e=>e.ipad.organization.database.vehicleEndList,arrestsEndList:e=>e.ipad.organization.database.arrestsEndList,organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],databaseCategory:e=>e.ipad.organization.database.category,fractions:e=>e.ipad.organization.database.fractions,loader:e=>e.ipad.organization.database.loader,isLoading:e=>e.ipad.organization.isLoading}),list(){return this.database[this.databaseCategory]},endList(){switch(this.databaseCategory){case"players":return this.playerEndList;case"vehicles":return this.vehicleEndList;case"arrests":return this.arrestsEndList;default:return this.playerEndList}},headers(){switch(this.databaseCategory){case"players":return[{title:this.$t("cef.ipad.org.database.name"),path:"name"},{title:this.$t("cef.ipad.org.database.org"),path:"org"},{title:this.$t("cef.ipad.org.database.mob-number"),path:"phone"},{title:this.$t("cef.ipad.org.database.search"),path:"search"},{title:this.$t("cef.ipad.org.database.arrests"),path:"arrests"},{title:this.$t("cef.ipad.org.database.online"),path:"online"}];case"vehicles":return[{title:this.$t("cef.ipad.org.database.name-surname"),path:"name"},{title:this.$t("cef.ipad.org.database.vehicle-model"),path:"model"},{title:this.$t("cef.ipad.org.database.reg-number"),path:"number"},{title:this.$t("cef.ipad.org.database.active-tickets"),path:"tickets"},{title:this.$t("cef.ipad.org.database.color"),path:"color"}];case"arrests":return[{title:"#",path:"number"},{title:this.$t("cef.ipad.org.database.member-short-org"),path:"member-org"},{title:this.$t("cef.ipad.org.database.member"),path:"member-name"},{title:this.$t("cef.ipad.org.database.intruder"),path:"intruder-name"},{title:this.$t("cef.ipad.org.database.intruder-time"),path:"intruder-time"},{title:this.$t("cef.ipad.org.database.intruder-bail"),path:"intruder-bail"},{title:this.$t("cef.ipad.org.database.intruder-reason"),path:"intruder-reas"},{title:this.$t("cef.ipad.org.database.online"),path:"online"}]}},filters(){switch(this.databaseCategory){case"players":return[{title:this.$t("cef.ipad.org.database.name"),path:"name"},{title:this.$t("cef.ipad.org.database.org"),path:"org"},{title:this.$t("cef.ipad.org.database.mob-number"),path:"phone"},{title:this.$t("cef.ipad.org.database.search"),path:"search"},{title:this.$t("cef.ipad.org.database.arrests"),path:"arrests"}];case"vehicles":return[{title:this.$t("cef.ipad.org.database.name-surname"),path:"name"},{title:this.$t("cef.ipad.org.database.vehicle-model"),path:"model"},{title:this.$t("cef.ipad.org.database.reg-number"),path:"number"}];case"arrests":return[{title:"#",path:"number"},{title:this.$t("cef.ipad.org.database.member-short-org"),path:"member-org"},{title:this.$t("cef.ipad.org.database.member"),path:"member-name"},{title:this.$t("cef.ipad.org.database.member-rank"),path:"member-rank"},{title:this.$t("cef.ipad.org.database.intruder"),path:"intruder-name"},{title:this.$t("cef.ipad.org.database.intruder-short-org"),path:"intruder-org"},{title:this.$t("cef.ipad.org.database.intruder-family"),path:"family"}]}}},methods:{...(0,He.nv)({openOrganizationPage:"ipad/organization/database/openPage"}),...(0,He.OI)({selectDatabaseVehicle:"ipad/organization/database/selectVehicle"}),onPageChange(){this.paginationDebounce&&this.paginationDebounce>Date.now()/1e3||this.list.length&&(Array.isArray(this.list)&&this.list?.length<50||this.endList||(this.pageNumber++,mp.trigger2(`ipad.organization.database.get${this.databaseCategory[0].toUpperCase()+this.databaseCategory.substr(1)}Data`,this.pageNumber,this.sort,this.selectedFilter?this.selectedFilter.path:null,this.search),this.$store.commit("ipad/organization/database/setLoader",!0)))},sorting(e){switch(this.tempSort=this.headers.find((t=>t.path===e)),e){case"name":case"member-name":e="a.login";break;case"uid":case"member-uid":e="a.id";break;case"member-rank":e="fr.rank";break;case"org":case"member-org":e="a.member";break;case"phone":e="p.number";break;case"search":e="a.wantedLevel";break;case"arrests":e="a.arrests";break;case"online":e="a.online";break;case"intruder-org":e="i.member";break;case"family":e="i.family";break;case"intruder-name":e="i.login";break;case"intruder-uid":e="i.id";break}if(this.sort){const t=this.sort.split("-");e===t[0]?this.sort=`${e}-${"desc"===t[1]?"asc":"desc"}`:this.sort=`${e}-desc`}else this.sort=`${e}-desc`;this.pageNumber=1,mp.trigger2(`ipad.organization.database.get${this.databaseCategory[0].toUpperCase()+this.databaseCategory.substr(1)}Data`,this.pageNumber,this.sort,null,null),this.paginationDebounce=Date.now()/1e3+1,this.$store.commit("ipad/organization/database/setLoader",!0)},checkSortIcon(){if(!this.sort)return;const e=this.sort.split("-");return"desc"!==e[1]},clearSort(){this.tempSort=null,this.sort=null},clearSearchModifiers(){this.pageNumber=1,mp.trigger2(`ipad.organization.database.get${this.databaseCategory[0].toUpperCase()+this.databaseCategory.substr(1)}Data`),this.paginationDebounce=Date.now()/1e3+1,this.$store.commit("ipad/organization/database/setLoader",!0),this.clearSort()},setFilterType(e){this.selectedFilter&&this.selectedFilter.path==e.path?this.selectedFilter=null:this.selectedFilter=e,this.selectedFilter?this.search&&this.search.length&&(this.clearSort(),this.pageNumber=1,mp.trigger2(`ipad.organization.database.get${this.databaseCategory[0].toUpperCase()+this.databaseCategory.substr(1)}Data`,this.pageNumber,null,this.selectedFilter.path,this.search),this.paginationDebounce=Date.now()/1e3+1,this.$store.commit("ipad/organization/database/setLoader",!0)):this.search&&this.search.length&&this.clearSearchModifiers()},openModal(e,t=null){this.modalType=e,null==e&&this.selectDatabaseVehicle(null),null!=t&&this.selectDatabaseVehicle(t)},selectItem(e){this.selected=e},closeModal(){this.selected=null,this.comment="",this.ticket=""}},watch:{databaseCategory(){this.selectedFilter=null,this.search="",this.clearSearchModifiers()},search(e){clearTimeout(this.debounce),this.debounce=setTimeout((()=>{e.length&&this.selectedFilter?(this.clearSort(),this.pageNumber=1,mp.trigger2(`ipad.organization.database.get${this.databaseCategory[0].toUpperCase()+this.databaseCategory.substr(1)}Data`,this.pageNumber,null,this.selectedFilter.path,e),this.paginationDebounce=Date.now()/1e3+1,this.$store.commit("ipad/organization/database/setLoader",!0)):!e.length&&this.selectedFilter&&(this.selectedFilter=null,this.clearSearchModifiers())}),1e3)}}};const yp=(0,et.Z)(fp,[["render",Um],["__scopeId","data-v-3d3a444c"]]);var kp=yp;const vp={class:"categories row-block full-width"},bp=["onClick"],Np={class:"category__title justify-between full-width"},Vp={class:"additional-data full-height column-block justify-between"},wp={class:"column-block"},Ep={class:"data-block"},Sp={class:"data-block__title"},Cp={class:"data-block__value-income"},_p={class:"data-block"},$p={class:"data-block__title"},Dp={class:"data-block__value-taxes"},Bp={class:"row-block justify-between align-center"},xp={class:"percent row-block align-center"},zp={class:"percent__title"},Mp={class:"percent__value"},Lp={class:"control-button"};function Tp(e,t){const a=(0,o.resolveComponent)("modal");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"taxation-page full-height full-width"]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`,"--background":`${e.organizationColorSchema.backgroundColor}`,"--main-text-color":`${e.getCorrectContrastingFontColor(e.organizationColorSchema.main,"#fbfbfb","#060606")}`})},[e.isLoading?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createElementVNode)("article",vp,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.categories,((t,a)=>((0,o.openBlock)(),(0,o.createElementBlock)("section",{class:"category column-block",onClick:t=>e.openModal(a)},[(0,o.createElementVNode)("div",Np,(0,o.toDisplayString)(e.getPropertyCategoryTranslate(t.category)),1),(0,o.createElementVNode)("div",Vp,[(0,o.createElementVNode)("div",wp,[(0,o.createElementVNode)("div",Ep,[(0,o.createElementVNode)("span",Sp,(0,o.toDisplayString)(e.$t("cef.ipad.org.taxation.month-income"))+":",1),(0,o.createElementVNode)("span",Cp,(0,o.toDisplayString)(e.countMoneyToDollar(t.monthProfit,!0,!1)),1)]),(0,o.createElementVNode)("div",_p,[(0,o.createElementVNode)("span",$p,(0,o.toDisplayString)(e.$t("cef.ipad.org.taxation.month-tax"))+":",1),(0,o.createElementVNode)("span",Dp,(0,o.toDisplayString)(e.countMoneyToDollar(t.monthTaxes,!0,!1)),1)])]),(0,o.createElementVNode)("div",Bp,[(0,o.createElementVNode)("div",xp,[(0,o.createElementVNode)("span",zp,(0,o.toDisplayString)(e.$t("cef.ipad.org.taxation.bet"))+":",1),(0,o.createElementVNode)("span",Mp,(0,o.toDisplayString)(parseFloat(t.tax).toFixed(1))+"%",1)]),(0,o.createElementVNode)("div",Lp,(0,o.toDisplayString)(e.$t("cef.ipad.org.taxation.edit")),1)])])],8,bp)))),256))]),(0,o.createVNode)(o.Transition,{name:"local-fade",appear:""},{default:(0,o.withCtx)((()=>[null!=e.modalId?((0,o.openBlock)(),(0,o.createBlock)(a,{key:0})):(0,o.createCommentVNode)("",!0)])),_:1})],64))],6)}const Ip={class:"modal-container column-block"},Fp={class:"modal-container__title full-width align-center"},Pp={class:"biz-type full-width align-center"},Ap={class:"biz-type__title"},Rp={class:"biz-type__value"},Op={class:"modal-container__text full-width align-center"},jp={class:"control-buttons row-block full-width justify-between align-center"};function Zp(e,t){const a=(0,o.resolveComponent)("SVGComponent"),i=(0,o.resolveComponent)("moneySelect");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"full-height modal full-width"]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`,"--background":`${e.organizationColorSchema.backgroundColor}`}),onClick:t[4]||(t[4]=(0,o.withModifiers)((t=>e.openModal(null)),["self"]))},[(0,o.createElementVNode)("div",Ip,[(0,o.createElementVNode)("div",Fp,(0,o.toDisplayString)(e.$t("cef.ipad.org.taxation.modal.change-bet")),1),(0,o.createElementVNode)("div",{onClick:t[0]||(t[0]=t=>e.openModal(null)),class:"flex-block close-block"},[(0,o.createVNode)(a,{path:"icons/global/cross.svg"})]),(0,o.createElementVNode)("div",Pp,[(0,o.createElementVNode)("span",Ap,(0,o.toDisplayString)(e.$t("cef.ipad.org.taxation.modal.biz-type"))+": ",1),(0,o.createElementVNode)("span",Rp,(0,o.toDisplayString)(e.getPropertyCategoryTranslate(e.modal.category)),1)]),(0,o.createElementVNode)("div",Op,(0,o.toDisplayString)(e.$t("cef.ipad.org.taxation.modal.percent-bet")),1),(0,o.createVNode)(i,{slider:e.sliderOptions,placeholder:e.$t("cef.ipad.org.taxation.modal.enter-value"),initialValue:parseFloat(e.modal.tax),symbol:"%",toFixedValue:1,withEmptyValue:!1,"onUpdate:modelValue":t[1]||(t[1]=t=>e.changeSliderValue({value:t}))},null,8,["slider","placeholder","initialValue"]),(0,o.createElementVNode)("div",jp,[(0,o.createElementVNode)("div",{onClick:t[2]||(t[2]=t=>e.changeData({modalId:e.modalId,newTax:e.newTax})),class:"control-button full-height"},(0,o.toDisplayString)(e.$t("cef.ipad.org.taxation.modal.execute")),1),(0,o.createElementVNode)("div",{onClick:t[3]||(t[3]=t=>e.openModal(null)),class:"control-button full-height"},(0,o.toDisplayString)(e.$t("cef.ipad.org.taxation.modal.discard")),1)])])],6)}var Up=a(56251),Hp={name:"taxation-modal",components:{moneySelect:Up.Z},data(){return{sliderOptions:{min:0,max:10,interval:.1},newTax:null}},computed:{...(0,He.rn)({modalId:e=>e.ipad.organization.taxation.taxes.modalId,categories:e=>e.ipad.organization.taxation.taxes.categories,organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp]}),modal(){return this.categories[this.modalId]}},methods:{...(0,He.OI)({openModal:"ipad/organization/taxation/openTaxationModal"}),...(0,He.nv)({changeData:"ipad/organization/taxation/changeTaxationData"}),changeSliderValue(e){this.newTax=e.value}}};const Gp=(0,et.Z)(Hp,[["render",Zp],["__scopeId","data-v-4e2ff39b"]]);var qp=Gp,Wp={name:"taxation",mixins:[Ge.Z,Je.Z],beforeUnmount(){this.openModal(null)},components:{Modal:qp},methods:(0,He.OI)({openModal:"ipad/organization/taxation/openTaxationModal"}),computed:(0,He.rn)({taxSum:e=>e.ipad.organization.taxation.taxes.taxSum,categories:e=>e.ipad.organization.taxation.taxes.categories,modalId:e=>e.ipad.organization.taxation.taxes.modalId,organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],isLoading:e=>e.ipad.organization.isLoading})};const Yp=(0,et.Z)(Wp,[["render",Tp],["__scopeId","data-v-565a718b"]]);var Kp=Yp;const Xp=e=>((0,o.pushScopeId)("data-v-c2e7c660"),e=e(),(0,o.popScopeId)(),e),Jp={class:"full-width full-height row-block"},Qp={key:"organizations",class:"oranizations full-height full-width row-block"},eu={class:"tile"},tu={class:"header row-block full-width justify-between"},au={class:"additional-info column-block"},ou={class:"materials row-block"},iu={class:"material row-block align-center"},lu=["src"],nu={class:"material__title"},ru={class:"material row-block align-center"},su=["src"],cu={class:"material__title"},du={class:"material row-block align-center"},mu=["src"],pu={class:"material__title"},uu={class:"data-block row-block"},hu={class:"data-block__title"},gu={class:"data-block__value-nickname"},fu={class:"data-block row-block"},yu={class:"data-block__title"},ku={class:"data-block__value-balance"},vu={class:"data-block row-block"},bu={class:"data-block__title"},Nu={class:"members-amount row-block"},Vu={class:"members-amount__text-current"},wu={class:"members-amount__text-max"},Eu=["onClick"],Su={key:"transactions",class:"transactions full-height full-width column-block"},Cu={class:"row-block"},_u={class:"search-bar align-center row-reverse-block"},$u=["placeholder"],Du={class:"table column-block full-height"},Bu={class:"container column-block full-height full-width"},xu={class:"headers row-block full-width"},zu=["onClick"],Mu={class:"title-content align-center"},Lu={key:0,class:"table-loader full-width"},Tu=Xp((()=>(0,o.createElementVNode)("div",{class:"loader"},null,-1))),Iu=[Tu],Fu={class:"table-row row-block align-center full-width"},Pu={class:"row-item"},Au={class:"row-item"},Ru={class:"row-item"},Ou={class:"row-item"},ju={class:"row-item"},Zu={class:"row-item"},Uu={class:"row-item"},Hu={class:"row-item"},Gu={key:"bonuses",class:"bonuses full-width full-height column-block"},qu={class:"row-block"},Wu={class:"search-bar align-center row-reverse-block"},Yu=["placeholder"],Ku={class:"table column-block full-height"},Xu={class:"container column-block full-height full-width"},Ju={class:"headers row-block full-width"},Qu=["onClick"],eh={class:"title-content align-center"},th={key:0,class:"table-loader full-width"},ah=Xp((()=>(0,o.createElementVNode)("div",{class:"loader"},null,-1))),oh=[ah],ih={class:"table-row row-block align-center full-width full-height"},lh={class:"row-item"},nh={class:"row-item"},rh={class:"row-item"},sh={class:"row-item"},ch={class:"row-item"},dh={class:"row-item"},mh={class:"row-item"},ph={class:"row-item"},uh={class:"row-item"};function hh(e,t){const a=(0,o.resolveComponent)("SVGComponent"),i=(0,o.resolveComponent)("vue-select"),l=(0,o.resolveComponent)("DynamicScrollerItem"),n=(0,o.resolveComponent)("DynamicScroller"),r=(0,o.resolveComponent)("modal");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"financing-page full-height column-block full-width"]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`,"--background":`${e.organizationColorSchema.backgroundColor}`,"--main-text-color":`${e.getCorrectContrastingFontColor(e.organizationColorSchema.main,"#fbfbfb","#060606")}`})},[e.isLoading?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createElementVNode)("main",Jp,[(0,o.createVNode)(o.Transition,{name:"local-fade",appear:"",mode:"out-in"},{default:(0,o.withCtx)((()=>["organizations"===e.financingPage?((0,o.openBlock)(),(0,o.createElementBlock)("div",Qp,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.config,((t,a)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",eu,[(0,o.createElementVNode)("div",tu,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(t.name),1)]),(0,o.createElementVNode)("div",au,[(0,o.createElementVNode)("div",ou,[(0,o.createElementVNode)("div",iu,[(0,o.createElementVNode)("img",{class:"material__picture",src:`${e.cdn}/img/ipad/apps/organizations/green.svg`,alt:""},null,8,lu),(0,o.createElementVNode)("span",nu,(0,o.toDisplayString)(t.green?e.$n(t.green,"any-number"):0),1)]),(0,o.createElementVNode)("div",ru,[(0,o.createElementVNode)("img",{class:"material__picture",src:`${e.cdn}/img/ipad/apps/organizations/red.svg`,alt:""},null,8,su),(0,o.createElementVNode)("span",cu,(0,o.toDisplayString)(t.red?e.$n(t.red,"any-number"):0),1)]),(0,o.createElementVNode)("div",du,[(0,o.createElementVNode)("img",{class:"material__picture",src:`${e.cdn}/img/ipad/apps/organizations/blue.svg`,alt:""},null,8,mu),(0,o.createElementVNode)("span",pu,(0,o.toDisplayString)(t.blue?e.$n(t.blue,"any-number"):0),1)])]),(0,o.createElementVNode)("div",uu,[(0,o.createElementVNode)("span",hu,(0,o.toDisplayString)(e.$t("cef.ipad.org.financing.leader"))+":",1),(0,o.createElementVNode)("span",gu,(0,o.toDisplayString)(t.leader||e.$t("cef.ipad.org.financing.no")),1)]),(0,o.createElementVNode)("div",fu,[(0,o.createElementVNode)("span",yu,(0,o.toDisplayString)(e.$t("cef.ipad.org.financing.budget"))+":",1),(0,o.createElementVNode)("span",ku,(0,o.toDisplayString)(e.countMoneyToDollar(t.balance,!0,!0)),1)]),(0,o.createElementVNode)("div",vu,[(0,o.createElementVNode)("span",bu,(0,o.toDisplayString)(e.$t("cef.ipad.org.financing.members"))+":",1),(0,o.createElementVNode)("div",Nu,[(0,o.createElementVNode)("span",Vu,(0,o.toDisplayString)(t.onlineCount)+" ",1),(0,o.createElementVNode)("span",wu,"/ "+(0,o.toDisplayString)(t.totalCount),1)])])]),(0,o.createElementVNode)("button",{class:(0,o.normalizeClass)([{disabled:t.id===e.member||!1===t.canSendMoney},"sendMoney row-block align-center justify-center"]),onClick:a=>e.openModal(t)},(0,o.toDisplayString)(e.$t("cef.ipad.org.financing.send-money")),11,Eu)])))),256))])):"transactions"===e.financingPage?((0,o.openBlock)(),(0,o.createElementBlock)("div",Su,[(0,o.createElementVNode)("header",Cu,[(0,o.createElementVNode)("div",_u,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=t=>e.search=t),placeholder:e.$t("cef.ipad.org.financing.enter-value"),class:(0,o.normalizeClass)(["search-bar__input full-height full-width",{notEmpty:e.search}])},null,10,$u),[[o.vModelText,e.search,void 0,{trim:!0}]]),(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/search.svg",class:"search-bar__picture"})]),(0,o.createVNode)(i,{"item-list":e.transactionsFilters,bindTitle:"title",class:(0,o.normalizeClass)(["select-menu",{selected:e.selectedFilter}]),onSetItem:t[1]||(t[1]=t=>e.setFilterType(t,"transactions"))},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/calls/filter.svg",class:"filter"}),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.selectedFilter?e.selectedFilter.title:e.$t("cef.ipad.org.financing.select-filter")),1)])),_:1},8,["item-list","class"])]),(0,o.createElementVNode)("div",Du,[(0,o.createElementVNode)("div",Bu,[(0,o.createElementVNode)("div",xu,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.transactionsHeaders,((t,i)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{onClick:a=>e.sorting(t.path,"transactions"),class:"headers__title align-center"},[(0,o.createElementVNode)("div",Mu,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(t.title),1),(0,o.withDirectives)((0,o.createVNode)(a,{class:(0,o.normalizeClass)({selected:e.checkSortIcon()}),path:"icons/global/chevron.svg"},null,8,["class"]),[[o.vShow,e.tempSort&&e.tempSort.title.includes(t.title)]])])],8,zu)))),256)),e.loader?((0,o.openBlock)(),(0,o.createElementBlock)("div",Lu,Iu)):(0,o.createCommentVNode)("",!0)]),(0,o.createVNode)(n,{class:"table-view full-width full-height column-block",items:e.transactions,"min-item-size":45/1080*e.windowHeight,emitUpdate:!0,ref:"transactionsLogs",onScroll:t[2]||(t[2]=t=>e.updateList("transactionsLogs","transactions",e.onTransactionsPageChange,45/1080*e.windowHeight)),"key-field":"id"},{default:(0,o.withCtx)((({item:t,index:a,active:i})=>[(0,o.createVNode)(l,{item:t,active:i,"data-index":a},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",Fu,[(0,o.createElementVNode)("div",Pu,(0,o.toDisplayString)(t.fractionFrom),1),(0,o.createElementVNode)("div",Au,(0,o.toDisplayString)(t.login),1),(0,o.createElementVNode)("div",Ru,(0,o.toDisplayString)(t.uid),1),(0,o.createElementVNode)("div",Ou,(0,o.toDisplayString)(t.rank),1),(0,o.createElementVNode)("div",ju,(0,o.toDisplayString)(t.fractionTo),1),(0,o.createElementVNode)("div",Zu,(0,o.toDisplayString)(e.$t(t.comment,t.args)),1),(0,o.createElementVNode)("div",Uu,(0,o.toDisplayString)(e.countMoneyToDollar(t.amount,!1,!1)),1),(0,o.createElementVNode)("div",Hu,(0,o.toDisplayString)(t.date),1)])])),_:2},1032,["item","active","data-index"])])),_:1},8,["items","min-item-size"])])])])):"bonuses"===e.financingPage?((0,o.openBlock)(),(0,o.createElementBlock)("div",Gu,[(0,o.createElementVNode)("header",qu,[(0,o.createElementVNode)("div",Wu,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=t=>e.search=t),placeholder:e.$t("cef.ipad.org.financing.enter-value"),class:(0,o.normalizeClass)(["search-bar__input full-height full-width",{notEmpty:e.search}])},null,10,Yu),[[o.vModelText,e.search,void 0,{trim:!0}]]),(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/search.svg",class:"search-bar__picture"})]),(0,o.createVNode)(i,{"item-list":e.bonusesFilters,bindTitle:"title",class:(0,o.normalizeClass)(["select-menu",{selected:e.selectedFilter}]),onSetItem:t[4]||(t[4]=t=>e.setFilterType(t,"bonuses"))},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/calls/filter.svg",class:"filter"}),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.selectedFilter?e.selectedFilter.title:e.$t("cef.ipad.org.financing.select-filter")),1)])),_:1},8,["item-list","class"])]),(0,o.createElementVNode)("div",Ku,[(0,o.createElementVNode)("div",Xu,[(0,o.createElementVNode)("div",Ju,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.bonusesHeaders,((t,i)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{onClick:a=>e.sorting(t.path,"bonuses"),class:"headers__title align-center"},[(0,o.createElementVNode)("div",eh,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(t.title),1),(0,o.withDirectives)((0,o.createVNode)(a,{class:(0,o.normalizeClass)({selected:e.checkSortIcon()}),path:"icons/global/chevron.svg"},null,8,["class"]),[[o.vShow,e.tempSort&&e.tempSort.title.includes(t.title)]])])],8,Qu)))),256)),e.loader?((0,o.openBlock)(),(0,o.createElementBlock)("div",th,oh)):(0,o.createCommentVNode)("",!0)]),(0,o.createVNode)(n,{class:"table-view full-width full-height column-block",items:e.bonuses,"min-item-size":45/1080*e.windowHeight,emitUpdate:!0,ref:"bonusesLogs",onScroll:t[5]||(t[5]=t=>e.updateList("bonusesLogs","bonuses",e.onBonusesPageChange,45/1080*e.windowHeight)),"key-field":"id"},{default:(0,o.withCtx)((({item:t,index:a,active:i})=>[(0,o.createVNode)(l,{item:t,active:i,"data-index":a},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",ih,[(0,o.createElementVNode)("div",lh,(0,o.toDisplayString)(t.fraction),1),(0,o.createElementVNode)("div",nh,(0,o.toDisplayString)(t.fromLogin),1),(0,o.createElementVNode)("div",rh,(0,o.toDisplayString)(t.fromUid),1),(0,o.createElementVNode)("div",sh,(0,o.toDisplayString)(t.toLogin),1),(0,o.createElementVNode)("div",ch,(0,o.toDisplayString)(t.toUid),1),(0,o.createElementVNode)("div",dh,(0,o.toDisplayString)(t.fraction),1),(0,o.createElementVNode)("div",mh,(0,o.toDisplayString)(e.sliceString(t.comment,15)),1),(0,o.createElementVNode)("div",ph,(0,o.toDisplayString)(e.countMoneyToDollar(t.amount,!1,!1)),1),(0,o.createElementVNode)("div",uh,(0,o.toDisplayString)(t.date),1)])])),_:2},1032,["item","active","data-index"])])),_:1},8,["items","min-item-size"])])])])):(0,o.createCommentVNode)("",!0)])),_:1})]),(0,o.createVNode)(o.Transition,{name:"local-fade",appear:""},{default:(0,o.withCtx)((()=>[e.modal?((0,o.openBlock)(),(0,o.createBlock)(r,{key:0})):(0,o.createCommentVNode)("",!0)])),_:1})],64))],6)}const gh={class:"modal-content column-block align-start justify-start"},fh={class:"modal-content__title full-width align-center"},yh={class:"modal-content__text balance"},kh={class:"money-container"},vh={class:"input-block column-block"},bh={class:"modal-content__text"},Nh=["placeholder"],Vh={class:"comment full-width input-block"},wh={class:"modal-content__text"},Eh={class:"input-block align-center full-width row-block justify-between"},Sh=["placeholder"],Ch={class:"control-buttons full-width row-block justify-between"};function _h(e,t){const a=(0,o.resolveComponent)("SVGComponent");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{onClick:t[9]||(t[9]=(0,o.withModifiers)((t=>e.openModal(null)),["self"])),class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"modal full-width full-height column-block"]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`,"--background":`${e.organizationColorSchema.backgroundColor}`})},[(0,o.createElementVNode)("div",gh,[(0,o.createElementVNode)("div",fh,(0,o.toDisplayString)(e.modal.name),1),(0,o.createElementVNode)("div",{onClick:t[0]||(t[0]=t=>e.openModal(null)),class:"flex-block close-block"},[(0,o.createVNode)(a,{path:"icons/global/cross.svg"})]),(0,o.createElementVNode)("div",yh,(0,o.toDisplayString)(e.$t("cef.ipad.org.financing.modal.org-balance")),1),(0,o.createElementVNode)("span",kh,(0,o.toDisplayString)(e.countMoneyToDollar(e.myFractionMoney,!1,!0)),1),(0,o.createElementVNode)("div",vh,[(0,o.createElementVNode)("div",bh,(0,o.toDisplayString)(e.$t("cef.ipad.org.financing.modal.financing-sum")),1),(0,o.withDirectives)((0,o.createElementVNode)("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.amount=t),placeholder:e.$t("cef.ipad.org.financing.modal.enter-value"),class:"input-block__input full-width",type:"text",onKeypress:t[2]||(t[2]=(...t)=>e.preventForNumber&&e.preventForNumber(...t)),onCut:t[3]||(t[3]=(0,o.withModifiers)((()=>{}),["prevent"])),onPaste:t[4]||(t[4]=(0,o.withModifiers)((()=>{}),["prevent"])),onCopy:t[5]||(t[5]=(0,o.withModifiers)((()=>{}),["prevent"]))},null,40,Nh),[[o.vModelText,e.amount]])]),(0,o.createElementVNode)("div",Vh,[(0,o.createElementVNode)("div",wh,(0,o.toDisplayString)(e.$t("cef.ipad.org.financing.modal.comment")),1),(0,o.createElementVNode)("div",Eh,[(0,o.withDirectives)((0,o.createElementVNode)("textarea",{"onUpdate:modelValue":t[6]||(t[6]=t=>e.comment=t),class:"comment__input full-width",placeholder:e.$t("cef.ipad.org.financing.modal.leave-comment")},null,8,Sh),[[o.vModelText,e.comment]])])]),(0,o.createElementVNode)("div",Ch,[(0,o.createElementVNode)("div",{onClick:t[7]||(t[7]=t=>e.apply()),class:"control-button"},(0,o.toDisplayString)(e.$t("cef.ipad.org.financing.modal.execute")),1),(0,o.createElementVNode)("div",{onClick:t[8]||(t[8]=t=>e.openModal(null)),class:"control-button"},(0,o.toDisplayString)(e.$t("cef.ipad.org.financing.modal.discard")),1)])])],6)}var $h={name:"modal",components:{Money:Zi.Z},data(){return{amount:null,comment:null}},computed:(0,He.rn)({modal:e=>e.ipad.organization.financing.modal,organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],myFractionMoney:e=>e.ipad.organization.balance.balance}),methods:{...(0,He.OI)({openModal:"ipad/organization/financing/openModal"}),apply(){!this.amount||this.amount<100||isNaN(this.amount)?this.$store.commit("main/showNotify",{text:this.$t("cef.ipad.org.financing.modal.min-sum"),type:"error"}):this.amount>1e6?this.$store.commit("main/showNotify",{text:this.$t("cef.ipad.org.financing.modal.max-sum"),type:"error"}):!this.comment||this.comment.length<3||this.comment.length>20?this.$store.commit("main/showNotify",{text:this.$t("cef.ipad.org.financing.modal.comment-length"),type:"error"}):(mp.trigger2("ipad.organization.financing.giveMoney",this.modal.id,this.amount,this.comment),this.openModal(null))}}};const Dh=(0,et.Z)($h,[["render",_h],["__scopeId","data-v-0254b924"]]);var Bh=Dh,xh={name:"financing",mixins:[Ge.Z,ca.Z,sa,Je.Z],created(){this.transactionsHeaders=[{title:this.$t("cef.ipad.org.financing.org-short"),path:"org-short"},{title:this.$t("cef.ipad.org.financing.sender"),path:"sender"},{title:"UID",path:"uid"},{title:this.$t("cef.ipad.org.financing.rank"),path:"rank"},{title:this.$t("cef.ipad.org.financing.financing-org"),path:"financing-org"},{title:this.$t("cef.ipad.org.financing.comment"),path:"comment"},{title:this.$t("cef.ipad.org.financing.sum"),path:"sum"},{title:this.$t("cef.ipad.org.financing.date"),path:"date"}],this.transactionsFilters=[{title:this.$t("cef.ipad.org.financing.org-short"),path:"org-short"},{title:this.$t("cef.ipad.org.financing.sender"),path:"sender"},{title:"UID",path:"uid"},{title:this.$t("cef.ipad.org.financing.rank"),path:"rank"},{title:this.$t("cef.ipad.org.financing.financing-org"),path:"financing-org"},{title:this.$t("cef.ipad.org.financing.comment"),path:"comment"},{title:this.$t("cef.ipad.org.financing.sum"),path:"sum"}],this.bonusesHeaders=[{title:this.$t("cef.ipad.org.financing.given-by-org"),path:"given-by-org"},{title:this.$t("cef.ipad.org.financing.given-by"),path:"given-by"},{title:this.$t("cef.ipad.org.financing.given-by-uid"),path:"given-by-uid"},{title:this.$t("cef.ipad.org.financing.received"),path:"received"},{title:this.$t("cef.ipad.org.financing.received-uid"),path:"received-uid"},{title:this.$t("cef.ipad.org.financing.received-org"),path:"received-org"},{title:this.$t("cef.ipad.org.financing.comment"),path:"comment"},{title:this.$t("cef.ipad.org.financing.sum"),path:"sum"},{title:this.$t("cef.ipad.org.financing.date"),path:"date"}],this.bonusesFilters=[{title:this.$t("cef.ipad.org.financing.given-by-org"),path:"given-by-org"},{title:this.$t("cef.ipad.org.financing.given-by"),path:"given-by"},{title:this.$t("cef.ipad.org.financing.given-by-uid"),path:"given-by-uid"},{title:this.$t("cef.ipad.org.financing.received"),path:"received"},{title:this.$t("cef.ipad.org.financing.received-uid"),path:"received-uid"},{title:this.$t("cef.ipad.org.financing.received-org"),path:"received-org"},{title:this.$t("cef.ipad.org.financing.comment"),path:"comment"},{title:this.$t("cef.ipad.org.financing.sum"),path:"sum"}]},components:{Modal:Bh,VueSelect:We.Z},data(){return{search:"",transactionsHeaders:[],transactionsFilters:[],bonusesHeaders:[],bonusesFilters:[],pageNumber:1,selectedFilter:null,debounce:null,sort:null,tempSort:null,paginationDebounce:null}},computed:{...(0,He.rn)({member:e=>e.main.member,transactions:e=>e.ipad.organization.financing.transactions,bonuses:e=>e.ipad.organization.financing.bonuses,config:e=>e.ipad.organization.financing.config,modal:e=>e.ipad.organization.financing.modal,loader:e=>e.ipad.organization.financing.loader,bonusesEndList:e=>e.ipad.organization.financing.bonusesEndList,transactionsEndList:e=>e.ipad.organization.financing.transactionsEndList,organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],financingPage:e=>e.ipad.organization.financing.page,isLoading:e=>e.ipad.organization.isLoading})},methods:{...(0,He.OI)({openModal:"ipad/organization/financing/openModal"}),onTransactionsPageChange(){this.paginationDebounce&&this.paginationDebounce>Date.now()/1e3||this.transactions.length&&(this.transactions.length<50||this.transactionsEndList||(this.pageNumber++,mp.trigger2("ipad.organization.financing.getTransactionsData",this.pageNumber,this.sort,this.selectedFilter?this.selectedFilter.path:null,this.search),this.$store.commit("ipad/organization/financing/setLoader",!0)))},onBonusesPageChange(){this.paginationDebounce&&this.paginationDebounce>Date.now()/1e3||this.bonuses.length&&(this.bonuses.length<50||this.bonusesEndList||(this.pageNumber++,mp.trigger2("ipad.organization.financing.getBonusesData",this.pageNumber,this.sort,this.selectedFilter?this.selectedFilter.path:null,this.search),this.$store.commit("ipad/organization/financing/setLoader",!0)))},checkSortIcon(){if(!this.sort)return;const e=this.sort.split("-");return"desc"!==e[1]},sorting(e,t){switch("transactions"===t?this.tempSort=this.transactionsHeaders.find((t=>t.path===e)):"bonuses"===t&&(this.tempSort=this.bonusesHeaders.find((t=>t.path===e))),e){case"org-short":e="fml.fractionId";break;case"sender":e="a.login";break;case"uid":e="a.id";break;case"rank":e="fr.rank";break;case"financing-org":e="fml.toFractionId";break;case"comment":e="fml.comment";break;case"sum":e="fml.amount";break;case"date":e="fml.date";break;case"given-by-org":e="fml.fractionId";break;case"given-by":e="from_.login";break;case"given-by-uid":e="from_.id";break;case"received":e="to_.login";break;case"received-uid":e="to_.id";break;case"received-org":e="fml.tofractionId";break}if(this.sort){const t=this.sort.split("-");e===t[0]?this.sort=`${e}-${"desc"===t[1]?"asc":"desc"}`:this.sort=`${e}-desc`}else this.sort=`${e}-desc`;this.pageNumber=1,mp.trigger2(`ipad.organization.financing.get${"bonuses"===t?"Bonuses":"Transactions"}Data`,this.pageNumber,this.sort,null,null),this.paginationDebounce=Date.now()/1e3+1,this.$store.commit("ipad/organization/financing/setLoader",!0)},clearSort(){this.tempSort=null,this.sort=null},clearSearchModifiers(){this.pageNumber=1,"bonuses"===this.financingPage?mp.trigger2("ipad.organization.financing.getBonusesData"):"transactions"===this.financingPage&&mp.trigger2("ipad.organization.financing.getTransactionsData"),this.paginationDebounce=Date.now()/1e3+1,this.$store.commit("ipad/organization/financing/setLoader",!0),this.clearSort()},setFilterType(e,t){this.selectedFilter&&this.selectedFilter.path==e.path?this.selectedFilter=null:this.selectedFilter=e,this.selectedFilter?this.search&&this.search.length&&(this.clearSort(),this.pageNumber=1,mp.trigger2(`ipad.organization.financing.get${"bonuses"===t?"Bonuses":"Transactions"}Data`,this.pageNumber,null,this.selectedFilter.path,this.search),this.paginationDebounce=Date.now()/1e3+1,this.$store.commit("ipad/organization/financing/setLoader",!0)):this.search&&this.search.length&&this.clearSearchModifiers()}},watch:{financingPage(){this.tempSort=null,this.search="",this.selectedFilter=null,this.sort=null},search(e){clearTimeout(this.debounce),this.debounce=setTimeout((()=>{e.length&&this.selectedFilter?(this.clearSort(),this.pageNumber=1,mp.trigger2("ipad.organization.financing.getBonusesData",this.pageNumber,null,this.selectedFilter.path,e),"bonuses"===this.financingPage?mp.trigger2("ipad.organization.financing.getBonusesData",this.pageNumber,null,this.selectedFilter.path,e):"transactions"===this.financingPage&&mp.trigger2("ipad.organization.financing.getTransactionsData",this.pageNumber,null,this.selectedFilter.path,e),this.paginationDebounce=Date.now()/1e3+1,this.$store.commit("ipad/organization/financing/setLoader",!0)):!e.length&&this.selectedFilter&&(this.selectedFilter=null,this.clearSearchModifiers())}),1e3)}}};const zh=(0,et.Z)(xh,[["render",hh],["__scopeId","data-v-c2e7c660"]]);var Mh=zh;const Lh={key:0,class:"control-panel row-block full-height full-width"},Th={class:"tile"},Ih={class:"title-info row-block justify-between"},Fh={class:"title-info__title"},Ph={class:"row-block"},Ah={class:"title-info__text-value"},Rh={class:"title-info__text-magnitude"};function Oh(e,t){return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"control-page full-width full-height column-block"]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`,"--background":`${e.organizationColorSchema.backgroundColor}`})},[e.isLoading?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",Lh,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.control,(t=>((0,o.openBlock)(),(0,o.createElementBlock)("div",Th,[(0,o.createElementVNode)("div",Ih,[(0,o.createElementVNode)("span",Fh,(0,o.toDisplayString)(e.getPropertyCategoryTranslate(t.type)),1),(0,o.createElementVNode)("div",Ph,[(0,o.createElementVNode)("span",Ah,(0,o.toDisplayString)(e.countMoneyToDollar(t.incomePerHour,!1,!1))+" ",1),(0,o.createElementVNode)("span",Rh,(0,o.toDisplayString)(e.$t("cef.ipad.org.control.per-hour")),1)])]),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)([{"grid-3x2":t.controllingBy.length<=6,"grid-3x3":t.controllingBy.length>6&&t.controllingBy.length<=9,"grid-4x3":t.controllingBy.length>9&&t.controllingBy.length<=12,"grid-5x3":t.controllingBy.length>12&&t.controllingBy.length<=15,"grid-5x5":t.controllingBy.length>15&&t.controllingBy.length<=25,"grid-6x5":t.controllingBy.length>25&&t.controllingBy.length<=28},"grid row-block"])},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(t.controllingBy,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["grid-item",e])},(0,o.toDisplayString)(t+1),3)))),256))],2)])))),256))]))],6)}var jh={name:"control",computed:(0,He.rn)({control:e=>e.ipad.organization.control.control,organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],isLoading:e=>e.ipad.organization.isLoading})};const Zh=(0,et.Z)(jh,[["render",Oh],["__scopeId","data-v-4aab2840"]]);var Uh=Zh;const Hh=e=>((0,o.pushScopeId)("data-v-5356cfc2"),e=e(),(0,o.popScopeId)(),e),Gh={class:"player-info row-block align-center"},qh={class:"info-content justify-center column-block full-width full-height"},Wh={class:"main-info align-center full-width row-block align-center"},Yh={class:"user-data row-block align-center full-width"},Kh={class:"data-container column-block"},Xh={class:"data-container__title"},Jh={class:"data-container__value"},Qh={class:"data-container column-block"},eg={class:"data-container__title"},tg={class:"data-container__value"},ag={class:"data-container column-block"},og={class:"data-container__title"},ig={class:"data-container__value"},lg={class:"data-container column-block"},ng={class:"data-container__title"},rg={class:"data-container__value"},sg={class:"data-container column-block"},cg={class:"data-container__title"},dg={class:"data-container__value"},mg={class:"data-container column-block"},pg={class:"data-container__title"},ug={class:"data-container__value"},hg={class:"data-container column-block"},gg={class:"data-container__title"},fg={class:"data-container__value"},yg={class:"data-container column-block"},kg={class:"data-container__title"},vg={class:"data-container__value"},bg={class:"row-block align-center justify-end"},Ng={class:"is-online__title"},Vg={class:"interaction row-block"},wg=["disabled","onClick"],Eg={class:"action-block__title"},Sg={class:"container column-block full-height full-width"},Cg={key:0,class:"headers row-block full-width"},_g={class:"headers__title align-center"},$g={key:0,class:"table-loader full-width"},Dg=Hh((()=>(0,o.createElementVNode)("div",{class:"loader"},null,-1))),Bg=[Dg],xg={class:"full-width table-view column-block full-height"},zg={class:"table-row row-block align-center full-width"},Mg={class:"row-item"},Lg={class:"row-item"},Tg={class:"row-item"},Ig={class:"row-item"},Fg={class:"row-item row-block"},Pg={class:"row-item"},Ag={class:"row-item"},Rg={class:"table-row row-block align-center full-width"},Og={class:"row-item"},jg={class:"row-item"},Zg={class:"row-item"},Ug={class:"row-item"},Hg={class:"row-item"},Gg={class:"row-item"},qg={class:"row-item"},Wg={class:"row-item"},Yg={class:"table-row row-block align-center full-width"},Kg={class:"row-item"},Xg={class:"row-item"},Jg={class:"row-item"},Qg={class:"row-item"},ef={class:"row-item"},tf={class:"row-item"},af={class:"row-item"},of={class:"records-block column-block full-width"},lf={class:"records-header row-block align-center full-width justify-between"},nf={class:"records-header__title"},rf=["innerHTML"],sf={class:"records-body full-wcolumn-block full-width column-block justify-between"},cf={class:"records-row row-block full-width justify-between"},df={class:"arrested-container column-block full-width"},mf={class:"arrested-container__title"},pf={class:"record-data column-block full-width"},uf={class:"record-data-block row-block full-width justify-between"},hf={class:"record-data-block__title"},gf={class:"record-data-block__value"},ff={class:"record-data-block row-block full-width justify-between"},yf={class:"record-data-block__title"},kf={class:"record-data-block__value"},vf={class:"record-data-block row-block full-width justify-between"},bf={class:"record-data-block__title"},Nf={class:"record-data-block__value"},Vf={class:"record-data-block row-block full-width justify-between"},wf={class:"record-data-block__title"},Ef={class:"record-data-block__value"},Sf={class:"arrested-container column-block full-width"},Cf={class:"arrested-container__title"},_f={class:"record-data column-block full-width"},$f={class:"record-data-block row-block full-width justify-between"},Df={class:"record-data-block__title"},Bf={class:"record-data-block__value"},xf={class:"record-data-block row-block full-width justify-between"},zf={class:"record-data-block__title"},Mf={class:"record-data-block__value"},Lf={class:"record-data-block row-block full-width justify-between"},Tf={class:"record-data-block__title"},If={class:"record-data-block__value"},Ff={class:"record-data-block row-block full-width justify-between"},Pf={class:"record-data-block__title"},Af=Hh((()=>(0,o.createElementVNode)("span",{class:"record-data-block__value"},"Федеральная тюрьма",-1))),Rf={class:"records-row row-block full-width justify-between"},Of={class:"arrested-container column-block full-width"},jf={class:"record-data column-block full-width"},Zf={class:"record-data-block row-block full-width justify-between"},Uf={class:"record-data-block__title"},Hf={class:"record-data-block__value"},Gf={class:"arrested-container column-block full-width"},qf={class:"record-data column-block full-width"},Wf={class:"record-data-block row-block full-width justify-between"},Yf={class:"record-data-block__title"},Kf={class:"record-data-block__value"},Xf={class:"records-footer row-block full-width justify-between"},Jf={class:"change-record row-block align-center"},Qf={class:"choose-record__title"},ey={class:"choose-record__title"},ty={class:"delete-record__title"},ay={class:"modal-viewbox column-block"},oy={class:"modal-viewbox__title"},iy={class:"modal-content column-block"},ly={key:0,class:"select-menu column-block"},ny={class:"modal-content__title"},ry={class:"modal-content__title"},sy=["placeholder","min-height"],cy={class:"control-buttons row-block full-width justify-between"};function dy(e,t){const a=(0,o.resolveComponent)("AvatarComponent"),i=(0,o.resolveComponent)("SVGComponent"),l=(0,o.resolveComponent)("DynamicScrollerItem"),n=(0,o.resolveComponent)("DynamicScroller"),r=(0,o.resolveComponent)("RecycleScroller"),s=(0,o.resolveComponent)("vue-select");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"database-player-page full-height full-width column-block"]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`,"--main-text-color":`${e.getCorrectContrastingFontColor(e.organizationColorSchema.main,"#fbfbfb","#060606")}`})},[(0,o.createElementVNode)("div",Gh,[(0,o.createVNode)(a,{class:"player-info__picture",src:`https://a.rsg.sc/n/${(e.player?.createdSocialClub||"").toLowerCase()}`,gender:e.player?.gender},null,8,["src","gender"]),(0,o.createElementVNode)("div",qh,[(0,o.createElementVNode)("div",Wh,[(0,o.createElementVNode)("div",Yh,[(0,o.createElementVNode)("div",Kh,[(0,o.createElementVNode)("span",Xh,(0,o.toDisplayString)(e.$t("cef.ipad.org.database-player.org"))+":",1),(0,o.createElementVNode)("span",Jh,(0,o.toDisplayString)(e.player.organization||e.$t("cef.ipad.org.database-player.not-member")),1)]),(0,o.createElementVNode)("div",Qh,[(0,o.createElementVNode)("span",eg,(0,o.toDisplayString)(e.$t("cef.ipad.org.database-player.auto-fines"))+":",1),(0,o.createElementVNode)("span",tg,(0,o.toDisplayString)(e.player.autoFines||0),1)]),(0,o.createElementVNode)("div",ag,[(0,o.createElementVNode)("span",og,(0,o.toDisplayString)(e.$t("cef.ipad.org.database-player.mob-number"))+":",1),(0,o.createElementVNode)("span",ig,(0,o.toDisplayString)(e.player.phoneNumber),1)]),(0,o.createElementVNode)("div",lg,[(0,o.createElementVNode)("span",ng,(0,o.toDisplayString)(e.$t("cef.ipad.org.database-player.arrests"))+":",1),(0,o.createElementVNode)("span",rg,(0,o.toDisplayString)(e.player.arrests),1)]),(0,o.createElementVNode)("div",sg,[(0,o.createElementVNode)("span",cg,(0,o.toDisplayString)(e.$t("cef.ipad.org.database-player.criminalRecord"))+":",1),(0,o.createElementVNode)("span",dg,(0,o.toDisplayString)(e.player.criminalRecords),1)]),(0,o.createElementVNode)("div",mg,[(0,o.createElementVNode)("span",pg,(0,o.toDisplayString)(e.$t("cef.ipad.org.database-player.house"))+":",1),(0,o.createElementVNode)("span",ug,(0,o.toDisplayString)(e.player.houseId||e.$t("cef.ipad.org.database-player.no")),1)]),(0,o.createElementVNode)("div",{onClick:t[0]||(t[0]=t=>e.setGPS("houses")),class:(0,o.normalizeClass)(["data-container create-marker house row-block align-center justify-center",{disabled:!e.player.houseId}])},[(0,o.createVNode)(i,{path:"icons/ipad/apps/organizations/marker.svg"})],2),(0,o.createElementVNode)("div",hg,[(0,o.createElementVNode)("span",gg,(0,o.toDisplayString)(e.$t("cef.ipad.org.database-player.flat"))+":",1),(0,o.createElementVNode)("span",fg,(0,o.toDisplayString)(e.player.apartmentId||e.$t("cef.ipad.org.database-player.no")),1)]),(0,o.createElementVNode)("div",{onClick:t[1]||(t[1]=t=>e.setGPS("apartments")),class:(0,o.normalizeClass)(["data-container create-marker apartments row-block align-center justify-center",{disabled:!e.player.apartmentId}])},[(0,o.createVNode)(i,{path:"icons/ipad/apps/organizations/marker.svg"})],2),(0,o.createElementVNode)("div",yg,[(0,o.createElementVNode)("span",kg,(0,o.toDisplayString)(e.$t("cef.ipad.org.database-player.online"))+":",1),(0,o.createElementVNode)("span",vg,[(0,o.createElementVNode)("div",bg,[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["is-online__figure",{active:e.player.online}])},null,2),(0,o.createElementVNode)("span",Ng,(0,o.toDisplayString)(e.player.online?`ID: ${e.player.online}`:e.player.lastVisit),1)])])])])])])]),(0,o.createElementVNode)("div",Vg,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.actions,(t=>((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,["family"===e.openedApp&&["give-warn","remove-warn"].includes(t.action)?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:0,tabindex:"-1",class:(0,o.normalizeClass)(["action-block row-block align-center",{active:e.page===t.action,disabled:"chasing"===t.action&&e.player.wantedLevel<=0||"criminal-record"===t.action&&!e.player.criminalRecordsLogCount}]),disabled:"chasing"===t.action&&e.player.wantedLevel<=0||"criminal-record"===t.action&&!e.player.criminalRecordsLogCount,onClick:a=>e.onInteractionClick(t.action)},[(0,o.createVNode)(i,{class:"action-block__picture",path:`icons/ipad/apps/organizations/database-player/${t.action}.svg`},null,8,["path"]),(0,o.createElementVNode)("div",Eg,(0,o.toDisplayString)(t.title),1)],10,wg))],64)))),256))]),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)([e.page,"table column-block full-height"])},[(0,o.createElementVNode)("div",Sg,[e.hasHeader?((0,o.openBlock)(),(0,o.createElementBlock)("div",Cg,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.headers,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",_g,(0,o.toDisplayString)(e),1)))),256)),e.loader?((0,o.openBlock)(),(0,o.createElementBlock)("div",$g,Bg)):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",xg,["history"===e.page?((0,o.openBlock)(),(0,o.createBlock)(n,{key:0,class:"table-view full-width full-height column-block",items:e.wantedLog,"min-item-size":45/1080*e.windowHeight,emitUpdate:!0,ref:"wantedLogLogs",onScroll:t[2]||(t[2]=t=>e.updateList("wantedLogLogs","wantedLog",e.onPageChange,45/1080*e.windowHeight)),"key-field":"id"},{default:(0,o.withCtx)((({item:t,index:a,active:n})=>[(0,o.createVNode)(l,{item:t,active:n,"data-index":a},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",zg,[(0,o.createElementVNode)("div",Mg,(0,o.toDisplayString)(t.employeeOrg?t.employeeOrg:"CAM"),1),(0,o.createElementVNode)("div",Lg,(0,o.toDisplayString)(t.employeeName?t.employeeName:e.$t("cef.ipad.org.database-player.cam")),1),(0,o.createElementVNode)("div",Tg,(0,o.toDisplayString)(t.employeeId?t.employeeId:"—"),1),(0,o.createElementVNode)("div",Ig,(0,o.toDisplayString)(t.employeeRank?t.employeeId:"—"),1),(0,o.createElementVNode)("div",Fg,[((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(5,(e=>(0,o.createVNode)(i,{class:(0,o.normalizeClass)(["star",{active:e<=t.wantedLevel}]),key:`star${e}`,path:"icons/ipad/apps/organizations/star.svg"},null,8,["class"]))),64))]),(0,o.createElementVNode)("div",Pg,(0,o.toDisplayString)(e.$t(e.unescapeString(t.comment))),1),(0,o.createElementVNode)("div",Ag,(0,o.toDisplayString)(t.date),1)])])),_:2},1032,["item","active","data-index"])])),_:1},8,["items","min-item-size"])):"arrests"===e.page?((0,o.openBlock)(),(0,o.createBlock)(r,{key:1,class:"table-view full-width full-height column-block",items:e.arrestsLog,"item-size":47/1080*e.windowHeight,emitUpdate:!0,ref:"arrestsLogLogs",onScroll:t[3]||(t[3]=t=>e.updateList("arrestsLogLogs","arrestsLog",e.onPageChange,45/1080*e.windowHeight)),"key-field":"id"},{default:(0,o.withCtx)((({item:t,index:a})=>[(0,o.createElementVNode)("div",Rg,[(0,o.createElementVNode)("div",Og,(0,o.toDisplayString)(t.employeeOrg),1),(0,o.createElementVNode)("div",jg,(0,o.toDisplayString)(t.employeeName),1),(0,o.createElementVNode)("div",Zg,(0,o.toDisplayString)(t.employeeId),1),(0,o.createElementVNode)("div",Ug,(0,o.toDisplayString)(t.employeeRank),1),(0,o.createElementVNode)("div",Hg,(0,o.toDisplayString)(t.time)+" "+(0,o.toDisplayString)(e.$t("cef.ipad.org.database-player.minutes")),1),(0,o.createElementVNode)("div",Gg,(0,o.toDisplayString)(t.comment),1),(0,o.createElementVNode)("div",qg,(0,o.toDisplayString)(t.pledge?e.$t("cef.ipad.org.database-player.yes"):e.$t("cef.ipad.org.database-player.no")),1),(0,o.createElementVNode)("div",Wg,(0,o.toDisplayString)(t.date),1)])])),_:1},8,["items","item-size"])):"tickets"===e.page?((0,o.openBlock)(),(0,o.createBlock)(r,{key:2,class:"table-view full-width full-height column-block",items:e.ticketsLog,"item-size":47/1080*e.windowHeight,emitUpdate:!0,ref:"ticketsLogLogs",onScroll:t[4]||(t[4]=t=>e.updateList("ticketsLogLogs","ticketsLog",e.onPageChange,45/1080*e.windowHeight)),"key-field":"id"},{default:(0,o.withCtx)((({item:t,index:a})=>[(0,o.createElementVNode)("div",Yg,[(0,o.createElementVNode)("div",Kg,(0,o.toDisplayString)(t.employeeOrg),1),(0,o.createElementVNode)("div",Xg,(0,o.toDisplayString)(t.employeeName),1),(0,o.createElementVNode)("div",Jg,(0,o.toDisplayString)(t.employeeId),1),(0,o.createElementVNode)("div",Qg,(0,o.toDisplayString)(t.employeeRank),1),(0,o.createElementVNode)("div",ef,(0,o.toDisplayString)(e.countMoneyToDollar(t.amount,!0,!1)),1),(0,o.createElementVNode)("div",tf,(0,o.toDisplayString)(t.comment),1),(0,o.createElementVNode)("div",af,(0,o.toDisplayString)(t.date),1)])])),_:1},8,["items","item-size"])):"criminal-record"===e.page?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:3},[(0,o.createVNode)(o.Transition,{name:"local-fade-abs"},{default:(0,o.withCtx)((()=>[((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:e.criminalRecordPage,class:"records-container full-width column-block"},[(0,o.createElementVNode)("div",of,[(0,o.createElementVNode)("div",lf,[(0,o.createElementVNode)("div",nf,(0,o.toDisplayString)(e.$t("cef.ipad.org.database-player.records",{number:e.criminalRecordPage+1,max:e.criminalRecordsLog.length})),1),(0,o.createElementVNode)("div",{class:"records-header__value",innerHTML:e.$t("cef.ipad.org.database-player.arrest-number",{number:e.currentCriminalRecord&&void 0!==e.currentCriminalRecord?.arrestId?e.currentCriminalRecord?.arrestId:"?"})},null,8,rf)]),(0,o.createElementVNode)("div",sf,[(0,o.createElementVNode)("div",cf,[(0,o.createElementVNode)("div",df,[(0,o.createElementVNode)("span",mf,(0,o.toDisplayString)(e.$t("cef.ipad.org.database-player.arrested-by")),1),(0,o.createElementVNode)("div",pf,[(0,o.createElementVNode)("div",uf,[(0,o.createElementVNode)("span",hf,(0,o.toDisplayString)(e.$t("cef.ipad.org.database-player.name")),1),(0,o.createElementVNode)("span",gf,(0,o.toDisplayString)(e.currentCriminalRecord?.employeeName),1)]),(0,o.createElementVNode)("div",ff,[(0,o.createElementVNode)("span",yf,(0,o.toDisplayString)(e.$t("cef.ipad.org.database-player.static-id")),1),(0,o.createElementVNode)("span",kf,"#"+(0,o.toDisplayString)(e.currentCriminalRecord?.employeeId),1)]),(0,o.createElementVNode)("div",vf,[(0,o.createElementVNode)("span",bf,(0,o.toDisplayString)(e.$t("cef.ipad.org.database-player.structure")),1),(0,o.createElementVNode)("span",Nf,(0,o.toDisplayString)(e.currentCriminalRecord?.employeeOrg),1)]),(0,o.createElementVNode)("div",Vf,[(0,o.createElementVNode)("span",wf,(0,o.toDisplayString)(e.$t("cef.ipad.org.database-player.position")),1),(0,o.createElementVNode)("span",Ef,(0,o.toDisplayString)(e.currentCriminalRecord?.employeeRank),1)])])]),(0,o.createElementVNode)("div",Sf,[(0,o.createElementVNode)("span",Cf,(0,o.toDisplayString)(e.$t("cef.ipad.org.database-player.arrest-details")),1),(0,o.createElementVNode)("div",_f,[(0,o.createElementVNode)("div",$f,[(0,o.createElementVNode)("span",Df,(0,o.toDisplayString)(e.$t("cef.ipad.org.database-player.arrest-time")),1),(0,o.createElementVNode)("span",Bf,(0,o.toDisplayString)(e.currentCriminalRecord?.arrestDate),1)]),(0,o.createElementVNode)("div",xf,[(0,o.createElementVNode)("span",zf,(0,o.toDisplayString)(e.$t("cef.ipad.org.database-player.time-in-prison")),1),(0,o.createElementVNode)("span",Mf,(0,o.toDisplayString)(e.currentCriminalRecord?.arrestTime)+" месяцев",1)]),(0,o.createElementVNode)("div",Lf,[(0,o.createElementVNode)("span",Tf,(0,o.toDisplayString)(e.$t("cef.ipad.org.database-player.deposit-amount")),1),(0,o.createElementVNode)("span",If,"$ "+(0,o.toDisplayString)(e.numberFilter(e.currentCriminalRecord?.bail)),1)]),(0,o.createElementVNode)("div",Ff,[(0,o.createElementVNode)("span",Pf,(0,o.toDisplayString)(e.$t("cef.ipad.org.database-player.serving-prison")),1),Af])])])]),(0,o.createElementVNode)("div",Rf,[(0,o.createElementVNode)("div",Of,[(0,o.createElementVNode)("div",jf,[(0,o.createElementVNode)("div",Zf,[(0,o.createElementVNode)("span",Uf,(0,o.toDisplayString)(e.$t("cef.ipad.org.database-player.crime")),1),(0,o.createElementVNode)("span",Hf,(0,o.toDisplayString)(e.currentCriminalRecord?.reason),1)])])]),(0,o.createElementVNode)("div",Gf,[(0,o.createElementVNode)("div",qf,[(0,o.createElementVNode)("div",Wf,[(0,o.createElementVNode)("span",Yf,(0,o.toDisplayString)(e.$t("cef.ipad.org.database-player.conviction-expires")),1),(0,o.createElementVNode)("span",Kf,(0,o.toDisplayString)(e.currentCriminalRecord?.recordExpires),1)])])])])])])]))])),_:1}),(0,o.createElementVNode)("div",Xf,[(0,o.createElementVNode)("div",Jf,[(0,o.createElementVNode)("div",{onClick:t[5]||(t[5]=t=>e.switchCriminalRecord("back")),class:"choose-record full-height"},[(0,o.createVNode)(i,{class:"arrow",path:"icons/ipad/apps/organizations/database-player/arrow.svg"}),(0,o.createElementVNode)("span",Qf,(0,o.toDisplayString)(e.$t("cef.ipad.org.database-player.prev-record")),1)]),(0,o.createElementVNode)("div",{onClick:t[6]||(t[6]=t=>e.switchCriminalRecord("next")),class:"choose-record full-height"},[(0,o.createElementVNode)("span",ey,(0,o.toDisplayString)(e.$t("cef.ipad.org.database-player.next-record")),1),(0,o.createVNode)(i,{class:"arrow right-direction",path:"icons/ipad/apps/organizations/database-player/arrow.svg"})])]),(0,o.createElementVNode)("div",{class:"delete-record full-height full-width row-block",onClick:t[7]||(t[7]=t=>e.removeRecord())},[(0,o.createVNode)(i,{class:"delete-record__icon",path:"icons/ipad/apps/organizations/database-player/delete.svg"}),(0,o.createElementVNode)("span",ty,(0,o.toDisplayString)(e.$t("cef.ipad.org.database-player.delete")),1)])])],64)):(0,o.createCommentVNode)("",!0)])])],2),(0,o.createVNode)(o.Transition,{name:"local-fade",appear:""},{default:(0,o.withCtx)((()=>[e.modal.show?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:"modal-window full-width full-height",onClick:t[13]||(t[13]=(0,o.withModifiers)(((...t)=>e.resetModal&&e.resetModal(...t)),["self"]))},[(0,o.createElementVNode)("div",ay,[(0,o.createElementVNode)("div",oy,(0,o.toDisplayString)(e.modalType.title),1),(0,o.createElementVNode)("div",{class:"flex-block close-block",onClick:t[8]||(t[8]=(...t)=>e.resetModal&&e.resetModal(...t))},[(0,o.createVNode)(i,{path:"icons/global/cross.svg"})]),(0,o.createElementVNode)("div",iy,["make-wanted"===e.modal.type||"lowering"===e.modal.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",ly,[(0,o.createElementVNode)("div",ny,(0,o.toDisplayString)(e.$t("cef.ipad.org.database-player.choose-wanted-level")),1),(0,o.createVNode)(s,{"item-list":e.getAvailableWantedLevels,bindTitle:"title",additionalTitle:"additional",class:(0,o.normalizeClass)(["select-panel",{selected:e.selectedWantedLevel,disabled:e.getAvailableWantedLevels.length<=0}]),onSetItem:t[9]||(t[9]=t=>e.selectedWantedLevel=t)},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.selectedWantedLevel?e.selectedWantedLevel.title:e.$t("cef.ipad.org.player.select-value")),1)])),_:1},8,["item-list","class"])])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",ry,(0,o.toDisplayString)(e.modalType.description),1),(0,o.withDirectives)((0,o.createElementVNode)("textarea",{placeholder:e.$t("cef.ipad.org.player.leave-comment"),maxlength:"220","onUpdate:modelValue":t[10]||(t[10]=t=>e.reason=t),"min-height":93/1080*e.windowHeight,class:"modal-content__input-reason"},null,8,sy),[[o.vModelText,e.reason,void 0,{trim:!0}]]),(0,o.createElementVNode)("div",cy,[(0,o.createElementVNode)("div",{onClick:t[11]||(t[11]=(...t)=>e.action&&e.action(...t)),class:"control-button"},(0,o.toDisplayString)(e.$t("cef.ipad.org.player.execute")),1),(0,o.createElementVNode)("div",{onClick:t[12]||(t[12]=(...t)=>e.resetModal&&e.resetModal(...t)),class:"control-button"},(0,o.toDisplayString)(e.$t("cef.ipad.org.player.discard")),1)])])])])):(0,o.createCommentVNode)("",!0)])),_:1})],6)}var my={name:"database-player",mixins:[Ge.Z,ca.Z,sa,Je.Z],components:{VueSelect:We.Z},data(){return{modal:{show:!1,type:null},criminalRecordPage:0,pageNumber:1,paginationDebounce:null,debounce:null,selectedWantedLevel:null,reason:null}},methods:{...(0,He.OI)({selectDatabaseVehicle:"ipad/organization/database/selectVehicle"}),...(0,He.nv)({openPage:"ipad/organization/database/openPage"}),numberFilter(e){return Intl.NumberFormat("ru-RU").format(e)},setGPS(e){("houses"!==e||this.player.houseId)&&("apartments"!==e||this.player.apartmentId)&&mp.trigger2("ipad.organization.access.setPropertyGPS",e,"houses"===e?this.player.houseId:this.player.apartmentId,e)},onInteractionClick(e){switch(e){case"history":case"arrests":case"tickets":case"criminal-record":this.openPage({path:"database-player",id:this.player.id,login:this.player.login,page:e});break;case"chasing":mp.trigger2("ipad.organization.database.trackingPlayer",this.player.login);break;case"make-wanted":this.openModal(e);break}"history"===e||"arrests"===e||"tickets"===e?this.openPage({path:"database-player",id:this.player.id,login:this.player.login,page:e}):"make-wanted"===e&&this.openModal(e)},onPageChange(){this.paginationDebounce&&this.paginationDebounce>Date.now()/1e3||!this.list||!Array.isArray(this.list)||this.list?.length<50||this.endList||(this.pageNumber++,mp.trigger2(`ipad.organization.database.get${this.page[0].toUpperCase()+this.page.slice(1)}Data`,this.pageNumber,this.sort,this.selectedFilter?this.selectedFilter.path:null,this.search),this.$store.commit("ipad/organization/database/setLoader",!0))},openModal(e){this.modal.type=e,this.modal.show=!0},resetModal(){this.modal.show=!1,this.modal.type=null,this.reason=null,this.selectedWantedLevel=null},action(){if(!this.reason||this.reason.length<2||this.reason.length>45)this.$store.commit("main/showNotify",{text:this.$t("cef.ipad.org.database-player.reason-length"),type:"error"});else{switch(this.modal.type){case"make-wanted":if(!this.selectedWantedLevel)return void this.$store.commit("main/showNotify",{text:this.$t("cef.ipad.org.database-player.select-wanted-level-error"),type:"error"});mp.trigger2("ipad.organization.database.setWanted",this.player.login,this.selectedWantedLevel.index,this.reason);break}this.resetModal()}},switchCriminalRecord(e){"back"===e?this.criminalRecordPage<=0?this.criminalRecordPage=this.criminalRecordsLog?.length-1:this.criminalRecordPage-=1:"next"===e&&(this.criminalRecordPage+1>=this.criminalRecordsLog?.length?this.criminalRecordPage=0:this.criminalRecordPage+=1)},removeRecord(){mp.trigger2("ipad.organization.database.removeRecord",this.player?.login,this.currentCriminalRecord?.id)}},computed:{...(0,He.rn)({wantedLog:e=>e.ipad.organization.database.wantedLog,arrestsLog:e=>e.ipad.organization.database.arrestsLog,ticketsLog:e=>e.ipad.organization.database.ticketsLog,criminalRecordsLog:e=>e.ipad.organization.database.criminalRecordsLog,wantedLogEndList:e=>e.ipad.organization.database.wantedLogEndList,arrestsLogEndList:e=>e.ipad.organization.database.arrestsLogEndList,ticketsLogEndList:e=>e.ipad.organization.database.ticketsLogEndList,page:e=>e.ipad.organization.database.playerPage,openedApp:e=>e.ipad.openedApp,organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],loader:e=>e.ipad.organization.database.loader,isLoading:e=>e.ipad.organization.isLoading,endList(){switch(this.page){case"history":return this.wantedLogEndList;case"arrests":return this.arrestsLogEndList;case"tickets":return this.ticketsLogEndList;default:return this.wantedLogEndList}}}),...(0,He.Se)({player:"ipad/organization/database/activePlayer"}),hasHeader(){return"criminal-record"!==this.page},currentCriminalRecord(){if("criminal-record"===this.page)return this.criminalRecordsLog[this.criminalRecordPage]},getAvailableWantedLevels(){return[{index:0,title:this.$t("cef.ipad.org.database-player.wanted-levels.0")},{index:1,title:this.$t("cef.ipad.org.database-player.wanted-levels.1")},{index:2,title:this.$t("cef.ipad.org.database-player.wanted-levels.2")},{index:3,title:this.$t("cef.ipad.org.database-player.wanted-levels.3")},{index:4,title:this.$t("cef.ipad.org.database-player.wanted-levels.4")},{index:5,title:this.$t("cef.ipad.org.database-player.wanted-levels.5")}]},headers(){switch(this.page){case"history":return[this.$t("cef.ipad.org.database-player.org-short"),this.$t("cef.ipad.org.database-player.member"),"UID",this.$t("cef.ipad.org.database-player.rank"),this.$t("cef.ipad.org.database-player.search"),this.$t("cef.ipad.org.database-player.article"),this.$t("cef.ipad.org.database-player.date")];case"arrests":return[this.$t("cef.ipad.org.database-player.org-short"),this.$t("cef.ipad.org.database-player.member"),"UID",this.$t("cef.ipad.org.database-player.rank"),this.$t("cef.ipad.org.database-player.term"),this.$t("cef.ipad.org.database-player.article"),this.$t("cef.ipad.org.database-player.pledge"),this.$t("cef.ipad.org.database-player.date")];case"tickets":return[this.$t("cef.ipad.org.database-player.org-short"),this.$t("cef.ipad.org.database-player.member"),"UID",this.$t("cef.ipad.org.database-player.rank"),this.$t("cef.ipad.org.database-player.sum"),this.$t("cef.ipad.org.database-player.reason"),this.$t("cef.ipad.org.database-player.date")]}},modalType(){if(!this.modal.show||null==this.modal.type)return{title:"",description:""};switch(this.modal.type){case"make-wanted":return{title:this.$t("cef.ipad.org.database-player.wanted-title"),description:`${this.$t("cef.ipad.org.database-player.wanted-reason")}:`}}}},created(){this.actions=[{action:"history",title:this.$t("cef.ipad.org.database-player.history")},{action:"criminal-record",title:this.$t("cef.ipad.org.database-player.criminalRecord")},{action:"tickets",title:this.$t("cef.ipad.org.database-player.tickets")},{action:"chasing",title:this.$t("cef.ipad.org.database-player.chasing")},{action:"make-wanted",title:this.$t("cef.ipad.org.database-player.make-wanted")}]}};const py=(0,et.Z)(my,[["render",dy],["__scopeId","data-v-5356cfc2"]]);var uy=py;const hy=e=>((0,o.pushScopeId)("data-v-446ed560"),e=e(),(0,o.popScopeId)(),e),gy={class:"row-block"},fy={class:"search-bar align-center row-reverse-block"},yy=["placeholder"],ky={class:"table column-block full-height"},vy={class:"container column-block full-height full-width"},by={class:"headers row-block full-width"},Ny=["onClick"],Vy={class:"title-content align-center"},wy={key:0,class:"table-loader full-width"},Ey=hy((()=>(0,o.createElementVNode)("div",{class:"loader"},null,-1))),Sy=[Ey],Cy={class:"table-row row-block align-center full-width"},_y={class:"row-item"},$y={class:"row-item"},Dy={class:"row-item"},By={class:"row-item"},xy={class:"row-item"},zy={class:"row-item"},My={class:"row-item"},Ly={class:"row-item"},Ty={class:"row-item"};function Iy(e,t){const a=(0,o.resolveComponent)("SVGComponent"),i=(0,o.resolveComponent)("vue-select"),l=(0,o.resolveComponent)("DynamicScrollerItem"),n=(0,o.resolveComponent)("DynamicScroller"),r=(0,o.resolveComponent)("modal");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"bonuses-page column-block"]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`,"--background":`${e.organizationColorSchema.backgroundColor}`,"--main-text-color":`${e.getCorrectContrastingFontColor(e.organizationColorSchema.main,"#fbfbfb","#060606")}`})},[e.isLoading?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createElementVNode)("header",gy,[(0,o.createElementVNode)("div",fy,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=t=>e.search=t),placeholder:e.$t("cef.ipad.org.bonuses.enter-value"),class:(0,o.normalizeClass)(["search-bar__input full-height full-width",{notEmpty:e.search}])},null,10,yy),[[o.vModelText,e.search,void 0,{trim:!0}]]),(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/search.svg",class:"search-bar__picture"})]),(0,o.createVNode)(i,{active:0,"item-list":e.filters,bindTitle:"title",class:(0,o.normalizeClass)(["select-menu",{selected:e.selectedFilter}]),onSetItem:t[1]||(t[1]=t=>e.setFilterType(t))},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(a,{class:"filter",path:"icons/ipad/apps/organizations/calls/filter.svg"}),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.selectedFilter?e.selectedFilter.title:e.$t("cef.ipad.org.bonuses.select-filter")),1)])),_:1},8,["item-list","class"])]),(0,o.createElementVNode)("div",ky,[(0,o.createElementVNode)("div",vy,[(0,o.createElementVNode)("div",by,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.tableHeader,((t,i)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{onClick:a=>e.sorting(t.path),class:"headers__title align-center"},[(0,o.createElementVNode)("div",Vy,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(t.title),1),(0,o.withDirectives)((0,o.createVNode)(a,{class:(0,o.normalizeClass)({selected:e.checkSortIcon()}),path:"icons/global/chevron.svg"},null,8,["class"]),[[o.vShow,e.tempSort&&e.tempSort.title.includes(t.title)]])])],8,Ny)))),256)),e.loader?((0,o.openBlock)(),(0,o.createElementBlock)("div",wy,Sy)):(0,o.createCommentVNode)("",!0)]),(0,o.createVNode)(n,{class:"table-view full-width full-height column-block",items:e.bonuses,"min-item-size":45/1080*e.windowHeight,emitUpdate:!0,ref:"bonusesLogs",onScroll:t[2]||(t[2]=t=>e.updateList("bonusesLogs","bonuses",e.onPageChange,45/1080*e.windowHeight)),"key-field":"id"},{default:(0,o.withCtx)((({item:t,index:a,active:i})=>[(0,o.createVNode)(l,{item:t,active:i,"data-index":a},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",Cy,[(0,o.createElementVNode)("div",_y,(0,o.toDisplayString)(t.fromLogin),1),(0,o.createElementVNode)("div",$y,(0,o.toDisplayString)(t.fromUid),1),(0,o.createElementVNode)("div",Dy,(0,o.toDisplayString)(t.fromRank),1),(0,o.createElementVNode)("div",By,(0,o.toDisplayString)(t.toLogin),1),(0,o.createElementVNode)("div",xy,(0,o.toDisplayString)(t.toUid),1),(0,o.createElementVNode)("div",zy,(0,o.toDisplayString)(t.toRank),1),(0,o.createElementVNode)("div",My,(0,o.toDisplayString)(e.sliceString(e.unescapeString(t.comment),35)),1),(0,o.createElementVNode)("div",Ly,(0,o.toDisplayString)(e.countMoneyToDollar(t.amount,!1,!1)),1),(0,o.createElementVNode)("div",Ty,(0,o.toDisplayString)(t.date),1)])])),_:2},1032,["item","active","data-index"])])),_:1},8,["items","min-item-size"])])]),e.modal?((0,o.openBlock)(),(0,o.createBlock)(r,{key:0,onClose:t[3]||(t[3]=t=>e.openModal(null))})):(0,o.createCommentVNode)("",!0)],64))],6)}const Fy={class:"modal-content__title align-center"},Py={class:"description row-block align-center justify-between"},Ay={class:"description__text"},Ry={class:"modal-content__subTitle"},Oy={class:"loader row-block align-center justify-start"},jy={class:"modal-content__button row-block align-center justify-start"},Zy={key:0,class:"errWarn row-block align-center justify-start"},Uy={class:"errWarn__block"},Hy={class:"errWarn__info row-block align-center justify-start"},Gy=["disabled"],qy={class:"table column-block full-height"},Wy={class:"container column-block full-height full-width"},Yy={class:"headers row-block full-width"},Ky={class:"headers__title align-center"},Xy={class:"title-content align-center"},Jy={class:"row-item"},Qy={class:"row-item"},ek={class:"row-item"},tk={class:"row-item"},ak={class:"row-item"},ok={class:"row-item"},ik={class:"row-item"},lk={class:"row-item"},nk={class:"row-block align-center justify-between"},rk={class:"control-buttons row-block justify-between"},sk=["disabled"],ck={class:"row-block align-center info"},dk={class:"row-block align-center info-payments"},mk={class:"info-payments-text"},pk={class:"info-payments-value"},uk={class:"row-block align-center info-sum"},hk={class:"info-sum-text"},gk={class:"info-sum-value"};function fk(e,t){const a=(0,o.resolveComponent)("SVGComponent"),i=(0,o.resolveComponent)("DynamicScrollerItem"),l=(0,o.resolveComponent)("DynamicScroller");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"modal full-width full-height"]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`}),onClick:t[6]||(t[6]=(0,o.withModifiers)((t=>e.$emit("close")),["self"]))},[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["modal-content column-block",{table:e.massPaymentsData}])},[(0,o.createElementVNode)("div",Fy,(0,o.toDisplayString)(e.$t("cef.ipad.org.bonuses.modal.create-mass-payment")),1),(0,o.createElementVNode)("div",{onClick:t[0]||(t[0]=t=>e.$emit("close")),class:"close-block flex-block"},[(0,o.createVNode)(a,{path:"icons/global/cross.svg"})]),(0,o.createElementVNode)("div",null,[(0,o.createElementVNode)("div",Py,[(0,o.createElementVNode)("span",Ay,(0,o.toDisplayString)(e.$t("cef.ipad.org.bonuses.modal.description")),1),(0,o.createElementVNode)("button",{class:"modal-content__button row-block align-center justify-start",onClick:t[1]||(t[1]=t=>e.downloadTemplate())},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/bonuses/copy.svg"}),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.$t("cef.ipad.org.bonuses.modal.download-template")),1)])]),(0,o.createElementVNode)("div",Ry,(0,o.toDisplayString)(e.$t("cef.ipad.org.bonuses.modal.upload-mass-payment")),1),(0,o.createElementVNode)("div",Oy,[(0,o.createElementVNode)("button",jy,[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/bonuses/file.svg"}),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.$t("cef.ipad.org.bonuses.modal.select-file"))+" ",1),(0,o.createElementVNode)("input",{type:"file",id:"file",onChange:t[2]||(t[2]=(...t)=>e.uploadFile&&e.uploadFile(...t)),ref:"fileUploader",accept:"text/txt"},null,544)]),e.getAllErrMassPayment?((0,o.openBlock)(),(0,o.createElementBlock)("div",Zy,[(0,o.createElementVNode)("div",Uy,(0,o.toDisplayString)(e.$t("cef.ipad.org.bonuses.modal.warn-error")),1),(0,o.createElementVNode)("div",Hy,(0,o.toDisplayString)(e.$t("cef.ipad.org.bonuses.modal.err-quantity"))+": "+(0,o.toDisplayString)(e.getAllErrMassPayment),1)])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("button",{class:(0,o.normalizeClass)(["modal-content__button clear row-block align-center justify-start",{disabled:e.massPaymentsData.length<=0}]),onClick:t[3]||(t[3]=(...t)=>e.clearMassPaymentsData&&e.clearMassPaymentsData(...t)),disabled:e.massPaymentsData.length<=0},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/bonuses/trash.svg"}),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.$t("cef.ipad.org.bonuses.modal.clear-list")),1)],10,Gy)]),(0,o.createElementVNode)("div",qy,[(0,o.createElementVNode)("div",Wy,[(0,o.createElementVNode)("div",Yy,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.headers,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",Ky,[(0,o.createElementVNode)("div",Xy,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e),1)])])))),256))]),(0,o.createVNode)(l,{class:"table-view full-width full-height column-block",items:e.massPaymentsData,"min-item-size":45/1080*e.windowHeight,"key-field":"id"},{default:(0,o.withCtx)((({item:t,index:a,active:l})=>[(0,o.createVNode)(i,{item:t,active:l,"data-index":a},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["table-row row-block align-center full-width",{error:t.error}])},[t.error?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:1},[(0,o.createElementVNode)("div",ik,(0,o.toDisplayString)(t.id),1),(0,o.createElementVNode)("div",lk,(0,o.toDisplayString)(e.$t(t.comment,t.args)),1)],64)):((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createElementVNode)("div",Jy,(0,o.toDisplayString)(t.id),1),(0,o.createElementVNode)("div",Qy,(0,o.toDisplayString)(t.login||"—"),1),(0,o.createElementVNode)("div",ek,(0,o.toDisplayString)(t.staticId),1),(0,o.createElementVNode)("div",tk,(0,o.toDisplayString)(t.rank||"—"),1),(0,o.createElementVNode)("div",ak,(0,o.toDisplayString)(t.comment),1),(0,o.createElementVNode)("div",ok,(0,o.toDisplayString)(e.countMoneyToDollar(t.amount,!1,!1)),1)],64))],2)])),_:2},1032,["item","active","data-index"])])),_:1},8,["items","min-item-size"])])]),(0,o.createElementVNode)("div",nk,[(0,o.createElementVNode)("div",rk,[(0,o.createElementVNode)("div",{onClick:t[4]||(t[4]=(...t)=>e.action&&e.action(...t)),disabled:e.getAllErrMassPayment||e.massPaymentsData.length<=0,class:(0,o.normalizeClass)([{disabled:e.getAllErrMassPayment||e.massPaymentsData.length<=0},"control-button"])},(0,o.toDisplayString)(e.$t("cef.ipad.org.balance.modal.execute")),11,sk),(0,o.createElementVNode)("div",{onClick:t[5]||(t[5]=t=>e.$emit("close")),class:"control-button"},(0,o.toDisplayString)(e.$t("cef.ipad.org.balance.modal.discard")),1)]),(0,o.createElementVNode)("div",ck,[(0,o.createElementVNode)("div",dk,[(0,o.createElementVNode)("span",mk,(0,o.toDisplayString)(e.$t("cef.ipad.org.bonuses.modal.payments")),1),(0,o.createElementVNode)("span",pk,(0,o.toDisplayString)(e.massPaymentsData.length-e.getAllErrMassPayment),1)]),(0,o.createElementVNode)("div",uk,[(0,o.createElementVNode)("span",hk,(0,o.toDisplayString)(e.$t("cef.ipad.org.bonuses.modal.sum")),1),(0,o.createElementVNode)("span",gk,(0,o.toDisplayString)(e.countMoneyToDollar(e.getAllSumMassPayment,!1,!1)),1)])])])])],2)],6)}var yk={name:"bonuses-modal",components:{RecycleScroller:Do.EK,VueSelect:We.Z,Money:Zi.Z},mixins:[ca.Z],beforeUnmount(){this.$store.dispatch("ipad/organization/bonuses/clearMassPaymentData")},data(){return{selectedMember:null,reason:null,amount:null,csvData:null,headers:["#",this.$t("cef.ipad.org.bonuses.modal.headers.name"),"UID",this.$t("cef.ipad.org.bonuses.modal.headers.rank"),this.$t("cef.ipad.org.bonuses.modal.headers.comment"),this.$t("cef.ipad.org.bonuses.modal.headers.sum")]}},methods:{closeModal(){this.$emit("close"),mp.trigger2("ipad.organization.bonuses.clearMassPayment")},setModal(e){qe.TB.$emit("set-bonuses-modal",e)},async uploadFile(){const e=this.$refs.fileUploader.files[0];if(e){var t=new FileReader;t.readAsText(e),t.addEventListener("load",(()=>{if(this.csvData=this.$papa.parse(t.result,{header:!0,skipEmptyLines:!0,dynamicTyping:!0}).data,this.csvData.length>100)return this.closeModal(),this.$store.commit("main/showNotify",{text:this.$t("cef.ipad.org.bonuses.modal.errors.too-many-payments"),type:"error"});if(!this.csvData||!this.csvData[0]||!this.csvData[0].staticId||!this.csvData[0].amount||!this.csvData[0].comment)return this.closeModal(),this.$store.commit("main/showNotify",{text:this.$t("cef.ipad.org.bonuses.modal.errors.wrong-fields"),type:"error"});for(const e in this.csvData){const t=this.csvData[e];if(3!==Object.keys(t).length)return this.closeModal(),this.$store.commit("main/showNotify",{text:this.$t("cef.ipad.org.bonuses.modal.errors.three-values-required"),type:"error"});if(isNaN(Number(t["staticId"]))||t["staticId"]<=0)return this.closeModal(),this.$store.commit("main/showNotify",{text:this.$t("cef.ipad.org.bonuses.modal.errors.static-be-numeric"),type:"error"});if(isNaN(Number(t["amount"]))||t["amount"]<=0)return this.closeModal(),this.$store.commit("main/showNotify",{text:this.$t("cef.ipad.org.bonuses.modal.errors.sum-be-numeric"),type:"error"});if(t["comment"].length<3||t["comment"].length>24)return this.closeModal(),this.$store.commit("main/showNotify",{text:this.$t("cef.ipad.org.bonuses.modal.errors.comment-length"),type:"error"})}mp.trigger2("ipad.organization.bonuses.getMassPaymentData","family"===this.openedApp?"families":"fractions",JSON.stringify(this.csvData)),this.$store.commit("ipad/organization/bonuses/setMassPaymentLoader",!0),this.$store.commit("ipad/organization/bonuses/setLoader",!0),this.$refs.fileUploader.value=""}),!1)}else this.closeModal()},action(){mp.trigger2("ipad.organization.bonuses.makeMassPayment","family"===this.openedApp?"families":"fractions"),this.closeModal()},downloadTemplate(){const e=document.createElement("textarea");e.value="staticId;amount;comment\n265;5000;Премия",document.body.appendChild(e),e.select(),document.execCommand("copy")?this.$store.commit("main/showNotify",{text:this.$t("cef.ipad.org.bonuses.modal.copy-success"),type:"success"}):this.$store.commit("main/showNotify",{text:this.$t("cef.ipad.org.bonuses.modal.copy-failed"),type:"error"}),document.body.removeChild(e)},clearMassPaymentsData(){this.$store.dispatch("ipad/organization/bonuses/clearMassPaymentData")}},computed:{...(0,He.rn)({organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],members:e=>e.ipad.organization.members.members.map((e=>e.login)),balance:e=>e.ipad.organization.balance.balance,openedApp:e=>e.ipad.openedApp,massPaymentsData:e=>e.ipad.organization.bonuses.massPaymentsData,massPaymentsLoader:e=>e.ipad.organization.bonuses.massPaymentsLoader,error:e=>e.ipad.organization.bonuses.error}),getAllSumMassPayment(){return this.massPaymentsData.reduce(((e,t)=>e+(!0===t.error?0:t.amount)),0)},getAllErrMassPayment(){return this.massPaymentsData.reduce(((e,t)=>e+(!0===t.error?1:0)),0)}},watch:{error(e){e&&(this.$store.commit("ipad/organization/bonuses/setError",!1),this.closeModal())}}};const kk=(0,et.Z)(yk,[["render",fk],["__scopeId","data-v-fa36a824"]]);var vk=kk,bk={name:"bonuses",mixins:[ca.Z,sa,Je.Z],components:{VueSelect:We.Z,RecycleScroller:Do.EK,Modal:vk},created(){this.filters=[{title:this.$t("cef.ipad.org.bonuses.given-by"),path:"given-by"},{title:this.$t("cef.ipad.org.bonuses.given-by-UID"),path:"given-by-uid"},{title:this.$t("cef.ipad.org.bonuses.given-by-rank"),path:"given-by-rank"},{title:this.$t("cef.ipad.org.bonuses.received"),path:"received"},{title:this.$t("cef.ipad.org.bonuses.received-UID"),path:"received-uid"},{title:this.$t("cef.ipad.org.bonuses.received-rank"),path:"received-rank"},{title:this.$t("cef.ipad.org.bonuses.comment"),path:"comment"},{title:this.$t("cef.ipad.org.bonuses.sum"),path:"sum"}]},mounted(){qe.TB.$on("set-bonuses-modal",this.openModal)},beforeUnmount(){qe.TB.$off("set-bonuses-modal",this.openModal)},data(){return{search:"",filters:[],selectedFilter:null,modal:!1,pageNumber:1,debounce:null,sort:null,paginationDebounce:null,tempSort:null}},computed:{...(0,He.rn)({bonuses:e=>e.ipad.organization.bonuses.bonuses,endList:e=>e.ipad.organization.bonuses.endList,loader:e=>e.ipad.organization.bonuses.loader,organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],openedApp:e=>e.ipad.openedApp,isLoading:e=>e.ipad.organization.isLoading}),tableHeader(){return[{title:this.$t("cef.ipad.org.bonuses.given-by"),path:"given-by"},{title:this.$t("cef.ipad.org.bonuses.given-by-UID"),path:"given-by-uid"},{title:this.$t("cef.ipad.org.bonuses.given-by-rank"),path:"given-by-rank"},{title:this.$t("cef.ipad.org.bonuses.received"),path:"received"},{title:this.$t("cef.ipad.org.bonuses.received-UID"),path:"received-uid"},{title:this.$t("cef.ipad.org.bonuses.received-rank"),path:"received-rank"},{title:this.$t("cef.ipad.org.bonuses.comment"),path:"comment"},{title:this.$t("cef.ipad.org.bonuses.sum"),path:"sum"},{title:this.$t("cef.ipad.org.bonuses.date"),path:"date"}]}},methods:{openModal(e){this.modal=e},onPageChange(){this.paginationDebounce&&this.paginationDebounce>Date.now()/1e3||this.bonuses.length&&(this.bonuses.length<50||this.endList||(this.pageNumber++,mp.trigger2("ipad.organization.bonuses.getData","family"===this.openedApp?"families":"fractions",this.pageNumber,this.sort,this.selectedFilter?this.selectedFilter.path:null,this.search),this.$store.commit("ipad/organization/bonuses/setLoader",!0)))},checkSortIcon(){if(!this.sort)return;const e=this.sort.split("-");return"desc"!==e[1]},sorting(e){switch(this.tempSort=this.tableHeader.find((t=>t.path===e)),e){case"given-by":e="from_.login";break;case"given-by-uid":e="from_.id";break;case"given-by-rank":e="fr_from.rank";break;case"received":e="to_.login";break;case"received-uid":e="to_.id";break;case"received-rank":e="fr_to.rank";break;case"comment":e="fml.comment";break;case"sum":e="fml.amount";break;case"date":e="fml.date";break}if(this.sort){const t=this.sort.split("-");e===t[0]?this.sort=`${e}-${"desc"===t[1]?"asc":"desc"}`:this.sort=`${e}-desc`}else this.sort=`${e}-desc`;this.pageNumber=1,mp.trigger2("ipad.organization.bonuses.getData","family"===this.openedApp?"families":"fractions",this.pageNumber,this.sort,null,null),this.paginationDebounce=Date.now()/1e3+1,this.$store.commit("ipad/organization/bonuses/setLoader",!0)},clearSort(){this.tempSort=null,this.sort=null},clearSearchModifiers(){this.pageNumber=1,mp.trigger2("ipad.organization.bonuses.getData","family"===this.openedApp?"families":"fractions"),this.paginationDebounce=Date.now()/1e3+1,this.$store.commit("ipad/organization/bonuses/setLoader",!0),this.clearSort()},setFilterType(e){this.selectedFilter&&this.selectedFilter.path==e.path?this.selectedFilter=null:this.selectedFilter=e,this.selectedFilter?this.search&&this.search.length&&(this.clearSort(),this.pageNumber=1,mp.trigger2("ipad.organization.bonuses.getData","family"===this.openedApp?"families":"fractions",this.pageNumber,null,this.selectedFilter.path,this.search),this.paginationDebounce=Date.now()/1e3+1,this.$store.commit("ipad/organization/bonuses/setLoader",!0)):this.search&&this.search.length&&this.clearSearchModifiers()}},watch:{search(e){clearTimeout(this.debounce),this.debounce=setTimeout((()=>{e.length&&this.selectedFilter?(this.clearSort(),this.pageNumber=1,mp.trigger2("ipad.organization.bonuses.getData","family"===this.openedApp?"families":"fractions",this.pageNumber,null,this.selectedFilter.path,e),this.paginationDebounce=Date.now()/1e3+1,this.$store.commit("ipad/organization/bonuses/setLoader",!0)):!e.length&&this.selectedFilter&&(this.selectedFilter=null,this.clearSearchModifiers())}),1e3)}}};const Nk=(0,et.Z)(bk,[["render",Iy],["__scopeId","data-v-446ed560"]]);var Vk=Nk;const wk=e=>((0,o.pushScopeId)("data-v-71bb6304"),e=e(),(0,o.popScopeId)(),e),Ek={key:"main",class:"main-page full-width full-height row-block"},Sk={class:"codes column-block full-width"},Ck={class:"row-block align-center justify-between"},_k={class:"row-block"},$k={class:"control-button flex-block"},Dk={class:"full-width full-height column-block"},Bk={class:"code full-width"},xk=["onClick"],zk={key:0,class:"chapters-list column-block"},Mk=["onClick"],Lk={key:0,class:"articles column-block full-width full-height"},Tk={class:"articles-header full-width row-block align-center justify-between"},Ik={class:"row-block align-center"},Fk={class:"code-name"},Pk={class:"flex-block arrow"},Ak={class:"chapter"},Rk={class:"row-block"},Ok={key:"new-article",class:"create-article full-width full-height"},jk={class:"create-article__title"},Zk=["placeholder"],Uk=["placeholder"],Hk=["placeholder"],Gk={class:"additional-data row-block justify-between full-width"},qk={class:"content-block column-block"},Wk=wk((()=>(0,o.createElementVNode)("span",{class:"content-block__title"},"$t('cef.ipad.org.laws.wanted-level'):",-1))),Yk=["placeholder"],Kk={class:"content-block column-block"},Xk=wk((()=>(0,o.createElementVNode)("span",{class:"content-block__title"},"$t('cef.ipad.org.laws.bail-out')",-1))),Jk=["placeholder"],Qk={class:"content-block column-block"},ev={class:"content-block__title"},tv=["placeholder"],av={class:"control-buttons row-block full-width"},ov={class:"control-button"},iv={class:"control-button"},lv={key:"articles-list",class:"articles-body column-block full-width full-height"},nv={class:"article-cover"},rv={key:"moderation",class:"moderation-page column-block full-width full-height"},sv={class:"article-cover"},cv={class:"special-data row-block"},dv={class:"data-block row-block"},mv={class:"data-block__title"},pv={class:"data-block__value"},uv={class:"data-block row-block"},hv={class:"data-block__title"},gv={class:"data-block__value"},fv={class:"moderation-buttons row-block"},yv={class:"moderation-button"},kv={class:"moderation-button"};function vv(e,t){const a=(0,o.resolveComponent)("SVGComponent"),i=(0,o.resolveComponent)("article-component"),l=(0,o.resolveComponent)("modal");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"laws full-width full-height row-block"]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`,"--background":`${e.organizationColorSchema.backgroundColor}`})},[e.isLoading?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createVNode)(o.Transition,{name:"local-fade",appear:"",mode:"out-in"},{default:(0,o.withCtx)((()=>["main"===e.lawsPage?((0,o.openBlock)(),(0,o.createElementBlock)("div",Ek,[(0,o.createElementVNode)("div",Sk,[(0,o.createElementVNode)("header",Ck,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.$t("cef.ipad.org.laws.codes")),1),(0,o.createElementVNode)("div",_k,[(0,o.createElementVNode)("div",{onClick:t[0]||(t[0]=t=>e.setModal({modal:"create-chapter"})),class:"control-button flex-block"},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/balance/create.svg"})]),(0,o.createElementVNode)("div",$k,[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/news/trash.svg"})])])]),(0,o.createElementVNode)("main",Dk,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.codes,((t,i)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",Bk,[(0,o.createElementVNode)("div",{onClick:t=>e.switchPanel("openedCodes",i),class:(0,o.normalizeClass)([{opened:e.openedCodes.includes(i)},"code-header row-block align-center justify-between"])},[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(t.title),1),(0,o.createVNode)(a,{class:"arrow",path:"icons/ipad/apps/organizations/laws/arrow.svg"})],10,xk),e.openedCodes.includes(i)?((0,o.openBlock)(),(0,o.createElementBlock)("div",zk,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(t.chapters,((t,a)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([{selected:i===e.selectedCode&&e.selectedChapter===a},"chapter align-center full-width"]),onClick:t=>e.selectChapter(i,a)},(0,o.toDisplayString)(t.title),11,Mk)))),256))])):(0,o.createCommentVNode)("",!0)])))),256))])]),e.chapter?((0,o.openBlock)(),(0,o.createElementBlock)("div",Lk,[(0,o.createElementVNode)("div",Tk,[(0,o.createElementVNode)("div",Ik,[(0,o.createElementVNode)("div",Fk,(0,o.toDisplayString)(e.codes[e.selectedCode].title),1),(0,o.createElementVNode)("div",Pk,[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/laws/arrow.svg"})]),(0,o.createElementVNode)("div",Ak,(0,o.toDisplayString)(e.chapter.title),1)]),(0,o.createElementVNode)("div",Rk,[(0,o.createElementVNode)("div",{onClick:t[1]||(t[1]=(...t)=>e.switchWritingArticleMode&&e.switchWritingArticleMode(...t)),class:"control-button"},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/balance/create.svg"})]),(0,o.createElementVNode)("div",{onClick:t[2]||(t[2]=t=>e.setModal({modal:"delete-chapter",modalData:e.chapter.title})),class:"control-button"},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/news/trash.svg"})])])]),(0,o.createVNode)(o.Transition,{name:"local-fade",appear:"",mode:"out-in"},{default:(0,o.withCtx)((()=>[e.writingArticle?((0,o.openBlock)(),(0,o.createElementBlock)("div",Ok,[(0,o.createElementVNode)("span",jk,(0,o.toDisplayString)(e.$t("cef.ipad.org.laws.article-editor")),1),(0,o.createElementVNode)("input",{type:"text",class:"create-article__input full-width",placeholder:e.$t("cef.ipad.org.laws.name")},null,8,Zk),(0,o.createElementVNode)("textarea",{class:"full-width create-article__input textarea",placeholder:e.$t("cef.ipad.org.laws.article-description")},null,8,Uk),(0,o.createElementVNode)("textarea",{class:"full-width create-article__input textarea",placeholder:e.$t("cef.ipad.org.laws.note")},null,8,Hk),(0,o.createElementVNode)("div",Gk,[(0,o.createElementVNode)("div",qk,[Wk,(0,o.createElementVNode)("input",{type:"text",class:"content-block__input",maxlength:"1",onKeypress:t[3]||(t[3]=(...t)=>e.preventForNumber&&e.preventForNumber(...t)),placeholder:e.$t("cef.ipad.org.laws.wanted-level-range"),onCut:t[4]||(t[4]=(0,o.withModifiers)((()=>{}),["prevent"])),onPaste:t[5]||(t[5]=(0,o.withModifiers)((()=>{}),["prevent"])),onCopy:t[6]||(t[6]=(0,o.withModifiers)((()=>{}),["prevent"]))},null,40,Yk)]),(0,o.createElementVNode)("div",Kk,[Xk,(0,o.createElementVNode)("input",{type:"text",class:"content-block__input",placeholder:e.$t("cef.ipad.org.laws.bail-range"),onCut:t[7]||(t[7]=(0,o.withModifiers)((()=>{}),["prevent"])),onPaste:t[8]||(t[8]=(0,o.withModifiers)((()=>{}),["prevent"])),onCopy:t[9]||(t[9]=(0,o.withModifiers)((()=>{}),["prevent"]))},null,40,Jk)]),(0,o.createElementVNode)("div",Qk,[(0,o.createElementVNode)("span",ev,(0,o.toDisplayString)(e.$t("cef.ipad.org.laws.ticket-sum")),1),(0,o.createElementVNode)("input",{type:"text",class:"content-block__input",placeholder:e.$t("cef.ipad.org.laws.bail-range"),onCut:t[10]||(t[10]=(0,o.withModifiers)((()=>{}),["prevent"])),onPaste:t[11]||(t[11]=(0,o.withModifiers)((()=>{}),["prevent"])),onCopy:t[12]||(t[12]=(0,o.withModifiers)((()=>{}),["prevent"]))},null,40,tv)])]),(0,o.createElementVNode)("div",av,[(0,o.createElementVNode)("div",ov,(0,o.toDisplayString)(e.$t("cef.ipad.org.laws.send-moderation")),1),(0,o.createElementVNode)("div",iv,(0,o.toDisplayString)(e.$t("cef.ipad.org.laws.discard")),1)])])):((0,o.openBlock)(),(0,o.createElementBlock)("div",lv,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.chapter.articles,((t,a)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",nv,[(0,o.createVNode)(i,{onSwitchPanel:t=>e.switchPanel("openedArticles",a),article:t,selected:e.openedArticles.includes(a)},null,8,["onSwitchPanel","article","selected"])])))),256))]))])),_:1})])):(0,o.createCommentVNode)("",!0)])):"moderation"===e.lawsPage?((0,o.openBlock)(),(0,o.createElementBlock)("div",rv,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.moderation,((t,a)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",sv,[(0,o.createVNode)(i,{key:"`${ article.title }-${ articleId }`",onSwitchPanel:t=>e.switchPanel("moderationOpenedArticles",a),article:t,selected:e.moderationOpenedArticles.includes(a)},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",cv,[(0,o.createElementVNode)("div",dv,[(0,o.createElementVNode)("span",mv,(0,o.toDisplayString)(e.$t("cef.ipad.org.laws.codes"))+":",1),(0,o.createElementVNode)("span",pv,(0,o.toDisplayString)(e.$t("cef.ipad.org.laws.code-name")),1)]),(0,o.createElementVNode)("div",uv,[(0,o.createElementVNode)("span",hv,(0,o.toDisplayString)(e.$t("cef.ipad.org.laws.chapter"))+":",1),(0,o.createElementVNode)("span",gv,(0,o.toDisplayString)(e.$t("cef.ipad.org.laws.chapter-name")),1)])]),(0,o.createElementVNode)("div",fv,[(0,o.createElementVNode)("div",yv,(0,o.toDisplayString)(e.$t("cef.ipad.org.laws.publish")),1),(0,o.createElementVNode)("div",kv,(0,o.toDisplayString)(e.$t("cef.ipad.org.laws.discard")),1)])])),_:2},1032,["onSwitchPanel","article","selected"])])))),256))])):(0,o.createCommentVNode)("",!0)])),_:1}),(0,o.createVNode)(o.Transition,{name:"local-fade",appear:""},{default:(0,o.withCtx)((()=>[e.modal?((0,o.openBlock)(),(0,o.createBlock)(l,{key:0,modal:e.modal,modalData:e.modalData,onSetModal:e.setModal},null,8,["modal","modalData","onSetModal"])):(0,o.createCommentVNode)("",!0)])),_:1})],64))],6)}const bv={class:"modal-header full-width align-center"},Nv={class:"modal-header__title"},Vv={class:"modal-body full-height full-width"},wv={class:"modal-body__title-bold"},Ev={class:"delete-chapter__text"},Sv={class:"highlight"},Cv={class:"modal-body__title-plain"},_v={class:"chapter-name column-block"},$v={class:"modal-body__title-plain"},Dv=["placeholder"],Bv={class:"control-buttons row-block"},xv={class:"control-button"};function zv(e,t){const a=(0,o.resolveComponent)("SVGComponent"),i=(0,o.resolveComponent)("vue-select");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{onClick:t[3]||(t[3]=(0,o.withModifiers)((t=>e.$emit("set-modal",{modal:null})),["self"])),class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"modal full-width full-height"]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`,"--background":`${e.organizationColorSchema.backgroundColor}`})},[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["modal-content column-block",e.modal])},[(0,o.createElementVNode)("div",bv,[(0,o.createElementVNode)("span",Nv,(0,o.toDisplayString)(e.modalTitle),1),(0,o.createElementVNode)("div",{onClick:t[0]||(t[0]=t=>e.$emit("set-modal",{modal:null})),class:"close-block flex-block"},[(0,o.createVNode)(a,{path:"icons/global/cross.svg"})])]),(0,o.createElementVNode)("div",Vv,["delete-chapter"===e.modal?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createElementVNode)("span",wv,(0,o.toDisplayString)(e.$t("cef.ipad.org.laws.modal.attention")),1),(0,o.createElementVNode)("div",Ev,[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("cef.ipad.org.laws.modal.chapter-deletion.0"))+" ",1),(0,o.createElementVNode)("span",Sv,(0,o.toDisplayString)(e.modalData),1),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.$t("cef.ipad.org.laws.modal.chapter-deletion.1")),1)])],64)):"create-chapter"===e.modal?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:1},[(0,o.createElementVNode)("span",Cv,(0,o.toDisplayString)(e.$t("cef.ipad.org.laws.modal.select-code")),1),(0,o.createVNode)(i,{"item-list":e.codes,class:"main-select",bindTitle:"title",onSetItem:t[1]||(t[1]=t=>e.selectedCode=t)},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.selectedCode?e.selectedCode.title:e.$t("cef.ipad.org.laws.modal.select-value")),1)])),_:1},8,["item-list"]),(0,o.createElementVNode)("div",_v,[(0,o.createElementVNode)("span",$v,(0,o.toDisplayString)(e.$t("cef.ipad.org.laws.modal.select-code")),1),(0,o.createElementVNode)("input",{type:"text",class:"chapter-name__input",placeholder:e.$t("cef.ipad.org.laws.modal.enter-value")},null,8,Dv)])],64)):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",Bv,[(0,o.createElementVNode)("div",xv,(0,o.toDisplayString)(e.$t("cef.ipad.org.laws.modal.apply")),1),(0,o.createElementVNode)("div",{onClick:t[2]||(t[2]=t=>e.$emit("set-modal",{modal:null})),class:"control-button"},(0,o.toDisplayString)(e.$t("cef.ipad.org.laws.modal.discard")),1)])])],2)],6)}var Mv={name:"laws-modal",props:["modal","modalData"],components:{VueSelect:We.Z},data(){return{selectedCode:null}},computed:{...(0,He.rn)({organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],codes:e=>e.ipad.organization.laws.laws.codes}),modalTitle(){return this.$t(`cef.ipad.org.laws.modal.${this.modal}`)}}};const Lv=(0,et.Z)(Mv,[["render",zv],["__scopeId","data-v-6af88ad2"]]);var Tv=Lv;const Iv={class:"article-header__title"},Fv={class:"row-block align-center"},Pv={class:"arrow"},Av={key:0,class:"article-body column-block"},Rv={class:"article-body__subtitle"},Ov=["innerHTML"],jv={class:"additional-info row-block align-center"},Zv={class:"priority row-block align-center"},Uv={class:"priority__title"},Hv={class:"stars"},Gv={class:"pledge row-block align-center"},qv={class:"pledge__title"},Wv={class:"pledge__value"},Yv={class:"post-data row-block justify-between full-width"},Kv={class:"row-block"},Xv={class:"post-data__title"},Jv={class:"post-data__value"},Qv={class:"post-data__text-rank"},eb={class:"post-data__text-date"};function tb(e,t,a,i,l,n){const r=(0,o.resolveComponent)("SVGComponent");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["article",{selected:a.selected}])},[(0,o.createElementVNode)("div",{onClick:t[2]||(t[2]=t=>e.$emit("switch-panel")),class:"article-header row-block justify-between align-center"},[(0,o.createElementVNode)("span",Iv,(0,o.toDisplayString)(a.article.title),1),(0,o.createElementVNode)("div",Fv,[(0,o.createElementVNode)("div",{onClick:t[0]||(t[0]=(0,o.withModifiers)((()=>{}),["stop"])),class:"control-button"},[(0,o.createVNode)(r,{path:"icons/ipad/apps/organizations/laws/edit.svg"})]),(0,o.createElementVNode)("div",{onClick:t[1]||(t[1]=(0,o.withModifiers)((()=>{}),["stop"])),class:"control-button"},[(0,o.createVNode)(r,{path:"icons/ipad/apps/organizations/news/trash.svg"})]),(0,o.createElementVNode)("div",Pv,[(0,o.createVNode)(r,{path:"icons/ipad/apps/organizations/laws/arrow.svg"})])])]),a.selected?((0,o.openBlock)(),(0,o.createElementBlock)("div",Av,[(0,o.createElementVNode)("div",Rv,(0,o.toDisplayString)(a.article.subtitle),1),(0,o.createElementVNode)("div",{class:"note",innerHTML:e.$DOMPurify.sanitize(a.article.note)},null,8,Ov),(0,o.createElementVNode)("div",jv,[(0,o.createElementVNode)("div",Zv,[(0,o.createElementVNode)("span",Uv,(0,o.toDisplayString)(e.$t("cef.ipad.laws.article.search-priority"))+":",1),(0,o.createElementVNode)("div",Hv,[((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(5,(e=>(0,o.createVNode)(r,{path:"icons/ipad/apps/organizations/laws/star.svg",class:(0,o.normalizeClass)(["star",{active:a.article.priority<=e}]),key:`${e}-star`},null,8,["class"]))),64))])]),(0,o.createElementVNode)("div",Gv,[(0,o.createElementVNode)("span",qv,(0,o.toDisplayString)(e.$t("cef.ipad.laws.article.bail-out"))+":",1),(0,o.createElementVNode)("span",Wv,(0,o.toDisplayString)(e.countMoneyToDollar(a.article.pledge,!1,!1)),1)])]),(0,o.createElementVNode)("div",Yv,[(0,o.createElementVNode)("div",Kv,[(0,o.createElementVNode)("span",Xv,(0,o.toDisplayString)(e.$t("cef.ipad.laws.article.author"))+":",1),(0,o.createElementVNode)("span",Jv,(0,o.toDisplayString)(a.article.author),1),(0,o.createElementVNode)("span",Qv,(0,o.toDisplayString)(a.article.authorRank),1)]),(0,o.createElementVNode)("span",eb,(0,o.toDisplayString)(a.article.date),1)]),(0,o.renderSlot)(e.$slots,"default")])):(0,o.createCommentVNode)("",!0)],2)}var ab={name:"article-component",props:["selected","article"]};const ob=(0,et.Z)(ab,[["render",tb]]);var ib=ob,lb={name:"laws",components:{Modal:Tv,ArticleComponent:ib},data(){return{modal:null,modalData:null,selectedCode:null,selectedChapter:null,writingArticle:!1,openedCodes:[],openedArticles:[],moderationOpenedArticles:[]}},computed:{...(0,He.rn)({organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],lawsPage:e=>e.ipad.organization.laws.page,codes:e=>e.ipad.organization.laws.laws.codes,moderation:e=>e.ipad.organization.laws.laws.moderation,isLoading:e=>e.ipad.organization.isLoading}),chapter(){return null!=this.selectedCode&&null!=this.selectedChapter?this.codes[this.selectedCode].chapters[this.selectedChapter]:null}},methods:{switchPanel(e,t){if(this[e].includes(t)){const a=this[e].indexOf(t);this[e].splice(a,1)}else this[e].push(t)},setModal({modal:e,modalData:t=null}){this.modal=e,this.modalData=t},selectChapter(e,t){this.selectedCode=e,this.selectedChapter=t,this.openedArticles=[]},switchWritingArticleMode(){this.writingArticle=!this.writingArticle}}};const nb=(0,et.Z)(lb,[["render",vv],["__scopeId","data-v-71bb6304"]]);var rb=nb;const sb=e=>((0,o.pushScopeId)("data-v-744345d8"),e=e(),(0,o.popScopeId)(),e),cb={class:"row-block"},db={class:"search-bar align-center row-reverse-block justify-end"},mb=["placeholder"],pb={class:"table column-block full-height"},ub={class:"container column-block full-height full-width"},hb={class:"headers row-block full-width"},gb=["onClick"],fb={class:"title-content align-center"},yb={key:0,class:"table-loader full-width"},kb=sb((()=>(0,o.createElementVNode)("div",{class:"loader"},null,-1))),vb=[kb],bb={class:"table-row row-block align-center full-width"},Nb={class:"row-item"},Vb={class:"row-item"},wb={class:"row-item"},Eb={class:"row-item"},Sb={class:"row-item"},Cb={class:"row-item"},_b={class:"row-item"},$b={class:"row-item"};function Db(e,t){const a=(0,o.resolveComponent)("SVGComponent"),i=(0,o.resolveComponent)("Component"),l=(0,o.resolveComponent)("vue-select"),n=(0,o.resolveComponent)("DynamicScrollerItem"),r=(0,o.resolveComponent)("DynamicScroller"),s=(0,o.resolveComponent)("modal");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"fines-page column-block"]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`,"--background":`${e.organizationColorSchema.backgroundColor}`,"--main-text-color":`${e.getCorrectContrastingFontColor(e.organizationColorSchema.main,"#fbfbfb","#060606")}`})},[e.isLoading?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createElementVNode)("header",cb,[(0,o.createElementVNode)("div",db,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=t=>e.search=t),placeholder:e.$t("cef.ipad.org.fines.enter-value"),class:(0,o.normalizeClass)(["search-bar__input full-height full-width",{notEmpty:e.search}])},null,10,mb),[[o.vModelText,e.search,void 0,{trim:!0}]]),(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/search.svg",class:"search-bar__picture"})]),(0,o.createVNode)(l,{"item-list":e.filters,bindTitle:"title",class:(0,o.normalizeClass)(["select-menu",{selected:e.selectedFilter}]),onSetItem:t[1]||(t[1]=t=>e.setFilterType(t))},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(i,{class:"filter",path:"icons/ipad/apps/organizations/calls/filter.svg"}),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.selectedFilter?e.selectedFilter.title:e.$t("cef.ipad.org.fines.select-filter")),1)])),_:1},8,["item-list","class"])]),(0,o.createElementVNode)("div",pb,[(0,o.createElementVNode)("div",ub,[(0,o.createElementVNode)("div",hb,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.finesHeaders,((t,i)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{onClick:a=>e.sorting(t.path),class:"headers__title align-center"},[(0,o.createElementVNode)("div",fb,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(t.title),1),(0,o.withDirectives)((0,o.createVNode)(a,{path:"icons/global/chevron.svg",class:(0,o.normalizeClass)({selected:e.checkSortIcon()})},null,8,["class"]),[[o.vShow,e.tempSort&&e.tempSort.title.includes(t.title)]])])],8,gb)))),256)),e.loader?((0,o.openBlock)(),(0,o.createElementBlock)("div",yb,vb)):(0,o.createCommentVNode)("",!0)]),(0,o.createVNode)(r,{class:"table-view full-width full-height column-block",items:e.fines,"min-item-size":45/1080*e.windowHeight,emitUpdate:!0,ref:"finesLogs",onScroll:t[2]||(t[2]=t=>e.updateList("finesLogs","fines",e.onPageChange,45/1080*e.windowHeight)),"key-field":"id"},{default:(0,o.withCtx)((({item:t,index:a,active:i})=>[(0,o.createVNode)(n,{item:t,active:i,"data-index":a},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",bb,[(0,o.createElementVNode)("div",Nb,(0,o.toDisplayString)(t.login),1),(0,o.createElementVNode)("div",Vb,(0,o.toDisplayString)(t.uid),1),(0,o.createElementVNode)("div",wb,(0,o.toDisplayString)(t.employeeRank),1),(0,o.createElementVNode)("div",Eb,(0,o.toDisplayString)(t.byLogin),1),(0,o.createElementVNode)("div",Sb,(0,o.toDisplayString)(t.byUid),1),(0,o.createElementVNode)("div",Cb,(0,o.toDisplayString)(e.sliceString(t.comment,30)),1),(0,o.createElementVNode)("div",_b,(0,o.toDisplayString)(e.countMoneyToDollar(t.amount,!1,!1)),1),(0,o.createElementVNode)("div",$b,(0,o.toDisplayString)(t.date),1)])])),_:2},1032,["item","active","data-index"])])),_:1},8,["items","min-item-size"])])]),e.modal?((0,o.openBlock)(),(0,o.createBlock)(s,{key:0,modal:e.modal},null,8,["modal"])):(0,o.createCommentVNode)("",!0)],64))],6)}const Bb={class:"modal-content column-block"},xb={class:"title"},zb={class:"categories row-block align-center justify-start"},Mb={class:"category__title"},Lb={class:"category__title"},Tb={key:0,class:"description-title"},Ib={class:"row-block align-center justify-between"},Fb={key:0,class:"description-title"},Pb={key:1,class:"description-title"},Ab={key:1,class:"input-block align-center full-width row-block justify-between"},Rb={class:"row-reverse-block align-center justify-start"},Ob=["placeholder"],jb={key:0,class:"player-nickname"},Zb={key:2,class:"vehicle input-block align-center full-width row-block justify-between"},Ub={class:"row-reverse-block align-center justify-start"},Hb=["placeholder"],Gb={key:0,class:"row-block align-center"},qb={class:"player-nickname"},Wb={class:"comment full-width column-block"},Yb={class:"comment__title"},Kb={class:"input-block align-center full-width row-block justify-between"},Xb=["placeholder"],Jb={class:"control-buttons full-width row-block justify-between"};function Qb(e,t){const a=(0,o.resolveComponent)("SVGComponent"),i=(0,o.resolveComponent)("search"),l=(0,o.resolveComponent)("moneySelect");return(0,o.openBlock)(),(0,o.createBlock)(o.Transition,{name:"local-fade",appear:""},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"fines-modal full-height full-width"]),onClick:t[12]||(t[12]=(0,o.withModifiers)((t=>e.setModal(null)),["self"])),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`,"--background":`${e.organizationColorSchema.backgroundColor}`})},[(0,o.createElementVNode)("div",Bb,[(0,o.createElementVNode)("span",xb,(0,o.toDisplayString)(e.$t("cef.ipad.org.fines.create-ticket")),1),(0,o.createElementVNode)("div",{onClick:t[0]||(t[0]=t=>e.setModal(null)),class:"close-block"},[(0,o.createVNode)(a,{path:"icons/global/cross.svg"})]),(0,o.createElementVNode)("div",zb,[(0,o.createElementVNode)("button",{class:(0,o.normalizeClass)(["category row-block align-center justify-start",{selected:"resident"===e.selectTypeTicket}]),onClick:t[1]||(t[1]=t=>e.switchTypeTicket("resident"))},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/player.svg",class:"category__picture"}),(0,o.createElementVNode)("span",Mb,(0,o.toDisplayString)(e.$t("cef.ipad.org.fines.players")),1)],2),(0,o.createElementVNode)("button",{class:(0,o.normalizeClass)(["category row-block align-center justify-start",{selected:"vehicles"===e.selectTypeTicket}]),onClick:t[2]||(t[2]=t=>e.switchTypeTicket("vehicles"))},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/vehicles.svg",class:"category__picture"}),(0,o.createElementVNode)("span",Lb,(0,o.toDisplayString)(e.$t("cef.ipad.org.fines.vehicles")),1)],2)]),"resident"===e.selectTypeTicket?((0,o.openBlock)(),(0,o.createElementBlock)("div",Tb,(0,o.toDisplayString)(e.$t("cef.ipad.org.fines.intruder")),1)):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",Ib,["vehicles"===e.selectTypeTicket?((0,o.openBlock)(),(0,o.createElementBlock)("div",Fb,(0,o.toDisplayString)(e.$t("cef.ipad.org.fines.car-search")),1)):(0,o.createCommentVNode)("",!0),"vehicles"===e.selectTypeTicket&&e.carNumberString?((0,o.openBlock)(),(0,o.createElementBlock)("div",Pb,(0,o.toDisplayString)(e.getCarNumberInfo(e.carNumberString).owner),1)):(0,o.createCommentVNode)("",!0)]),"resident"===e.selectTypeTicket?((0,o.openBlock)(),(0,o.createElementBlock)("div",Ab,[(0,o.createElementVNode)("div",Rb,[(0,o.withDirectives)((0,o.createElementVNode)("input",{"onUpdate:modelValue":t[3]||(t[3]=t=>e.intruderUid=t),type:"text",onKeypress:t[4]||(t[4]=(...t)=>e.preventForNumber&&e.preventForNumber(...t)),onCut:t[5]||(t[5]=(0,o.withModifiers)((()=>{}),["prevent"])),onCopy:t[6]||(t[6]=(0,o.withModifiers)((()=>{}),["prevent"])),onPaste:t[7]||(t[7]=(0,o.withModifiers)((()=>{}),["prevent"])),maxlength:"12",placeholder:e.$t("cef.ipad.org.fines.enter-UID"),class:"input-block__input resident"},null,40,Ob),[[o.vModelText,e.intruderUid]]),(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/search.svg",class:(0,o.normalizeClass)({active:e.intruderUid})},null,8,["class"])]),e.intruderUid?((0,o.openBlock)(),(0,o.createElementBlock)("span",jb,(0,o.toDisplayString)(e.getIntruderUidInfo()),1)):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0),"vehicles"===e.selectTypeTicket?((0,o.openBlock)(),(0,o.createElementBlock)("div",Zb,[(0,o.createElementVNode)("div",Ub,[(0,o.withDirectives)((0,o.createElementVNode)("input",{"onUpdate:modelValue":t[8]||(t[8]=t=>e.carNumberString=t),type:"text",maxlength:"8",placeholder:e.$t("cef.ipad.org.fines.vehicle-number"),class:"input-block__input"},null,8,Hb),[[o.vModelText,e.carNumberString]]),(0,o.createVNode)(i,{class:(0,o.normalizeClass)({active:e.carNumberString})},null,8,["class"])]),e.carNumberString?((0,o.openBlock)(),(0,o.createElementBlock)("div",Gb,[(0,o.createElementVNode)("span",qb,(0,o.toDisplayString)(e.getCarNumberInfo(e.carNumberString).car),1)])):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",Wb,[(0,o.createElementVNode)("span",Yb,(0,o.toDisplayString)(e.$t("cef.ipad.org.fines.comment")),1),(0,o.createElementVNode)("div",Kb,[(0,o.withDirectives)((0,o.createElementVNode)("textarea",{class:"comment__input",placeholder:e.$t("cef.createTicket.comment"),"onUpdate:modelValue":t[9]||(t[9]=t=>e.comment=t)},null,8,Xb),[[o.vModelText,e.comment]])])]),(0,o.createVNode)(l,{class:"fine",slider:e.ticketSlider,getValue:e.sum,placeholder:e.$t("cef.ipad.org.fines.enter-value"),"onUpdate:modelValue":e.updateSum},null,8,["slider","getValue","placeholder","onUpdate:modelValue"]),(0,o.createElementVNode)("div",Jb,[(0,o.createElementVNode)("div",{onClick:t[10]||(t[10]=t=>e.apply()),class:"control-button"},(0,o.toDisplayString)(e.$t("cef.ipad.org.fines.execute")),1),(0,o.createElementVNode)("div",{onClick:t[11]||(t[11]=t=>e.setModal(null)),class:"control-button"},(0,o.toDisplayString)(e.$t("cef.ipad.org.fines.discard")),1)])])],6)])),_:1})}var eN={name:"fines-modal",props:["modal"],components:{VueSelect:We.Z,moneySelect:Up.Z},data(){return{intruderUid:null,carNumberString:"",carNumberSearching:!1,comment:"",sum:null,selectTypeTicket:"resident",searchTimeOut:null,ticketSlider:{min:0,max:1e6}}},methods:{setModal(e){qe.TB.$emit("set-fines-modal",e)},switchTypeTicket(e){this.selectTypeTicket=e},getCarNumberInfo(){return this.isLoading||this.carNumberSearching?{owner:this.$t("cef.ipad.org.fines.search"),car:this.$t("cef.ipad.org.fines.search")}:this.carNumberInfo?{owner:this.carNumberInfo.owner,car:this.carNumberInfo.car}:{owner:this.$t("cef.order.not-found"),car:this.$t("cef.order.not-found")}},searchCarByNumber(e){clearTimeout(this.searchTimeOut),this.carNumberSearching=!!e,this.searchTimeOut=setTimeout((()=>{mp.trigger2("ipad.organization.fines.searchCarNumber",e),this.$store.commit("ipad/organization/fines/setLoader",!0),this.carNumberSearching=!1}),1e3)},getIntruderUidInfo(){return this.isLoading||this.carNumberSearching?this.$t("cef.ipad.org.fines.search"):this.intruderUidInfo?this.intruderUidInfo.login:this.$t("cef.order.not-found")},searchIntruderByUid(e){clearTimeout(this.searchTimeOut),this.carNumberSearching=!!e,this.searchTimeOut=setTimeout((()=>{mp.trigger2("ipad.organization.fines.searchIntruderUid",e),this.$store.commit("ipad/organization/fines/setLoader",!0),this.carNumberSearching=!1}),1e3)},updateSum(e){this.sum=e},apply(){if(!this.comment||this.comment.length<3||this.comment.length>20)this.$store.commit("main/showNotify",{text:this.$t("cef.ipad.org.fines.comment-length"),type:"error"});else if(!this.sum||this.sum<=0||this.sum>this.ticketSlider.max)this.$store.commit("main/showNotify",{text:this.$t("cef.ipad.org.fines.wrong-sum")+this.$n(this.ticketSlider.max,"any-number")+"$!",type:"error"});else{if("vehicles"===this.selectTypeTicket){if(!this.carNumberInfo||!this.carNumberInfo.number)return void this.$store.commit("main/showNotify",{text:this.$t("cef.ipad.org.fines.not-found-car"),type:"error"});mp.trigger2("ipad.organization.fines.makeTicketCar",JSON.stringify({carNumber:this.carNumberInfo.number,comment:this.comment,sum:this.sum}))}else if("resident"===this.selectTypeTicket){if(!this.intruderUidInfo||!this.intruderUidInfo.uid)return void this.$store.commit("main/showNotify",{text:this.$t("cef.ipad.org.fines.not-found-intruder"),type:"error"});mp.trigger2("ipad.organization.fines.makeTicketResident",JSON.stringify({intruderUid:this.intruderUidInfo.uid,comment:this.comment,sum:this.sum}))}this.setModal(null)}}},computed:(0,He.rn)({isLoading:e=>e.ipad.organization.fines.loader,organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],intruderUidInfo:e=>e.ipad.organization.fines.intruderUidInfo,carNumberInfo:e=>e.ipad.organization.fines.carNumberInfo}),watch:{selectTypeTicket(){this.intruderUid=null,this.carNumberString="",this.comment="",this.sum=null},carNumberString(e,t){e!=t&&this.searchCarByNumber(e)},intruderUid(e,t){e!=t&&this.searchIntruderByUid(e)}}};const tN=(0,et.Z)(eN,[["render",Qb],["__scopeId","data-v-096ff1c4"]]);var aN=tN,oN={name:"fines",mixins:[ca.Z,sa,Je.Z],components:{VueSelect:We.Z,Modal:aN},created(){this.filters=[{title:this.$t("cef.ipad.org.fines.member"),path:"member"},{title:this.$t("cef.ipad.org.fines.member-uid"),path:"member-uid"},{title:this.$t("cef.ipad.org.fines.member-rank"),path:"member-rank"},{title:this.$t("cef.ipad.org.fines.intruder"),path:"intruder"},{title:this.$t("cef.ipad.org.fines.intruder-uid"),path:"intruder-uid"},{title:this.$t("cef.ipad.org.fines.article"),path:"article"},{title:this.$t("cef.ipad.org.fines.sum"),path:"sum"}],this.finesHeaders=[{title:this.$t("cef.ipad.org.fines.member"),path:"member"},{title:this.$t("cef.ipad.org.fines.member-uid"),path:"member-uid"},{title:this.$t("cef.ipad.org.fines.member-rank"),path:"member-rank"},{title:this.$t("cef.ipad.org.fines.intruder"),path:"intruder"},{title:this.$t("cef.ipad.org.fines.intruder-uid"),path:"intruder-uid"},{title:this.$t("cef.ipad.org.fines.article"),path:"article"},{title:this.$t("cef.ipad.org.fines.sum"),path:"sum"},{title:this.$t("cef.ipad.org.fines.date"),path:"date"}]},mounted(){qe.TB.$on("set-fines-modal",this.setModal)},beforeUnmount(){qe.TB.$off("set-fines-modal",this.setModal)},data(){return{search:"",filters:[],selectedFilter:null,modal:null,finesHeaders:[],pageNumber:1,debounce:null,sort:null,tempSort:null,paginationDebounce:null}},computed:{...(0,He.rn)({organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],fines:e=>e.ipad.organization.fines.fines,loader:e=>e.ipad.organization.fines.loader,endList:e=>e.ipad.organization.fines.endList,openedApp:e=>e.ipad.openedApp,isLoading:e=>e.ipad.organization.isLoading})},methods:{setModal(e){this.modal=e},onPageChange(){this.paginationDebounce&&this.paginationDebounce>Date.now()/1e3||this.fines.length&&(this.fines.length<50||this.endList||(this.pageNumber++,mp.trigger2("ipad.organization.fines.getData","family"===this.openedApp?"families":"fractions",this.pageNumber,this.sort,this.selectedFilter?this.selectedFilter.path:null,this.search),this.$store.commit("ipad/organization/fines/setLoader",!0)))},checkSortIcon(){if(!this.sort)return;const e=this.sort.split("-");return"desc"!==e[1]},sorting(e){switch(this.tempSort=this.finesHeaders.find((t=>t.path===e)),e){case"member":e="a2.login";break;case"member-uid":e="a2.id";break;case"member-rank":e="fr2.rank";break;case"intruder":e="a.login";break;case"intruder-uid":e="a.id";break;case"article":e="t.comment";break;case"sum":e="t.amount";break;case"date":e="t.date";break}if(this.sort){const t=this.sort.split("-");e===t[0]?this.sort=`${e}-${"desc"===t[1]?"asc":"desc"}`:this.sort=`${e}-desc`}else this.sort=`${e}-desc`;this.pageNumber=1,mp.trigger2("ipad.organization.fines.getData","family"===this.openedApp?"families":"fractions",this.pageNumber,this.sort,null,null),this.paginationDebounce=Date.now()/1e3+1,this.$store.commit("ipad/organization/fines/setLoader",!0)},clearSort(){this.tempSort=null,this.sort=null},clearSearchModifiers(){this.pageNumber=1,mp.trigger2("ipad.organization.fines.getData","family"===this.openedApp?"families":"fractions"),this.paginationDebounce=Date.now()/1e3+1,this.$store.commit("ipad/organization/fines/setLoader",!0),this.clearSort()},setFilterType(e){this.selectedFilter&&this.selectedFilter.path==e.path?this.selectedFilter=null:this.selectedFilter=e,this.selectedFilter?this.search&&this.search.length&&(this.clearSort(),this.pageNumber=1,mp.trigger2("ipad.organization.fines.getData","family"===this.openedApp?"families":"fractions",this.pageNumber,null,this.selectedFilter.path,this.search),this.paginationDebounce=Date.now()/1e3+1,this.$store.commit("ipad/organization/fines/setLoader",!0)):this.search&&this.search.length&&this.clearSearchModifiers()}},watch:{search(e){clearTimeout(this.debounce),this.debounce=setTimeout((()=>{e.length&&this.selectedFilter?(this.clearSort(),this.pageNumber=1,mp.trigger2("ipad.organization.fines.getData","family"===this.openedApp?"families":"fractions",this.pageNumber,null,this.selectedFilter.path,e),this.paginationDebounce=Date.now()/1e3+1,this.$store.commit("ipad/organization/fines/setLoader",!0)):!e.length&&this.selectedFilter&&(this.selectedFilter=null,this.clearSearchModifiers())}),1e3)}}};const iN=(0,et.Z)(oN,[["render",Db],["__scopeId","data-v-744345d8"]]);var lN=iN;const nN=e=>((0,o.pushScopeId)("data-v-38989ca4"),e=e(),(0,o.popScopeId)(),e),rN={key:"calls",class:"calls full-width full-height row-block"},sN=["onClick"],cN={class:"calls-item__title"},dN={class:"data-container column-block"},mN={class:"data-block row-block"},pN={class:"data-block__title"},uN={class:"data-block__value"},hN={class:"row-block"},gN={class:"data-block row-block"},fN={class:"data-block__title"},yN={class:"data-block__value"},kN={class:"data-block row-block"},vN={class:"data-block__title"},bN={class:"data-block__value"},NN={class:"members-info column-block"},VN={class:"row-block align-center"},wN={class:"row-block"},EN={class:"members-info__text-value"},SN={class:"members-info__text-max"},CN={class:"arrived-members row-block align-center"},_N={class:"row-block"},$N={class:"members-info__text-value"},DN={class:"members-info__text-max"},BN={class:"time row-block align-center"},xN={class:"time__title"},zN={class:"history full-width full-height",key:"history"},MN={class:"row-block"},LN={class:"search-bar align-center row-block"},TN=["placeholder"],IN={class:"table column-block full-height"},FN={class:"container column-block full-height full-width"},PN={class:"headers row-block full-width"},AN={class:"headers__title align-center"},RN={class:"title-content align-center"},ON=nN((()=>(0,o.createElementVNode)("div",{class:"table-loader full-width"},[(0,o.createElementVNode)("div",{class:"loader"})],-1))),jN={class:"table-row row-block align-center full-width"},ZN={class:"row-item"},UN={class:"row-item"},HN={class:"row-item"},GN={class:"row-item"},qN={class:"row-item"},WN={class:"row-item"},YN={class:"row-item"},KN={class:"row-item"},XN={key:"codes",class:"codes full-width full-height row-block"},JN={class:"create-code__title"},QN={class:"codes-item"},eV={class:"codes-item__title"},tV={class:"code-data column-block"},aV={class:"data-block row-block align-center"},oV={class:"data-block__title"},iV={class:"data-block row-block align-center"},lV={class:"data-block__title"},nV={class:"data-block__text"},rV={class:"data-block row-block align-center"},sV={class:"data-block__title"},cV={class:"data-block__text"},dV={class:"control-panel column-block"},mV=["onClick"],pV={class:"control-icon"};function uV(e,t){const a=(0,o.resolveComponent)("SVGComponent"),i=(0,o.resolveComponent)("vue-select"),l=(0,o.resolveComponent)("RecycleScroller"),n=(0,o.resolveComponent)("modal");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"dispatcher-page full-width full-height"]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`,"--background":`${e.organizationColorSchema.backgroundColor}`})},[e.isLoading?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createVNode)(o.Transition,{name:"local-fade",appear:"",mode:"out-in"},{default:(0,o.withCtx)((()=>["calls"===e.dispatcherPage?((0,o.openBlock)(),(0,o.createElementBlock)("div",rN,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.dispatcher,((t,i)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{onClick:t=>e.setCallModal(i),class:"calls-item column-block"},[(0,o.createElementVNode)("div",cN,(0,o.toDisplayString)(t.title),1),(0,o.createElementVNode)("div",dN,[(0,o.createElementVNode)("div",mN,[(0,o.createElementVNode)("span",pN,(0,o.toDisplayString)(e.$t("cef.ipad.org.dispatcher.author"))+": ",1),(0,o.createElementVNode)("span",uN,(0,o.toDisplayString)(t.author),1)]),(0,o.createElementVNode)("div",hN,[(0,o.createElementVNode)("div",gN,[(0,o.createElementVNode)("span",fN,(0,o.toDisplayString)(e.$t("cef.ipad.org.dispatcher.type"))+": ",1),(0,o.createElementVNode)("span",yN,(0,o.toDisplayString)(t.type),1)])]),(0,o.createElementVNode)("div",kN,[(0,o.createElementVNode)("span",vN,(0,o.toDisplayString)(e.$t("cef.ipad.org.dispatcher.goal"))+": ",1),(0,o.createElementVNode)("span",bN,(0,o.toDisplayString)(t.designation),1)])]),(0,o.createElementVNode)("div",NN,[(0,o.createElementVNode)("div",VN,[(0,o.createElementVNode)("div",wN,[(0,o.createElementVNode)("span",EN,(0,o.toDisplayString)(t.arrived)+" ",1),(0,o.createElementVNode)("span",SN,"/ "+(0,o.toDisplayString)(t.arrivedMax),1)]),(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/dispatcher/marker.svg",class:"members-info__picture"})]),(0,o.createElementVNode)("div",CN,[(0,o.createElementVNode)("div",_N,[(0,o.createElementVNode)("span",$N,(0,o.toDisplayString)(t.arrived)+" ",1),(0,o.createElementVNode)("span",DN,"/ "+(0,o.toDisplayString)(t.arrivedMax),1)]),(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/financing/members.svg",class:"members-info__picture"})])]),(0,o.createElementVNode)("div",BN,[(0,o.createElementVNode)("span",xN,(0,o.toDisplayString)(e.timers[i].title),1),(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/dispatcher/timer.svg",class:"time__picture"})]),(0,o.createElementVNode)("div",{class:"line full-width",style:(0,o.normalizeStyle)({"background-color":`rgba(${e.hexToRgb(t.color).r}, ${e.hexToRgb(t.color).g}, ${e.hexToRgb(t.color).b}, 0.2)`})},[(0,o.createElementVNode)("div",{style:(0,o.normalizeStyle)({width:`${e.timers[i].progress}%`,"background-color":t.color}),class:"value"},null,4)],4)],8,sN)))),256))])):"history"===e.dispatcherPage?((0,o.openBlock)(),(0,o.createElementBlock)("div",zN,[(0,o.createElementVNode)("header",MN,[(0,o.createElementVNode)("div",LN,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=t=>e.search=t),placeholder:e.$t("cef.ipad.org.dispatcher.enter-login"),class:"search-bar__input full-height full-width"},null,8,TN),[[o.vModelText,e.search,void 0,{trim:!0}]]),(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/search.svg",class:"search-bar__picture"})]),(0,o.createVNode)(i,{"item-list":e.filters,class:"select-menu",onSetItem:t[1]||(t[1]=t=>e.selectedFilter=t)},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.selectedFilter||e.$t("cef.ipad.org.dispatcher.select-filter")),1)])),_:1},8,["item-list"])]),(0,o.createElementVNode)("div",IN,[(0,o.createElementVNode)("div",FN,[(0,o.createElementVNode)("div",PN,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.headers,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",AN,[(0,o.createElementVNode)("div",RN,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e),1),(0,o.createVNode)(a,{class:(0,o.normalizeClass)({selected:!1}),path:"icons/global/arrow.svg"})])])))),256)),ON]),(0,o.createVNode)(l,{class:"table-view full-width full-height column-block",items:e.historyFiltered,"item-size":47/1080*e.windowHeight,emitUpdate:!0,onUpdate:e.updateList,"key-field":"id"},{default:(0,o.withCtx)((({item:e,index:t})=>[(0,o.createElementVNode)("div",jN,[(0,o.createElementVNode)("div",ZN,(0,o.toDisplayString)(e.type),1),(0,o.createElementVNode)("div",UN,(0,o.toDisplayString)(e.author),1),(0,o.createElementVNode)("div",HN,(0,o.toDisplayString)(e.callName),1),(0,o.createElementVNode)("div",GN,(0,o.toDisplayString)(e.acceptedBy),1),(0,o.createElementVNode)("div",qN,(0,o.toDisplayString)(e.acceptedByOrg),1),(0,o.createElementVNode)("div",WN,(0,o.toDisplayString)(e.acceptedByRank),1),(0,o.createElementVNode)("div",YN,(0,o.toDisplayString)(e.status),1),(0,o.createElementVNode)("div",KN,(0,o.toDisplayString)(e.date),1)])])),_:1},8,["items","item-size","onUpdate"])])])])):"codes"===e.dispatcherPage?((0,o.openBlock)(),(0,o.createElementBlock)("div",XN,[(0,o.createElementVNode)("div",{onClick:t[2]||(t[2]=t=>e.setCodeModal(null)),class:"create-code codes-item column-block"},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/balance/create.svg",class:"create-code__picture"}),(0,o.createElementVNode)("span",JN,(0,o.toDisplayString)(e.$t("cef.ipad.org.dispatcher.create-code")),1)]),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.codes,(t=>((0,o.openBlock)(),(0,o.createElementBlock)("div",QN,[(0,o.createElementVNode)("span",eV,(0,o.toDisplayString)(t.title),1),(0,o.createElementVNode)("div",tV,[(0,o.createElementVNode)("div",aV,[(0,o.createElementVNode)("span",oV,(0,o.toDisplayString)(e.$t("cef.ipad.org.dispatcher.color"))+":",1),(0,o.createElementVNode)("div",{style:(0,o.normalizeStyle)({"background-color":`${t.color}`}),class:"code-color"},null,4)]),(0,o.createElementVNode)("div",iV,[(0,o.createElementVNode)("span",lV,(0,o.toDisplayString)(e.$t("cef.ipad.org.dispatcher.time"))+":",1),(0,o.createElementVNode)("span",nV,(0,o.toDisplayString)(t.time),1),(0,o.createVNode)(a,{class:"data-block__picture",path:"icons/ipad/apps/organizations/dispatcher/timer.svg"})]),(0,o.createElementVNode)("div",rV,[(0,o.createElementVNode)("span",sV,(0,o.toDisplayString)(e.$t("cef.ipad.org.dispatcher.members-amount"))+":",1),(0,o.createElementVNode)("span",cV,(0,o.toDisplayString)(t.members),1),(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/financing/members.svg",class:"data-block__picture"})])]),(0,o.createElementVNode)("div",dV,[(0,o.createElementVNode)("div",{onClick:a=>e.setCodeModal(t),class:"control-icon"},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/dispatcher/edit.svg"})],8,mV),(0,o.createElementVNode)("div",pV,[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/dispatcher/delete.svg"})])])])))),256))])):(0,o.createCommentVNode)("",!0)])),_:1}),e.modal?((0,o.openBlock)(),(0,o.createBlock)(n,{key:0,modal:e.modal,modalData:e.modalData,timer:e.timers[e.selectedCallId],onSetDispatcherModal:e.setModal},null,8,["modal","modalData","timer","onSetDispatcherModal"])):(0,o.createCommentVNode)("",!0)],64))],6)}const hV={class:"modal-content"},gV={class:"align-center"},fV={class:"full-width full-height"},yV={class:"column-block"},kV={class:"content-title"},vV={class:"comment full-width column-block"},bV={class:"comment__title"},NV=["placeholder"],VV={class:"control-buttons row-block"},wV={class:"control-button"},EV={key:1,class:"call-data column-block"},SV={class:"content-title"},CV={class:"main-data column-block"},_V={class:"data-block row-block"},$V={class:"call-data__title"},DV={class:"call-data__value"},BV={class:"data-block row-block"},xV={class:"row-block"},zV={class:"call-data__title"},MV={class:"call-data__value"},LV={class:"designation row-block"},TV={class:"call-data__title"},IV={class:"call-data__value"},FV={class:"data-block row-block"},PV={class:"call-data__title"},AV={class:"call-data__value"},RV={class:"members data-block row-block align-center"},OV={class:"call-data__title"},jV={class:"call-data__value-highlight"},ZV={class:"call-data__value"},UV={class:"members data-block row-block align-center"},HV={class:"call-data__title"},GV={class:"call-data__value-highlight"},qV={class:"call-data__value"},WV={class:"data-block row-block align-center"},YV={class:"call-data__title"},KV={class:"call-data__value-highlight"},XV={class:"content-title"},JV={class:"comment"},QV={class:"control-buttons row-block"},ew={class:"control-button"},tw={class:"code-block column-block"},aw={class:"content-title"},ow=["placeholder"],iw={class:"code-block column-block"},lw={class:"content-title"},nw=["placeholder"],rw={class:"code-block column-block"},sw={class:"content-title"},cw=["placeholder"],dw={class:"code-block column-block"},mw={class:"content-title"},pw={class:"code-block column-block"},uw={class:"content-title"},hw=["placeholder"],gw={class:"control-buttons row-block"},fw={class:"control-button"};function yw(e,t){const a=(0,o.resolveComponent)("SVGComponent"),i=(0,o.resolveComponent)("vue-select");return(0,o.openBlock)(),(0,o.createBlock)(o.Transition,{name:"local-fade",appear:""},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)([[e.organizationColorSchema.theme,e.modal],"modal full-width full-height"]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`,"--background":`${e.organizationColorSchema.backgroundColor}`}),onClick:t[18]||(t[18]=(0,o.withModifiers)((t=>e.$emit("set-dispatcher-modal",null)),["self"]))},[(0,o.createElementVNode)("div",hV,[(0,o.createElementVNode)("header",gV,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.getTitle),1),(0,o.createElementVNode)("div",{onClick:t[0]||(t[0]=t=>e.$emit("set-dispatcher-modal",null)),class:"close-block"},[(0,o.createVNode)(a,{path:"icons/global/cross.svg"})])]),(0,o.createElementVNode)("main",fV,["create-call"===e.modal?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createElementVNode)("div",yV,[(0,o.createElementVNode)("div",kV,(0,o.toDisplayString)(e.$t("cef.ipad.org.dispatcher.modal.choose-call")),1),(0,o.createVNode)(i,{"item-list":e.dispatcherList,class:"main-select",onSetItem:t[1]||(t[1]=t=>e.selectedMission=t)},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.selectedMission||e.$t("cef.ipad.org.dispatcher.modal.select-quest")),1)])),_:1},8,["item-list"])]),(0,o.createElementVNode)("div",vV,[(0,o.createElementVNode)("span",bV,(0,o.toDisplayString)(e.$t("cef.ipad.org.dispatcher.modal.comment"))+":",1),(0,o.createElementVNode)("textarea",{class:"comment__input full-width",placeholder:e.$t("cef.ipad.org.dispatcher.modal.leave-comment")},null,8,NV)]),(0,o.createElementVNode)("div",VV,[(0,o.createElementVNode)("div",wV,(0,o.toDisplayString)(e.$t("cef.ipad.org.dispatcher.modal.execute")),1),(0,o.createElementVNode)("div",{onClick:t[2]||(t[2]=t=>e.$emit("set-dispatcher-modal",null)),class:"control-button"},(0,o.toDisplayString)(e.$t("cef.ipad.org.dispatcher.modal.discard")),1)])],64)):"call"===e.modal?((0,o.openBlock)(),(0,o.createElementBlock)("div",EV,[(0,o.createElementVNode)("span",SV,(0,o.toDisplayString)(e.$t("cef.ipad.org.dispatcher.modal.total-info"))+":",1),(0,o.createElementVNode)("div",CV,[(0,o.createElementVNode)("div",_V,[(0,o.createElementVNode)("span",$V,(0,o.toDisplayString)(e.$t("cef.ipad.org.dispatcher.modal.author"))+":",1),(0,o.createElementVNode)("span",DV,(0,o.toDisplayString)(e.modalData.author),1)]),(0,o.createElementVNode)("div",BV,[(0,o.createElementVNode)("div",xV,[(0,o.createElementVNode)("span",zV,(0,o.toDisplayString)(e.$t("cef.ipad.org.dispatcher.modal.type"))+":",1),(0,o.createElementVNode)("span",MV,(0,o.toDisplayString)(e.modalData.type),1),(0,o.createElementVNode)("span",{style:(0,o.normalizeStyle)({"background-color":e.modalData.special.background,color:e.modalData.special.color}),class:"call-data__text-special"},(0,o.toDisplayString)(e.modalData.special.title),5)]),(0,o.createElementVNode)("div",LV,[(0,o.createElementVNode)("span",TV,(0,o.toDisplayString)(e.$t("cef.ipad.org.dispatcher.modal.goal"))+":",1),(0,o.createElementVNode)("span",IV,(0,o.toDisplayString)(e.modalData.designation),1)])]),(0,o.createElementVNode)("div",FV,[(0,o.createElementVNode)("span",PV,(0,o.toDisplayString)(e.$t("cef.ipad.org.dispatcher.modal.address"))+":",1),(0,o.createElementVNode)("span",AV,(0,o.toDisplayString)(e.modalData.address),1)]),(0,o.createElementVNode)("div",RV,[(0,o.createElementVNode)("span",OV,(0,o.toDisplayString)(e.$t("cef.ipad.org.dispatcher.modal.active-members"))+":",1),(0,o.createElementVNode)("span",jV,(0,o.toDisplayString)(e.modalData.members),1),(0,o.createElementVNode)("span",ZV,"/ "+(0,o.toDisplayString)(e.modalData.maxMembers),1),(0,o.createVNode)(a,{class:"call-data__picture",path:"icons/ipad/apps/organizations/dispatcher/marker.svg"})]),(0,o.createElementVNode)("div",UV,[(0,o.createElementVNode)("span",HV,(0,o.toDisplayString)(e.$t("cef.ipad.org.dispatcher.modal.accept-call"))+":",1),(0,o.createElementVNode)("span",GV,(0,o.toDisplayString)(e.modalData.members),1),(0,o.createElementVNode)("span",qV,"/ "+(0,o.toDisplayString)(e.modalData.maxMembers),1),(0,o.createVNode)(a,{class:"call-data__picture",path:"icons/ipad/apps/organizations/financing/members.svg"})]),(0,o.createElementVNode)("div",WV,[(0,o.createElementVNode)("span",YV,(0,o.toDisplayString)(e.$t("cef.ipad.org.dispatcher.modal.time-left"))+":",1),(0,o.createElementVNode)("span",KV,(0,o.toDisplayString)(e.timer.title),1),(0,o.createVNode)(a,{class:"call-data__picture",path:"icons/ipad/apps/organizations/dispatcher/timer.svg"})])]),(0,o.createElementVNode)("span",XV,(0,o.toDisplayString)(e.$t("cef.ipad.org.dispatcher.modal.call-comment"))+":",1),(0,o.createElementVNode)("span",JV,(0,o.toDisplayString)(e.modalData.comment),1),(0,o.createElementVNode)("div",QV,[(0,o.createElementVNode)("div",ew,(0,o.toDisplayString)(e.$t("cef.ipad.org.dispatcher.modal.execute")),1),(0,o.createElementVNode)("div",{onClick:t[3]||(t[3]=t=>e.$emit("set-dispatcher-modal",null)),class:"control-button"},(0,o.toDisplayString)(e.$t("cef.ipad.org.dispatcher.modal.discard")),1)])])):"code"===e.modal?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:2},[(0,o.createElementVNode)("div",tw,[(0,o.createElementVNode)("span",aw,(0,o.toDisplayString)(e.$t("cef.ipad.org.dispatcher.modal.code-name"))+":",1),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=t=>e.code.title=t),placeholder:e.$t("cef.ipad.org.dispatcher.modal.enter-value"),class:"code-block__input"},null,8,ow),[[o.vModelText,e.code.title]])]),(0,o.createElementVNode)("div",iw,[(0,o.createElementVNode)("span",lw,(0,o.toDisplayString)(e.$t("cef.ipad.org.dispatcher.modal.max-members"))+":",1),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",placeholder:e.$t("cef.ipad.org.dispatcher.modal.enter-value"),"onUpdate:modelValue":t[5]||(t[5]=t=>e.code.maxMembers=t),class:"code-block__input",onKeypress:t[6]||(t[6]=(...t)=>e.preventForNumber&&e.preventForNumber(...t)),onPaste:t[7]||(t[7]=(0,o.withModifiers)((()=>{}),["prevent"])),onCut:t[8]||(t[8]=(0,o.withModifiers)((()=>{}),["prevent"])),onCopy:t[9]||(t[9]=(0,o.withModifiers)((()=>{}),["prevent"]))},null,40,nw),[[o.vModelText,e.code.maxMembers]])]),(0,o.createElementVNode)("div",rw,[(0,o.createElementVNode)("span",sw,(0,o.toDisplayString)(e.$t("cef.ipad.org.dispatcher.modal.call-duration"))+":",1),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",placeholder:e.$t("cef.ipad.org.dispatcher.modal.enter-value"),"onUpdate:modelValue":t[10]||(t[10]=t=>e.code.time=t),class:"code-block__input",onKeypress:t[11]||(t[11]=(...t)=>e.preventForNumber&&e.preventForNumber(...t)),onPaste:t[12]||(t[12]=(0,o.withModifiers)((()=>{}),["prevent"])),onCut:t[13]||(t[13]=(0,o.withModifiers)((()=>{}),["prevent"])),onCopy:t[14]||(t[14]=(0,o.withModifiers)((()=>{}),["prevent"]))},null,40,cw),[[o.vModelText,e.code.time]])]),(0,o.createElementVNode)("div",dw,[(0,o.createElementVNode)("span",mw,(0,o.toDisplayString)(e.$t("cef.ipad.org.dispatcher.modal.call-color"))+" (HEX):",1),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[15]||(t[15]=t=>e.code.color=t),placeholder:"#000",class:"code-block__input"},null,512),[[o.vModelText,e.code.color]])]),(0,o.createElementVNode)("div",pw,[(0,o.createElementVNode)("span",uw,"Mark "+(0,o.toDisplayString)(e.$t("cef.ipad.org.dispatcher.modal.command"))+":",1),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[16]||(t[16]=t=>e.code.mark=t),placeholder:`${e.$t("cef.ipad.org.dispatcher.modal.command-example")} /mark 0`,class:"code-block__input"},null,8,hw),[[o.vModelText,e.code.mark]])]),(0,o.createElementVNode)("div",gw,[(0,o.createElementVNode)("div",fw,(0,o.toDisplayString)(e.$t("cef.ipad.org.dispatcher.modal.execute")),1),(0,o.createElementVNode)("div",{onClick:t[17]||(t[17]=t=>e.$emit("set-dispatcher-modal",null)),class:"control-button"},(0,o.toDisplayString)(e.$t("cef.ipad.org.dispatcher.modal.discard")),1)])],64)):(0,o.createCommentVNode)("",!0)])])],6)])),_:1})}var kw={name:"dispatcher-modal",props:["modal","modalData","timer"],components:{VueSelect:We.Z},mounted(){this.modalData&&"code"===this.modal&&(this.code.title=this.modalData.title,this.code.maxMembers=this.modalData.members,this.code.time=this.modalData.time,this.code.color=this.modalData.color,this.code.mark=this.modalData.mark)},data(){return{selectedMission:null,code:{title:"",maxMembers:0,time:"",color:"",mark:""}}},computed:{...(0,He.rn)({organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],dispatcherList:e=>e.ipad.organization.dispatcher.dispatcher.active.map((e=>e.title))}),getTitle(){switch(this.modal){case"create-call":return this.$t("cef.ipad.org.dispatcher.modal.create-call");case"call":return this.modalData.title;case"code":return this.modalData?this.modalData.title:this.$t("cef.ipad.org.dispatcher.modal.create-code")}}}};const vw=(0,et.Z)(kw,[["render",yw],["__scopeId","data-v-edf6d4b4"]]);var bw=vw,Nw={name:"dispatcher",mixins:[ca.Z],components:{Modal:bw,VueSelect:We.Z},created(){this.createTimers(),this.interval=setInterval(this.createTimers,1e3),this.filters=["UID",this.$t("cef.ipad.org.dispatcher.rank"),this.$t("cef.ipad.org.dispatcher.day-online"),this.$t("cef.ipad.org.dispatcher.month-online")]},mounted(){qe.TB.$on("set-dispatcher-modal",this.setModal)},beforeUnmount(){clearInterval(this.interval),qe.TB.$off("set-dispatcher-modal",this.setModal)},data(){return{interval:null,timers:[],modal:null,selectedCallId:null,search:"",filters:[],selectedFilter:null,selectedCode:null}},computed:{...(0,He.rn)({dispatcher:e=>e.ipad.organization.dispatcher.dispatcher.active,dispatcherHistory:e=>e.ipad.organization.dispatcher.dispatcher.history,codes:e=>e.ipad.organization.dispatcher.dispatcher.codes,dispatcherPage:e=>e.ipad.organization.dispatcher.page,organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],isLoading:e=>e.ipad.organization.isLoading}),headers(){return[this.$t("cef.ipad.org.dispatcher.call-type"),this.$t("cef.ipad.org.dispatcher.called-by"),this.$t("cef.ipad.org.dispatcher.call-name"),this.$t("cef.ipad.org.dispatcher.accepted-by"),this.$t("cef.ipad.org.dispatcher.org"),this.$t("cef.ipad.org.dispatcher.rank"),this.$t("cef.ipad.org.dispatcher.status"),this.$t("cef.ipad.org.dispatcher.date")]},historyFiltered(){return""===this.search?this.dispatcherHistory:this.dispatcherHistory.filter((e=>-1!==e.login.indexOf(this.search)))},modalData(){return null!=this.selectedCallId?this.dispatcher[this.selectedCallId]:null!=this.selectedCode?this.selectedCode:void 0}},methods:{...(0,He.OI)({updateDispatcherTime:"ipad/organization/dispatcher/updateTime"}),hexToRgb(e){let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},createTimers(){this.timers=[];for(let e=0;e<this.dispatcher.length;e++){const t=this.dispatcher[e];let a;if(a=isNaN(t.timeLeft)?this.convertToSeconds(t.totalTime):this.convertToSeconds(t.timeLeft),a<=0){this.timers.push({title:"00:00",progress:100});continue}const o=parseInt(a/60%60),i=a%60;this.timers.push({title:`${o<10?`0${o}`:o}:${i<10?`0${i}`:i}`,progress:Math.ceil((t.totalTime-(t.timeLeft?t.timeLeft:t.totalTime))/t.totalTime*100)}),this.updateDispatcherTime({index:e,timeLeft:t.timeLeft?t.timeLeft-1e3:t.totalTime-1e3})}this.timers.every((e=>e.progress>=100))&&clearInterval(this.interval)},convertToSeconds(e){return e/1e3},setCallModal(e){this.modal="call",this.selectedCallId=e},setCodeModal(e){this.modal="code",this.selectedCode=e},setModal(e){this.modal=e,null==e&&(this.selectedCallId=null,this.selectedCode=null)},updateList(){}}};const Vw=(0,et.Z)(Nw,[["render",uV],["__scopeId","data-v-38989ca4"]]);var ww=Vw;const Ew=e=>((0,o.pushScopeId)("data-v-307de2af"),e=e(),(0,o.popScopeId)(),e),Sw={key:"orders",class:"column-block full-height"},Cw={class:"row-block"},_w={class:"search-bar align-center row-reverse-block justify-end"},$w=["placeholder"],Dw={class:"table column-block full-height"},Bw={class:"container column-block full-height full-width"},xw={class:"headers row-block full-width"},zw=["onClick"],Mw={class:"title-content align-center"},Lw={key:0,class:"table-loader full-width"},Tw=Ew((()=>(0,o.createElementVNode)("div",{class:"loader"},null,-1))),Iw=[Tw],Fw={class:"table-row row-block align-center full-width"},Pw={class:"row-item"},Aw={class:"row-item"},Rw={class:"row-item"},Ow={class:"row-item"},jw={class:"row-item"},Zw={class:"row-item"},Uw={class:"row-item"},Hw={class:"row-item"},Gw={key:"map",class:"map full-width full-height"};function qw(e,t){const a=(0,o.resolveComponent)("SVGComponent"),i=(0,o.resolveComponent)("vue-select"),l=(0,o.resolveComponent)("DynamicScrollerItem"),n=(0,o.resolveComponent)("DynamicScroller"),r=(0,o.resolveComponent)("WMap");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([[e.organizationColorSchema.theme,{map:"map"===e.page}],"deliveries full-width full-height"]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`,"--background":`${e.organizationColorSchema.backgroundColor}`,"--main-text-color":`${e.getCorrectContrastingFontColor(e.organizationColorSchema.main,"#fbfbfb","#060606")}`}),tabindex:"0",onKeydown:t[3]||(t[3]=(0,o.withKeys)((0,o.withModifiers)((()=>{}),["prevent","stop"]),["tab"]))},[e.isLoading?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createVNode)(o.Transition,{name:"local-fade",appear:"",mode:"out-in"},{default:(0,o.withCtx)((()=>["orders"===e.page?((0,o.openBlock)(),(0,o.createElementBlock)("div",Sw,[(0,o.createElementVNode)("header",Cw,[(0,o.createElementVNode)("div",_w,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=t=>e.search=t),placeholder:e.$t("cef.ipad.org.fines.enter-value"),class:(0,o.normalizeClass)(["search-bar__input full-height full-width",{notEmpty:e.search}])},null,10,$w),[[o.vModelText,e.search,void 0,{trim:!0}]]),(0,o.createVNode)(a,{class:"search-bar__picture",path:"icons/ipad/apps/organizations/search.svg"})]),(0,o.createVNode)(i,{"item-list":e.filters,bindTitle:"title",class:(0,o.normalizeClass)(["select-menu",{selected:e.selectedFilter}]),onSetItem:t[1]||(t[1]=t=>e.setFilterType(t))},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(a,{class:"filter",path:"icons/ipad/apps/organizations/calls/filter.svg"}),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.selectedFilter?e.selectedFilter.title:e.$t("cef.ipad.org.fines.select-filter")),1)])),_:1},8,["item-list","class"])]),(0,o.createElementVNode)("div",Dw,[(0,o.createElementVNode)("div",Bw,[(0,o.createElementVNode)("div",xw,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.headers,((t,i)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{onClick:a=>e.sorting(t.path),class:"headers__title align-center"},[(0,o.createElementVNode)("div",Mw,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(t.title),1),(0,o.withDirectives)((0,o.createVNode)(a,{class:(0,o.normalizeClass)({selected:e.checkSortIcon()}),path:"icons/global/chevron.svg"},null,8,["class"]),[[o.vShow,e.tempSort&&e.tempSort.title.includes(t.title)]])])],8,zw)))),256)),e.loader?((0,o.openBlock)(),(0,o.createElementBlock)("div",Lw,Iw)):(0,o.createCommentVNode)("",!0)]),(0,o.createVNode)(n,{class:"table-view full-width full-height column-block",items:e.deliveries,"min-item-size":45/1080*e.windowHeight,emitUpdate:!0,ref:"deliveriesLogs",onScroll:t[2]||(t[2]=t=>e.updateList("deliveriesLogs","deliveries",e.onPageChange,45/1080*e.windowHeight)),"key-field":"id"},{default:(0,o.withCtx)((({item:t,index:i,active:n})=>[(0,o.createVNode)(l,{item:t,active:n,"data-index":i},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",Fw,[(0,o.createElementVNode)("div",Pw,(0,o.toDisplayString)(t.organization),1),(0,o.createElementVNode)("div",Aw,(0,o.toDisplayString)(t.orderedBy),1),(0,o.createElementVNode)("div",Rw,(0,o.toDisplayString)(t.uid),1),(0,o.createElementVNode)("div",Ow,(0,o.toDisplayString)(e.$t(t.type).split(" ")[0]),1),(0,o.createElementVNode)("div",jw,(0,o.toDisplayString)(t.amount)+" "+(0,o.toDisplayString)(e.$t("cef.ipad.org.deliveries.measure")),1),(0,o.createElementVNode)("div",Zw,(0,o.toDisplayString)(t.date),1),(0,o.createElementVNode)("div",Uw,(0,o.toDisplayString)(t.finishedBy&&t.status?t.finishedBy:"—"),1),(0,o.createElementVNode)("div",Hw,(0,o.toDisplayString)(t.status?e.$t("cef.ipad.org.deliveries.delivered"):e.$t("cef.ipad.org.deliveries.await")),1),t.amount&&t.status?((0,o.openBlock)(),(0,o.createBlock)(a,{key:0,class:"table-row__icon active",path:"icons/ipad/apps/organizations/deliveries/finished.svg"})):((0,o.openBlock)(),(0,o.createBlock)(a,{key:1,class:"table-row__icon",path:"icons/ipad/apps/organizations/deliveries/waiting.svg"}))])])),_:2},1032,["item","active","data-index"])])),_:1},8,["items","min-item-size"])])])])):"map"===e.page?((0,o.openBlock)(),(0,o.createElementBlock)("div",Gw,[(0,o.createVNode)(r,{class:"map-container",newMarkers:e.formattedMarkers,onOnZoneHovered:e.onZoneHovered,onOnZoneClick:e.onZoneClick,onOnMapClick:e.onMapClick},null,8,["newMarkers","onOnZoneHovered","onOnZoneClick","onOnMapClick"])])):(0,o.createCommentVNode)("",!0)])),_:1}),(0,o.createVNode)(o.Transition,{name:"local-fade",appear:""},{default:(0,o.withCtx)((()=>[null!=e.modal?((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)(e.modal),{key:0,selectedMarker:e.selectedMarker,deliveryTime:e.deliveryTime,position:e.selectedMarkerPosition,onOpenModal:e.openModal},null,40,["selectedMarker","deliveryTime","position","onOpenModal"])):(0,o.createCommentVNode)("",!0)])),_:1})],64))],38)}const Ww={class:"modal-window column-block"},Yw={class:"modal-window__title"},Kw={class:"materials full-width"},Xw={class:"materials__text"},Jw={class:"row-block align-center justify-start"},Qw=["onClick"],eE={class:"row-block align-center justify-between"},tE={class:"materials__text"},aE={class:"materials__text"},oE={class:"control-buttons row-block justify-between"};function iE(e,t){const a=(0,o.resolveComponent)("SVGComponent"),i=(0,o.resolveComponent)("moneySelect");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"modal full-width full-height"]),onClick:t[3]||(t[3]=(0,o.withModifiers)((t=>e.$emit("open-modal",null)),["self"])),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`,"--background":`${e.organizationColorSchema.backgroundColor}`})},[(0,o.createElementVNode)("div",Ww,[(0,o.createElementVNode)("span",Yw,(0,o.toDisplayString)(e.$t("cef.ipad.org.deliveries.modal.create-order")),1),(0,o.createElementVNode)("div",{onClick:t[0]||(t[0]=t=>e.$emit("open-modal",null)),class:"close-block flex-block"},[(0,o.createVNode)(a,{path:"icons/global/cross.svg"})]),(0,o.createElementVNode)("div",Kw,[(0,o.createElementVNode)("div",Xw,(0,o.toDisplayString)(e.$t("cef.ipad.org.deliveries.modal.materials-type")),1),(0,o.createElementVNode)("div",Jw,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.materialsConfig,((t,i)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{onClick:a=>e.selectMaterialsType(t.materialColor),class:(0,o.normalizeClass)([{selected:e.selectedIndex===i},"materials__button materials-type row-block align-center justify-start"]),key:"materialIndex"+i},[(0,o.createVNode)(a,{path:`icons/ipad/apps/organizations/deliveries/materials-${t.materialColor}.svg`},null,8,["path"]),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.$t(t.title).split(" ")[0]),1)],10,Qw)))),128))])]),(0,o.createElementVNode)("div",eE,[(0,o.createElementVNode)("div",tE,(0,o.toDisplayString)(e.$t("cef.ipad.org.deliveries.modal.materials-amount")),1),(0,o.createElementVNode)("div",aE,(0,o.toDisplayString)(e.$t("cef.ipad.org.deliveries.modal.purchase-sum")),1)]),(0,o.createVNode)(i,{class:(0,o.normalizeClass)(["fine",{disabled:e.amountSlider.max<=0||e.amountSlider.max===e.amountSlider.min}]),slider:e.amountSlider,symbol:"",placeholder:e.$t("cef.ipad.org.fines.enter-value"),getValue:e.amount,additionalValueIsInput:!0,additionalSlider:e.additionalSlider,additionalPlaceholder:e.$t("cef.ipad.org.fines.enter-value"),additionalGetValue:e.additionalValue,"onUpdate:modelValue":e.updateAmount,onAdditionalInput:e.updateAdditionalValue,disabled:e.amountSlider.max<=0||e.amountSlider.max===e.amountSlider.min},null,8,["slider","placeholder","getValue","additionalSlider","additionalPlaceholder","additionalGetValue","onUpdate:modelValue","onAdditionalInput","disabled","class"]),(0,o.createElementVNode)("div",oE,[(0,o.createElementVNode)("div",{onClick:t[1]||(t[1]=t=>e.orderMaterials()),class:"control-button"},(0,o.toDisplayString)(e.$t("cef.ipad.org.deliveries.modal.make-order")),1),(0,o.createElementVNode)("div",{onClick:t[2]||(t[2]=t=>e.$emit("open-modal",null)),class:"control-button"},(0,o.toDisplayString)(e.$t("cef.ipad.org.deliveries.modal.discard")),1)])])],6)}var lE={name:"deliveries-modal",components:{moneySelect:Up.Z},mixins:[Ge.Z],data(){return{selectedIndex:0,amount:500,additionalValue:25e3,amountSlider:{min:500,max:5e4},additionalSlider:{min:25e3,max:25e5,interval:50}}},created(){let e,t;this.selectedMaterials.limits?(e={min:this.selectedMaterials.limits.min,max:this.selectedMaterials.limits.max},t={min:this.selectedMaterials.limits.min*this.getSelectedMaterialsPrice,max:this.selectedMaterials.limits.max*this.getSelectedMaterialsPrice,interval:this.getSelectedMaterialsPrice}):(e={min:500,max:5e4},t={min:25e3,max:25e5,interval:50}),this.amountSlider={min:Math.min(e.min,Math.floor(this.getMyFractionMoney/this.getSelectedMaterialsPrice)),max:Math.min(e.max,Math.floor(this.getMyFractionMoney/this.getSelectedMaterialsPrice))},this.amount=Math.min(e.min,Math.floor(this.getMyFractionMoney/this.getSelectedMaterialsPrice)),this.additionalSlider={min:Math.min(t.min,this.amount*this.getSelectedMaterialsPrice),max:Math.min(t.max,this.amountSlider.max*this.getSelectedMaterialsPrice),interval:t.interval},this.additionalValue=Math.min(t.min,this.amount*this.getSelectedMaterialsPrice)},computed:{...(0,He.rn)({organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],materialsConfig:e=>e.ipad.organization.deliveries.materialsConfig,myFractionMoney:e=>e.ipad.organization.balance.balance}),getMyFractionMoney(){return this.myFractionMoney},selectedMaterials(){return this.materialsConfig[this.selectedIndex]},getSelectedMaterialsPrice(){return this.selectedMaterials.materialPrice}},methods:{selectMaterialsType(e){const t=this.materialsConfig.findIndex((t=>t.materialColor===e));this.selectedIndex=t},updateAmount(e){this.amount=e},updateAdditionalValue(e){this.additionalValue=e},orderMaterials(){let e,t;if(this.selectedMaterials.limits?(e={min:this.selectedMaterials.limits.min,max:this.selectedMaterials.limits.max},t={min:this.selectedMaterials.limits.min*this.getSelectedMaterialsPrice,max:this.selectedMaterials.limits.max*this.getSelectedMaterialsPrice,interval:this.getSelectedMaterialsPrice}):(e={min:500,max:5e4},t={min:25e3,max:25e5,interval:50}),this.amount<e.min||this.amount>e.max||this.additionalValue<t.min||this.additionalValue>t.max)return this.$store.commit("main/showNotify",{text:this.$t("cef.ipad.org.deliveries.modal.order-limit",{min:this.$n(e.min,"any-number"),max:this.$n(e.max,"any-number")}),type:"error"});mp.trigger2("ipad.organization.deliveries.orderMaterialsToFraction",this.selectedMaterials.materialColor,this.amount),this.$emit("open-modal",null)}},watch:{selectedIndex(){let e,t;this.selectedMaterials.limits?(e={min:this.selectedMaterials.limits.min,max:this.selectedMaterials.limits.max},t={min:this.selectedMaterials.limits.min*this.getSelectedMaterialsPrice,max:this.selectedMaterials.limits.max*this.getSelectedMaterialsPrice,interval:this.getSelectedMaterialsPrice}):(e={min:500,max:5e4},t={min:25e3,max:25e5,interval:50}),this.amountSlider={min:Math.min(e.min,Math.floor(this.getMyFractionMoney/this.getSelectedMaterialsPrice)),max:Math.min(e.max,Math.floor(this.getMyFractionMoney/this.getSelectedMaterialsPrice))},this.amount=Math.min(e.min,Math.floor(this.getMyFractionMoney/this.getSelectedMaterialsPrice)),this.additionalSlider={min:Math.min(t.min,this.amount*this.getSelectedMaterialsPrice),max:Math.min(t.max,this.amountSlider.max*this.getSelectedMaterialsPrice),interval:t.interval},this.additionalValue=Math.min(t.min,this.amount*this.getSelectedMaterialsPrice)},amount(){this.additionalValue=this.amount*this.getSelectedMaterialsPrice},additionalValue(){this.amount=Math.floor(this.additionalValue/this.getSelectedMaterialsPrice)}}};const nE=(0,et.Z)(lE,[["render",iE],["__scopeId","data-v-0ede23b6"]]);var rE=nE;const sE={key:0,class:"modal-window column-block ready"},cE={class:"modal-window__title"},dE={class:"data-field row-block full-width justify-between"},mE={class:"data-container column-block"},pE={class:"data-container__title"},uE={class:"block-with-icon row-block align-center"},hE={class:"data-container__value"},gE={class:"data-container align-end column-block"},fE={class:"data-container__title"},yE={class:"data-container__value"},kE={class:"data-field column-block full-width justify-between"},vE={class:"row-block alight-center justify-between"},bE={class:"data-container__title"},NE={class:"data-container__title"},VE={class:"materials full-width"},wE={class:"materials__text"},EE={class:"row-block align-center justify-start"},SE=["onClick"],CE={class:"materials full-width"},_E={class:"materials__text"},$E={class:"row-block align-center justify-start materials__wrapper"},DE=["onClick"],BE={class:"control-buttons row-block justify-between"},xE={key:1,class:"modal-window column-block not-ready"},zE={class:"modal-window__title"},ME={class:"data-field row-block full-width justify-between"},LE={class:"data-container column-block"},TE={class:"data-container__title"},IE={class:"block-with-icon row-block align-center"},FE={class:"data-container__value"},PE={class:"data-container align-end column-block"},AE={class:"data-container__title"},RE={class:"data-container__value"},OE={class:"data-field row-block full-width justify-between"},jE={class:"data-container column-block"},ZE={class:"data-container__title"},UE={class:"data-container__value"},HE={class:"data-container align-end column-block"},GE={class:"data-container__title"},qE={class:"data-container__value"},WE={class:"data-field row-block full-width justify-between"},YE={class:"data-container column-block"},KE={class:"data-container__title"},XE={class:"data-container__value"},JE={class:"data-container align-end column-block"},QE={class:"data-container__title"},eS={class:"data-container__value"},tS={class:"row-block alight-center justify-start"},aS={key:0,class:"delivery-time__text"},oS={class:"delivery-time__text value"},iS={class:"delivery-time__text time"};function lS(e,t){const a=(0,o.resolveComponent)("SVGComponent"),i=(0,o.resolveComponent)("moneySelect");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([[e.organizationColorSchema.theme],"modal mapModal"]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`,"--background":`${e.organizationColorSchema.backgroundColor}`,left:`${e.positionX}px`,top:`${e.positionY}px`})},["available"===e.selectedMarker.markerType?((0,o.openBlock)(),(0,o.createElementBlock)("div",sE,[(0,o.createElementVNode)("span",cE,(0,o.toDisplayString)(e.sliceString(e.$t(e.selectedMarker.title),25)),1),(0,o.createElementVNode)("div",{onClick:t[0]||(t[0]=t=>e.$emit("open-modal",null)),class:"close-block flex-block"},[(0,o.createVNode)(a,{path:"icons/global/cross.svg"})]),(0,o.createElementVNode)("div",dE,[(0,o.createElementVNode)("div",mE,[(0,o.createElementVNode)("span",pE,(0,o.toDisplayString)(e.$t("cef.supply.type-materials")),1),(0,o.createElementVNode)("div",uE,[(0,o.createVNode)(a,{class:"data-container__picture",path:`icons/ipad/apps/organizations/deliveries/materials-${e.selectedMarker.typeIcon}.svg`},null,8,["path"]),(0,o.createElementVNode)("span",hE,(0,o.toDisplayString)(e.$t(e.selectedMarker.materialsType)),1)])]),(0,o.createElementVNode)("div",gE,[(0,o.createElementVNode)("span",fE,(0,o.toDisplayString)(e.$t("cef.supply.price-piece")),1),(0,o.createElementVNode)("span",yE,(0,o.toDisplayString)(e.countMoneyToDollar(e.selectedMarker.price,!1,!1)),1)])]),(0,o.createElementVNode)("div",kE,[(0,o.createElementVNode)("div",vE,[(0,o.createElementVNode)("div",bE,(0,o.toDisplayString)(e.$t("cef.ipad.org.deliveries.modal.materials-amount")),1),(0,o.createElementVNode)("div",NE,(0,o.toDisplayString)(e.$t("cef.ipad.org.deliveries.modal.purchase-sum")),1)]),(0,o.createVNode)(i,{class:(0,o.normalizeClass)(["fine",{disabled:e.amountSlider.max<=0||e.amountSlider.max===e.amountSlider.min}]),slider:e.amountSlider,symbol:"",placeholder:e.$t("cef.ipad.org.fines.enter-value"),getValue:e.amount,additionalValueIsInput:!0,additionalSlider:e.additionalSlider,additionalPlaceholder:e.$t("cef.ipad.org.fines.enter-value"),additionalGetValue:e.additionalValue,"onUpdate:modelValue":e.updateAmount,onAdditionalInput:e.updateAdditionalValue,disabled:e.amountSlider.max<=0||e.amountSlider.max===e.amountSlider.min},null,8,["slider","placeholder","getValue","additionalSlider","additionalPlaceholder","additionalGetValue","onUpdate:modelValue","onAdditionalInput","disabled","class"])]),(0,o.createElementVNode)("div",VE,[(0,o.createElementVNode)("div",wE,(0,o.toDisplayString)(e.$t("cef.ipad.org.deliveries.modal.delivery-date")),1),(0,o.createElementVNode)("div",EE,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.daysList,((t,a)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{onClick:a=>e.selectDay(t.date),class:(0,o.normalizeClass)([{selected:e.selectedDay===t.date},"materials__button delivery-dates row-block align-center justify-start"]),key:"deliveryDatesIndex"+a},[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(t.date)+" "+(0,o.toDisplayString)(e.$t(`cef.ipad.org.deliveries.modal.monthNames.${t.month}`)),1)],10,SE)))),128))])]),(0,o.createElementVNode)("div",CE,[(0,o.createElementVNode)("div",_E,(0,o.toDisplayString)(e.$t("cef.ipad.org.deliveries.modal.delivery-time")),1),(0,o.createElementVNode)("div",$E,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.$options.DELIVERY_TIME,((t,a)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{onClick:a=>e.selectTime(t),class:(0,o.normalizeClass)([{selected:e.selectedTime===t,disabled:!e.activeTime.includes(t)},"materials__button delivery-times row-block align-center justify-start"]),key:"timeIndex"+a},[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(t),1)],10,DE)))),128))])]),(0,o.createElementVNode)("div",BE,[(0,o.createElementVNode)("div",{onClick:t[1]||(t[1]=t=>e.orderMaterials()),class:"control-button"},(0,o.toDisplayString)(e.$t("cef.ipad.org.deliveries.modal.make-order")),1),(0,o.createElementVNode)("div",{onClick:t[2]||(t[2]=t=>e.$emit("open-modal",null)),class:"control-button"},(0,o.toDisplayString)(e.$t("cef.ipad.org.deliveries.modal.discard")),1)])])):"coming"===e.selectedMarker.markerType?((0,o.openBlock)(),(0,o.createElementBlock)("div",xE,[(0,o.createElementVNode)("span",zE,(0,o.toDisplayString)(e.sliceString(e.$t(e.selectedMarker.title),25)),1),(0,o.createElementVNode)("div",{onClick:t[3]||(t[3]=t=>e.$emit("open-modal",null)),class:"close-block flex-block"},[(0,o.createVNode)(a,{path:"icons/global/cross.svg"})]),(0,o.createElementVNode)("div",ME,[(0,o.createElementVNode)("div",LE,[(0,o.createElementVNode)("span",TE,(0,o.toDisplayString)(e.$t("cef.supply.type-materials")),1),(0,o.createElementVNode)("div",IE,[(0,o.createVNode)(a,{class:"data-container__picture",path:`icons/ipad/apps/organizations/deliveries/materials-${e.selectedMarker.typeIcon}.svg`},null,8,["path"]),(0,o.createElementVNode)("span",FE,(0,o.toDisplayString)(e.$t(e.selectedMarker.materialsType).split(" ")[0]),1)])]),(0,o.createElementVNode)("div",PE,[(0,o.createElementVNode)("span",AE,(0,o.toDisplayString)(e.$t("cef.supply.price-piece")),1),(0,o.createElementVNode)("span",RE,(0,o.toDisplayString)(e.countMoneyToDollar(e.selectedMarker.price,!1,!1)),1)])]),(0,o.createElementVNode)("div",OE,[(0,o.createElementVNode)("div",jE,[(0,o.createElementVNode)("span",ZE,(0,o.toDisplayString)(e.$t("cef.supply.ordered-amount")),1),(0,o.createElementVNode)("span",UE,(0,o.toDisplayString)(e.$n(e.selectedMarker.amount,"any-number")),1)]),(0,o.createElementVNode)("div",HE,[(0,o.createElementVNode)("span",GE,(0,o.toDisplayString)(e.$t("cef.supply.pay-price")),1),(0,o.createElementVNode)("span",qE,(0,o.toDisplayString)(e.countMoneyToDollar(e.selectedMarker.price*e.selectedMarker.amount,!1,!1)),1)])]),(0,o.createElementVNode)("div",WE,[(0,o.createElementVNode)("div",YE,[(0,o.createElementVNode)("span",KE,(0,o.toDisplayString)(e.$t("cef.supply.delivery-date")),1),(0,o.createElementVNode)("span",XE,(0,o.toDisplayString)(e.$dayjs(e.selectedMarker.deliveryDate).format("D MMM")),1)]),(0,o.createElementVNode)("div",JE,[(0,o.createElementVNode)("span",QE,(0,o.toDisplayString)(e.$t("cef.supply.delivery-time")),1),(0,o.createElementVNode)("span",eS,(0,o.toDisplayString)(e.$dayjs(e.selectedMarker.deliveryDate).format("HH:mm")),1)])]),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["delivery-time row-block full-width align-center",{ready:"ready"===e.selectedMarker.status||0===e.newDeliveryTime}])},[(0,o.createElementVNode)("div",tS,["ready"===e.selectedMarker.status?((0,o.openBlock)(),(0,o.createElementBlock)("span",aS,(0,o.toDisplayString)(e.$t("cef.supply.arrived")),1)):((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:1},[(0,o.createElementVNode)("span",oS,(0,o.toDisplayString)(e.$t("cef.supply.timer")),1),(0,o.createElementVNode)("span",iS,(0,o.toDisplayString)(e.getDeliveryTime),1)],64))])],2)])):(0,o.createCommentVNode)("",!0)],6)}var nS={name:"deliveries-modal",props:["selectedMarker","deliveryTime","position"],components:{moneySelect:Up.Z},mixins:[Ge.Z,ca.Z],DAYS_AMOUNT:5,DELIVERY_TIME:["15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00","21:30","22:00"],data(){return{selectedDay:null,selectedTime:null,amount:500,additionalValue:25e3,amountSlider:{min:500,max:5e4},additionalSlider:{min:25e3,max:25e5,interval:50},positionY:null,positionX:null,timerDeliveryTime:null,newDeliveryTime:null}},created(){this.setLimits(),this.selectDay(this.daysList[0].date),this.updateModalPosition(),this.timerDeliveryTime=setInterval((()=>{this.newDeliveryTime=this.deliveryTime[this.selectedMarker.id]}),100)},beforeUnmount(){clearInterval(this.timerDeliveryTime)},computed:{...(0,He.rn)({organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],myFractionMoney:e=>e.ipad.organization.balance.balance,serverTimeOffset:e=>e.main.serverTimeOffset}),getMyFractionMoney(){return this.myFractionMoney},getSelectedMarkerPrice(){return this.selectedMarker.price},activeTime(){return this.$options.DELIVERY_TIME.filter((e=>{const t=this.daysList.findIndex((e=>e.date===this.selectedDay));let a=this.$_DateTime.fromMillis(this.dateList[t]);const[o,i]=e.split(":").map((e=>parseInt(e)));return a=a.set({hour:o,minutes:i}),a.valueOf()>this.$_DateTime.now().valueOf()}))},dateList(){let e=[];const t=this.$_DateTime.now().valueOf();for(let a=0;a<this.$options.DAYS_AMOUNT;a++){let o=24*a*60*60*1e3;e.push(t+o)}return e},daysList(){return this.dateList.map((e=>{let t=this.$_DateTime.fromMillis(e).toObject();return{date:t.day,month:t.month-1}}))},getDeliveryTime(){let e=Math.floor(this.newDeliveryTime/60/60),t=Math.floor(this.newDeliveryTime/60)-60*e,a=this.newDeliveryTime%60;return e<10&&(e="0"+e),t<10&&(t="0"+t),a<10&&(a="0"+a),`${e}:${t}:${a}`}},methods:{updateModalPosition(){this.$nextTick((()=>{const e=document.querySelector(".mapModal").getBoundingClientRect(),t=document.querySelector(".deliveries").getBoundingClientRect(),a=25/1080*this.windowHeight,o=this.position.y+t.top+e.height,i=t.top+t.height-a;o>i?this.positionY=this.position.y-(o-i):this.position.y<a?this.positionY=this.position.y+(a-this.position.y):this.positionY=this.position.y;const l=this.position.x+t.left+e.width,n=t.left+t.width-a;l>n?this.positionX=this.position.x-(l-n):this.position.x<a?this.positionX=this.position.x+(a-this.position.x):this.positionX=this.position.x}))},setLimits(){let e,t;this.selectedMarker.limits?(e={min:this.selectedMarker.limits.min,max:this.selectedMarker.limits.max},t={min:this.selectedMarker.limits.min*this.getSelectedMarkerPrice,max:this.selectedMarker.limits.max*this.getSelectedMarkerPrice,interval:this.getSelectedMarkerPrice}):(e={min:500,max:5e4},t={min:25e3,max:25e5,interval:50}),this.amountSlider={min:Math.min(e.min,Math.floor(this.getMyFractionMoney/this.getSelectedMarkerPrice)),max:Math.min(e.max,Math.floor(this.getMyFractionMoney/this.getSelectedMarkerPrice))},this.amount=Math.min(e.min,Math.floor(this.getMyFractionMoney/this.getSelectedMarkerPrice)),this.additionalSlider={min:Math.min(t.min,this.amount*this.getSelectedMarkerPrice),max:Math.min(t.max,this.amountSlider.max*this.getSelectedMarkerPrice),interval:t.interval},this.additionalValue=Math.min(t.min,this.amount*this.getSelectedMarkerPrice)},selectDay(e){this.selectedDay=e,this.selectTime(this.activeTime[0])},selectTime(e){this.activeTime.includes(e)?this.selectedTime=e:this.selectedTime=null},updateAmount(e){this.amount=e,this.additionalValue=this.amount*this.getSelectedMarkerPrice},updateAdditionalValue(e){this.additionalValue=e,this.amount=Math.floor(this.additionalValue/this.getSelectedMarkerPrice)},orderMaterials(){let e,t;return this.selectedMarker.limits?(e={min:this.selectedMarker.limits.min,max:this.selectedMarker.limits.max},t={min:this.selectedMarker.limits.min*this.getSelectedMarkerPrice,max:this.selectedMarker.limits.max*this.getSelectedMarkerPrice,interval:this.getSelectedMarkerPrice}):(e={min:500,max:5e4},t={min:25e3,max:25e5,interval:50}),this.amount<e.min||this.amount>e.max||this.additionalValue<t.min||this.additionalValue>t.max?this.$store.commit("main/showNotify",{text:this.$t("cef.ipad.org.deliveries.modal.order-limit",{min:this.$n(e.min,"any-number"),max:this.$n(e.max,"any-number")}),type:"error"}):this.selectedTime?this.selectedDay?(mp.trigger2("ipad.organization.deliveries.orderMaterialsToArmy",this.selectedMarker.typeIcon,this.selectedMarker.position,this.amount,this.selectedDay,this.selectedTime),void this.$emit("open-modal",null)):this.$store.commit("main/showNotify",{text:this.$t("cef.ipad.org.deliveries.modal.wrong-time"),type:"error"}):this.$store.commit("main/showNotify",{text:this.$t("cef.ipad.org.deliveries.modal.wrong-date"),type:"error"})},getServerTimeWithOffset(){return new Date(Date.now()+this.serverTimeOffset)}},watch:{selectedMarker(){this.setLimits(),this.selectDay(this.daysList[0].date),this.updateModalPosition()}}};const rS=(0,et.Z)(nS,[["render",lS],["__scopeId","data-v-5bc6ab74"]]);var sS=rS;const cS={class:"wmap full-height full-width"},dS={class:"map-container",ref:"mapContainer"};function mS(e,t,a,i,l,n){return(0,o.openBlock)(),(0,o.createElementBlock)("div",cS,[(0,o.createElementVNode)("div",dS,null,512)])}var pS=a(85445),uS=a(15278),hS={name:"wmap",props:["newMarkers"],components:{},mounted(){const e=this.$el.parentElement.getBoundingClientRect(),t=this.$el.getBoundingClientRect(),a=t.x-e.x,o=t.y-e.y;pS.Z.mount(this.$refs.mapContainer,{offset:{x:a,y:o},centerMove:{x:-1616.53125,y:-4259.703125},zoomLevel:5}),pS.Z.addListener("zoneClick",this.onZoneClick),pS.Z.addListener("mapClick",this.onMapClick),pS.Z.addListener("mapMove",this.onMapClick),pS.Z.addListener("mapChangeZoomLevel",this.onMapChangeZoomLevel),pS.Z.addListener("zoneHovered",this.onZoneHovered),pS.Z.updateMap(),pS.Z.updateLabelsList([]),pS.Z.updateZonesList([]),pS.Z.setDataLoaded(),pS.Z.clearDynamicLabels(),this.secondInterval=setInterval(this.onSecond,1e3),this.onSecond(),this.setMarkers(this.newMarkers),pS.Z.updateMap()},beforeUnmount(){pS.Z.unmount(),pS.Z.removeListener("zoneClick",this.onZoneClick),pS.Z.removeListener("mapClick",this.onMapClick),pS.Z.removeListener("mapMove",this.onMapClick),pS.Z.removeListener("mapChangeZoomLevel",this.onMapChangeZoomLevel),pS.Z.removeListener("zoneHovered",this.onZoneHovered),clearInterval(this.secondInterval)},data(){return{currentZone:null,markers:[],timeLabels:[]}},methods:{...(0,He.nv)({back:"ipad/organization/back"}),onSecond(){let e=!1,t=!1;for(const a of this.timeLabels){const o=Math.floor((a.startTime-this.getServerTimeWithOffset())/1e3);o>=0?(pS.Z.updateDynamicLabel({...a,text:(0,uS.q)(o)}),e=!0):(a.stopped||(pS.Z.removeDynamicLabelById(a.id),t=!0),a.stopped=!0)}t&&this.updateZonesMap(4),e&&pS.Z.updateMap()},setMarkers(e=[{id:1,position:{x:0,y:0,z:0},size:140,spriteId:1,spriteScale:[.4,.4],spriteColor:[150,150,255],spriteRelativePosition:[.5,.5],zoneColor:[255,255,255,.5],type:1,startTime:Date.now()+6e4,textColor:[0,255,0]}]){this.markers=e},convertTime(e){let t=parseInt(e/1e3/60/60),a=parseInt(e/1e3/60%60),o=parseInt(e/1e3%60);return t=t<10?`0${t}`:t,a=a<10?`0${a}`:a,o=o<10?`0${o}`:o,`${t}:${a}:${o}`},setPage(e,t={}){this.page=e,this.pageData=t,e||this.onMapClick()},updateZonesMap(){const e=this.markers,t=[],a=[],o=[];if(e?.length)for(let i=0;i<e?.length;i++){const a=e[i];let l=[...a.zoneColor],n={id:a.spriteId,scale:a.spriteScale,position:a.spriteRelativePosition,color:a.spriteColor},r={type:a.type};t.push({id:a.id,position:a.position,size:a.size,color:l,defaultColor:l,sprite:{...n},block:{...r},data:{}}),1==a.type&&o.push({id:`timeLabel-${a.id}`,color:a.textColor,position:{...a.position,y:a.position.y-a.timePositionYOffset},size:a.timeSize,startTime:a.startTime})}this.timeLabels=o;for(const i of this.timeLabels){const e=Math.floor((i.startTime-this.getServerTimeWithOffset())/1e3);e>=0&&pS.Z.updateDynamicLabel({...i,text:(0,uS.q)(e)})}pS.Z.updateMap(),pS.Z.updateLabelsList(a),pS.Z.updateZonesList(t)},getServerTimeWithOffset(){return new Date(Date.now()+this.serverTimeOffset)},onZoneHovered(e,t,a,o){this.$emit("onZoneHovered",{zoneData:e,isHovered:t,x:a,y:o})},onZoneClick(e,t,a,o,i){this.$emit("onZoneClick",{zoneData:e,zoneX:t,zoneY:a,mouseX:o,mouseY:i}),this.currentZone=e},onMapChangeZoomLevel(e){this.onMapClick("onMapChangeZoomLevel",e)},onMapClick(e,t){this.$emit("onMapClick",e,t),this.currentZone=null},onLookAtSelfAction(){this.selfAction&&"number"===typeof this.selfAction.zoneId&&pS.Z.lookAtZone(this.selfAction.zoneId,7)}},computed:{...(0,He.rn)({organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],zoneControl:e=>e.ipad.organization.captureMap.zoneControl,fight:e=>e.ipad.organization.captureMap.fight,zonesData:e=>e.ipad.organization.captureMap.zonesData,selfAction:e=>e.ipad.organization.captureMap.selfAction,playerFactionId:e=>e.ipad.member,isAdmin:e=>e.ipad.organization.captureMap.isAdmin,freezeActive:e=>e.ipad.organization.captureMap.freezeActive,canEdit:e=>e.ipad.organization.captureMap.canEdit,serverTimeOffset:e=>e.main.serverTimeOffset})},watch:{zonesData(){this.updateZonesMap(2)},canEdit(){this.updateZonesMap(2)},fight(){this.onSecond()},newMarkers(e){this.setMarkers(e)},markers(){this.updateZonesMap()}}};const gS=(0,et.Z)(hS,[["render",mS],["__scopeId","data-v-4859413f"]]);var fS=gS,yS={name:"deliveries",mixins:[ca.Z,sa,Je.Z],components:{VueSelect:We.Z,RecycleScroller:Do.EK,createModal:rE,createModalMap:sS,WMap:fS},created(){this.setPage("orders"),this.filters=[{title:this.$t("cef.ipad.org.deliveries.org"),path:"org"},{title:this.$t("cef.ipad.org.deliveries.order-by"),path:"order-by"},{title:"UID",path:"order-by-uid"},{title:this.$t("cef.ipad.org.deliveries.materials"),path:"materials"},{title:this.$t("cef.ipad.org.deliveries.amount"),path:"amount"},{title:this.$t("cef.ipad.org.deliveries.order-date"),path:"order-date"},{title:this.$t("cef.ipad.org.deliveries.order-сompleted"),path:"order-сompleted"},{title:this.$t("cef.ipad.org.deliveries.order-status"),path:"order-status"}],this.headers=[{title:this.$t("cef.ipad.org.deliveries.org"),path:"org"},{title:this.$t("cef.ipad.org.deliveries.order-by"),path:"order-by"},{title:"UID",path:"order-by-uid"},{title:this.$t("cef.ipad.org.deliveries.materials"),path:"materials"},{title:this.$t("cef.ipad.org.deliveries.amount"),path:"amount"},{title:this.$t("cef.ipad.org.deliveries.order-date"),path:"order-date"},{title:this.$t("cef.ipad.org.deliveries.order-сompleted"),path:"order-сompleted"},{title:this.$t("cef.ipad.org.deliveries.order-status"),path:"order-status"}],clearInterval(this.timerDeliveryTime),this.timerDeliveryTime=setInterval((()=>{this.formattedMarkers.forEach((e=>{const t=Math.floor((this.getServerTimeWithOffset()-new Date(e.deliveryDate))/1e3);!t||isNaN(t)||t>=0?(this.deliveryTime[e.id]=0,e.type=-1):(this.deliveryTime[e.id]=Math.abs(t),e.type=1)}))}),100)},mounted(){qe.TB.$on("set-deliveries-modal",this.openModal)},beforeUnmount(){qe.TB.$off("set-deliveries-modal",this.openModal),clearInterval(this.timerDeliveryTime)},data(){return{search:"",filters:[],selectedFilter:null,sort:null,tempSort:null,headers:[],pageNumber:1,modal:null,debounce:null,selectedMarker:null,selectedMarkerPosition:null,timerDeliveryTime:null,deliveryTime:{},zoomLevel:5,firstZoomLevel:5,miltiplierStep:1.5,firstMarkerSize:180,newMarkers:null}},computed:{...(0,He.rn)({deliveries:e=>e.ipad.organization.deliveries.deliveries,loader:e=>e.ipad.organization.deliveries.loader,openedApp:e=>e.ipad.openedApp,organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],page:e=>e.ipad.organization.deliveries.page,isLoading:e=>e.ipad.organization.isLoading,markers:e=>e.ipad.organization.deliveries.markers,serverTimeOffset:e=>e.main.serverTimeOffset,endList:e=>e.ipad.organization.deliveries.endList}),formattedMarkers(){return this.markers.map(((e,t)=>({...e,id:t+1,position:{x:e.latLng[0],y:e.latLng[1],z:0},size:this.getZoomMultiplier.markerSize,spriteId:this.getMarkerType(e.typeIcon),spriteScale:[.5,.5],spriteColor:[6,6,6],spriteRelativePosition:[.5,.5],zoneColor:[255,193,48,.9],markerType:e.type,type:"available"===e.markerType||"ready"===e.status?-1:1,startTime:new Date(e.deliveryDate),timePositionYOffset:this.getZoomMultiplier.timePosition,timeSize:this.getZoomMultiplier.timeSize})))},getZoomMultiplier(){const e=this.firstMarkerSize/1080*this.windowHeight,t=this.firstZoomLevel-this.zoomLevel;let a=null,o=null,i=null;switch(a=t>0?e*(t*this.miltiplierStep):t<0?e/(Math.abs(t)*this.miltiplierStep):e,t){case 0:o=.6,i=51;break;case 1:o=.9,i=78;break;case 2:o=1.9,i=162;break;case-1:o=.4,i=34;break;case-2:o=.185,i=15.5;break;default:o=.6,i=51;break}return{markerSize:a,timeSize:o,timePosition:i}}},methods:{...(0,He.OI)({setPage:"ipad/organization/deliveries/setPage"}),checkSortIcon(){if(!this.sort)return;const e=this.sort.split("-");return"desc"!==e[1]},getMarkerType(e){switch(e){case"red":return 5;case"green":return 6;case"blue":return 7}},sorting(e){switch(this.tempSort=this.headers.find((t=>t.path===e)),e){case"org":e="sp.fractionId";break;case"order-by":e="a.login";break;case"order-by-uid":e="a.id";break;case"materials":e="sp.type";break;case"amount":e="sp.amount";break;case"order-date":e="sp.date";break;case"order-сompleted":e="a2.login";break;case"order-status":e="sp.status";break}if(this.sort){const t=this.sort.split("-");e===t[0]?this.sort=`${e}-${"desc"===t[1]?"asc":"desc"}`:this.sort=`${e}-desc`}else this.sort=`${e}-desc`;this.pageNumber=1,mp.trigger2("ipad.organization.deliveries.getData",this.pageNumber,this.sort,null,null),this.paginationDebounce=Date.now()/1e3+1,this.$store.commit("ipad/organization/deliveries/setLoader",!0)},clearSort(){this.tempSort=null,this.sort=null},clearSearchModifiers(){this.pageNumber=1,mp.trigger2("ipad.organization.deliveries.getData"),this.paginationDebounce=Date.now()/1e3+1,this.$store.commit("ipad/organization/deliveries/setLoader",!0),this.clearSort()},setFilterType(e){this.selectedFilter&&this.selectedFilter.path==e.path?this.selectedFilter=null:this.selectedFilter=e,this.selectedFilter?this.search&&this.search.length&&(this.clearSort(),this.pageNumber=1,mp.trigger2("ipad.organization.deliveries.getData",this.pageNumber,null,this.selectedFilter.path,this.search),this.paginationDebounce=Date.now()/1e3+1,this.$store.commit("ipad/organization/deliveries/setLoader",!0)):this.search&&this.search.length&&this.clearSearchModifiers()},onPageChange(){this.paginationDebounce&&this.paginationDebounce>Date.now()/1e3||this.deliveries.length&&(this.deliveries.length<50||this.endList||(this.pageNumber++,mp.trigger2("ipad.organization.deliveries.getData",this.pageNumber,this.sort,this.selectedFilter?this.selectedFilter.path:null,this.search),this.$store.commit("ipad/organization/fines/setLoader",!0)))},openModal(e){this.modal=e},onZoneHovered(){},onMapClick(e,t){this.openModal(null),"onMapChangeZoomLevel"===e&&(this.zoomLevel=t)},onZoneClick(e){this.selectedMarker=this.formattedMarkers.find((t=>t.id===e.zoneData.id)),this.openModal("createModalMap"),this.selectedMarkerPosition={x:e.zoneX,y:e.zoneY}},getServerTimeWithOffset(){return new Date(Date.now()+this.serverTimeOffset)}},watch:{search(e){clearTimeout(this.debounce),this.debounce=setTimeout((()=>{e.length&&this.selectedFilter?(this.clearSort(),this.pageNumber=1,mp.trigger2("ipad.organization.deliveries.getData",this.pageNumber,null,this.selectedFilter.path,e),this.paginationDebounce=Date.now()/1e3+1,this.$store.commit("ipad/organization/deliveries/setLoader",!0)):!e.length&&this.selectedFilter&&(this.selectedFilter=null,this.clearSearchModifiers())}),1e3)},page(){this.openModal(null)}}};const kS=(0,et.Z)(yS,[["render",qw],["__scopeId","data-v-307de2af"]]);var vS=kS;const bS=e=>((0,o.pushScopeId)("data-v-c16153e8"),e=e(),(0,o.popScopeId)(),e),NS={class:"bots column-block align-start justify-start full-height"},VS=["onClick"],wS={class:"missions-wrapper full-height"},ES={class:"search-block"},SS={class:"search-bar align-center justify-end row-reverse-block"},CS=["placeholder"],_S={class:"missions-list"},$S={class:"missions"},DS=["onClick"],BS={class:"row-block"},xS={key:0,class:"is-personal"},zS={class:"mission-data column-block"},MS={class:"mission-data__title"},LS={class:"mission-data__subtitle"},TS={class:"additional-info"},IS={key:0,class:"timer row-block align-center"},FS={class:"timer__value"},PS={key:1,class:"active"},AS={key:0,class:"selected-mission full-height full-width column-block"},RS={class:"dialogue column-block"},OS={class:"dialogue__title"},jS={class:"dialogue__text"},ZS={class:"goals column-block"},US={class:"goals__title"},HS={class:"goals-list"},GS={key:0,class:"goal row-block"},qS={class:"text"},WS=bS((()=>(0,o.createElementVNode)("span",{class:"value"},"0",-1))),YS={class:"value"},KS={class:"goal row-block"},XS={class:"text align-center justify-start row-block"},JS={class:"award column-block"},QS={class:"award__title"},eC={class:"row-block align-center"},tC={key:0,class:"row-block align-center"},aC={class:"list-item__title"},oC={class:"list-item__value"},iC={key:0,class:"list-item__title"},lC={key:1,class:"row-block align-center"},nC={class:"list-item__title"},rC={key:0,class:"list-item__value"},sC={key:1,class:"list-item__value"},cC={key:2,class:"list-item__value"},dC={key:3,class:"list-item__title"},mC={key:2,class:"row-block align-center"},pC={class:"list-item__title"},uC={class:"list-item__value"},hC={key:0,class:"list-item__title"},gC={key:3,class:"row-block align-center"},fC={class:"list-item__title"},yC={class:"list-item__value"},kC={key:2,class:"list-item__title"},vC={key:4,class:"row-block align-center"},bC={class:"list-item__title"},NC={class:"list-item__value"},VC={key:0,class:"list-item__title"},wC={key:5,class:"row-block align-center"},EC={class:"list-item__title"},SC={class:"list-item__value"},CC={key:0,class:"list-item__title"},_C={key:0,class:"disabled"},$C={key:1,class:"disabled"},DC={class:"value"};function BC(e,t){const a=(0,o.resolveComponent)("SVGComponent");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["contracts full-width full-height row-block",e.organizationColorSchema.theme]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`,"--background":`${e.organizationColorSchema.backgroundColor}`,"--main-text-color":`${e.getCorrectContrastingFontColor(e.organizationColorSchema.main,"#fbfbfb","#060606")}`})},[e.isLoading?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createElementVNode)("div",NS,[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["bot align-center justify-center",{selected:0===e.selectedFilter}]),onClick:t[0]||(t[0]=t=>e.selectFilter(0))},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/contracts/allBots.svg"})],2),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.bots,((t,a)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["bot",{selected:e.selectedFilter===t.id}]),key:"botIndex"+a,onClick:a=>e.selectFilter(t.id)},[(0,o.createElementVNode)("div",{class:"image",style:(0,o.normalizeStyle)({"background-image":`url('${e.cdn}/img/ipad/families/bots/${t.id}.png')`})},null,4)],10,VS)))),128))]),(0,o.createElementVNode)("div",wS,[(0,o.createElementVNode)("div",ES,[(0,o.createElementVNode)("div",SS,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=t=>e.search=t),placeholder:e.$t("cef.ipad.org.database.enter-value"),class:(0,o.normalizeClass)(["search-bar__input full-height full-width",{notEmpty:e.search}])},null,10,CS),[[o.vModelText,e.search,void 0,{trim:!0}]]),(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/search.svg",class:"search-bar__picture"})])]),(0,o.createElementVNode)("div",_S,[(0,o.createElementVNode)("div",$S,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.filteredContracts,(t=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{onClick:a=>e.selectContract(t),class:(0,o.normalizeClass)(["mission row-block full-width align-center justify-between",{selected:e.selectedContract&&e.selectedContract.id===t.id}])},[(0,o.createElementVNode)("div",BS,[(0,o.createElementVNode)("div",{class:"mission-icon",style:(0,o.normalizeStyle)({"background-image":`url('${e.cdn}/img/ipad/families/bots/${t.botId}.png')`})},[t.hasPersonal?((0,o.openBlock)(),(0,o.createElementBlock)("div",xS,[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/contracts/personal.svg"})])):(0,o.createCommentVNode)("",!0)],4),(0,o.createElementVNode)("div",zS,[(0,o.createElementVNode)("span",MS,(0,o.toDisplayString)(e.$t(t.title)),1),(0,o.createElementVNode)("span",LS,(0,o.toDisplayString)(e.$t(e.getBot(t.botId).name)),1)])]),(0,o.createElementVNode)("div",TS,[t&&e.getContractCooldown(t)&&e.getContractCooldown(t)>0?((0,o.openBlock)(),(0,o.createElementBlock)("div",IS,[(0,o.createElementVNode)("span",FS,(0,o.toDisplayString)(e.getContractCooldownStr(t)),1),(0,o.createVNode)(a,{class:"timer__picture",path:"icons/ipad/apps/organizations/contracts/timer.svg"})])):t&&e.contractsData&&e.contractsData[t.id]&&null!=e.contractsData[t.id].progress&&!e.contractsData[t.id].finishedAt?((0,o.openBlock)(),(0,o.createElementBlock)("div",PS,(0,o.toDisplayString)(e.$t("cef.ipad.org.contracts.active")),1)):((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:2,class:(0,o.normalizeClass)([t.type,"type"])},[((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)(`${t.type}-svg`)))],2))])],10,DS)))),256))])])]),e.selectedContract?((0,o.openBlock)(),(0,o.createElementBlock)("div",AS,[(0,o.createElementVNode)("main",{class:(0,o.normalizeClass)(["full-height full-width",{activate:e.selectedContract&&e.selectedContract.active}])},[(0,o.createElementVNode)("div",RS,[(0,o.createVNode)(a,{class:"quote",path:"icons/ipad/apps/organizations/contracts/quote.svg"}),(0,o.createElementVNode)("span",OS,(0,o.toDisplayString)(e.$t("cef.ipad.org.contracts.description")),1),(0,o.createElementVNode)("span",jS,(0,o.toDisplayString)(e.$t(e.selectedContract.description,e.getContractDescriptionArgs(e.selectedContract))),1)]),(0,o.createElementVNode)("div",ZS,[(0,o.createElementVNode)("span",US,(0,o.toDisplayString)(e.$t("cef.ipad.org.contracts.goals")),1),(0,o.createElementVNode)("div",HS,[e.selectedContract.task?((0,o.openBlock)(),(0,o.createElementBlock)("div",GS,[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["checkbox",{finished:e.checkTaskCompleted(e.selectedContract)}])},[e.checkTaskCompleted(e.selectedContract)?((0,o.openBlock)(),(0,o.createBlock)(a,{key:0,class:"checkbox__picture",path:"icons/ipad/apps/organizations/contracts/tick.svg"})):(0,o.createCommentVNode)("",!0)],2),(0,o.createElementVNode)("div",qS,[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t(e.selectedContract.task.title,e.getContractDescriptionArgs(e.selectedContract)))+" ",1),e.contractsData&&e.contractsData[e.selectedContract.id]?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[e.contractsData[e.selectedContract.id].nextStart?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createTextVNode)(": "),WS,(0,o.createTextVNode)(" / "+(0,o.toDisplayString)(e.getContractData(e.selectedContract,"progress")),1)],64)):e.contractsData[e.selectedContract.id]?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:1},[(0,o.createTextVNode)(": "),(0,o.createElementVNode)("span",YS,(0,o.toDisplayString)(e.contractsData[e.selectedContract.id].progress||0),1),(0,o.createTextVNode)(" / "+(0,o.toDisplayString)(e.getContractData(e.selectedContract,"progress")),1)],64)):(0,o.createCommentVNode)("",!0)],64)):(0,o.createCommentVNode)("",!0)])])):e.selectedContract.tasks?((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,{key:1},(0,o.renderList)(e.selectedContract.tasks,((t,i)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",KS,[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["checkbox",{finished:e.contractsData&&e.contractsData[e.selectedContract.id]&&e.contractsData[e.selectedContract.id].tasks&&e.contractsData[e.selectedContract.id].tasks[i+1]}])},[e.contractsData&&e.contractsData[e.selectedContract.id]&&e.contractsData[e.selectedContract.id].tasks&&e.contractsData[e.selectedContract.id].tasks[i+1]?((0,o.openBlock)(),(0,o.createBlock)(a,{key:0,class:"checkbox__picture",path:"icons/ipad/apps/organizations/contracts/tick.svg"})):(0,o.createCommentVNode)("",!0)],2),(0,o.createElementVNode)("div",XS,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.$t(t.title)),1)])])))),256)):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",JS,[(0,o.createElementVNode)("span",QS,(0,o.toDisplayString)(e.$t("cef.ipad.org.contracts.award")),1),(0,o.createElementVNode)("ul",null,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.selectedContract.award,(t=>((0,o.openBlock)(),(0,o.createElementBlock)("li",eC,["money"===t.type&&t.dynamic?((0,o.openBlock)(),(0,o.createElementBlock)("div",tC,[(0,o.createElementVNode)("span",aC,(0,o.toDisplayString)(e.$t("family.contracts."+t.type))+":",1),(0,o.createVNode)(a,{class:"list-item__correlation",path:"icons/ipad/apps/organizations/contracts/plus.svg"}),(0,o.createElementVNode)("span",oC,(0,o.toDisplayString)(e.getAmount(e.getContractData(e.selectedContract,"money"))),1),((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)("money-svg"),{class:(0,o.normalizeClass)(["list-item__picture",t.type])},null,8,["class"])),t.chance?((0,o.openBlock)(),(0,o.createElementBlock)("span",iC," | "+(0,o.toDisplayString)(e.$t("cef.cef.ipad.org.contracts.chance"))+" "+(0,o.toDisplayString)(t.chance),1)):(0,o.createCommentVNode)("",!0)])):"money"===t.type&&"task"===t.amount&&(e.getContractData(e.selectedContract,"maxCount")||e.getContractData(e.selectedContract,"minCount"))?((0,o.openBlock)(),(0,o.createElementBlock)("div",lC,[(0,o.createElementVNode)("span",nC,(0,o.toDisplayString)(e.$t("family.contracts."+t.type))+":",1),(0,o.createVNode)(a,{class:"list-item__correlation",path:"icons/ipad/apps/organizations/contracts/plus.svg"}),e.getContractData(e.selectedContract,"maxCount")&&e.getContractData(e.selectedContract,"minCount")?((0,o.openBlock)(),(0,o.createElementBlock)("span",rC,(0,o.toDisplayString)(e.getAmount([e.getContractData(e.selectedContract,"minCount"),e.getContractData(e.selectedContract,"maxCount")])),1)):e.getContractData(e.selectedContract,"maxCount")?((0,o.openBlock)(),(0,o.createElementBlock)("span",sC,(0,o.toDisplayString)(e.getAmount(e.getContractData(e.selectedContract,"maxCount"))),1)):((0,o.openBlock)(),(0,o.createElementBlock)("span",cC,(0,o.toDisplayString)(e.getAmount(e.getContractData(e.selectedContract,"minCount"))),1)),((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)("money-svg"),{class:(0,o.normalizeClass)(["list-item__picture",t.type])},null,8,["class"])),t.chance?((0,o.openBlock)(),(0,o.createElementBlock)("span",dC," | "+(0,o.toDisplayString)(e.$t("cef.ipad.org.contracts.chance"))+" "+(0,o.toDisplayString)(t.chance),1)):(0,o.createCommentVNode)("",!0)])):"money"===t.type&&"task"!==t.amount?((0,o.openBlock)(),(0,o.createElementBlock)("div",mC,[(0,o.createElementVNode)("span",pC,(0,o.toDisplayString)(e.$t("family.contracts."+t.type))+":",1),(0,o.createVNode)(a,{class:"list-item__correlation",path:"icons/ipad/apps/organizations/contracts/plus.svg"}),(0,o.createElementVNode)("span",uC,(0,o.toDisplayString)(e.getAmount(t.amount)),1),((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)("money-svg"),{class:(0,o.normalizeClass)(["list-item__picture",t.type])},null,8,["class"])),t.chance?((0,o.openBlock)(),(0,o.createElementBlock)("span",hC," | "+(0,o.toDisplayString)(e.$t("cef.ipad.org.contracts.chance"))+" "+(0,o.toDisplayString)(t.chance),1)):(0,o.createCommentVNode)("",!0)])):"reputation"===t.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",gC,[(0,o.createElementVNode)("span",fC,(0,o.toDisplayString)(e.$t("family.contracts."+t.type))+":",1),t.amount>0?((0,o.openBlock)(),(0,o.createBlock)(a,{key:0,class:"list-item__correlation",path:"icons/ipad/apps/organizations/contracts/plus.svg"})):((0,o.openBlock)(),(0,o.createBlock)(a,{key:1,class:"list-item__correlation minus",path:"icons/ipad/apps/organizations/contracts/minus.svg"})),(0,o.createElementVNode)("span",yC,(0,o.toDisplayString)(e.getAmount(t.amount)),1),(0,o.createVNode)(a,{path:`icons/ipad/apps/organizations/contracts/${t.amount>0?"Legal":"Illegal"}.svg`,class:(0,o.normalizeClass)(["list-item__picture",{illegal:t.amount<0,legal:t.amount>0}])},null,8,["path","class"]),t.chance?((0,o.openBlock)(),(0,o.createElementBlock)("span",kC," | "+(0,o.toDisplayString)(e.$t("cef.ipad.org.contracts.chance"))+" "+(0,o.toDisplayString)(t.chance),1)):(0,o.createCommentVNode)("",!0)])):"exp"===t.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",vC,[(0,o.createElementVNode)("span",bC,(0,o.toDisplayString)(e.$t("family.contracts."+t.type))+":",1),(0,o.createVNode)(a,{class:"list-item__correlation",path:"icons/ipad/apps/organizations/contracts/plus.svg"}),(0,o.createElementVNode)("span",NC,(0,o.toDisplayString)(e.getAmount(t.amount)),1),(0,o.createVNode)(a,{class:(0,o.normalizeClass)(["list-item__picture",t.type]),path:"icons/ipad/apps/organizations/contracts/experience.svg"},null,8,["class"]),t.chance?((0,o.openBlock)(),(0,o.createElementBlock)("span",VC," | "+(0,o.toDisplayString)(e.$t("cef.ipad.org.contracts.chance"))+" "+(0,o.toDisplayString)(t.chance),1)):(0,o.createCommentVNode)("",!0)])):"item"===t.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",wC,[(0,o.createElementVNode)("span",EC,(0,o.toDisplayString)(e.$t("family.contracts."+t.type))+":",1),(0,o.createVNode)(a,{class:"list-item__correlation",path:"icons/ipad/apps/organizations/contracts/plus.svg"}),(0,o.createElementVNode)("span",SC,(0,o.toDisplayString)(e.$t("items."+t.itemId+".title")),1),t.chance?((0,o.openBlock)(),(0,o.createElementBlock)("span",CC," | "+(0,o.toDisplayString)(e.$t("cef.ipad.org.contracts.chance"))+" "+(0,o.toDisplayString)(t.chance),1)):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0)])))),256))])]),e.contractsData&&e.contractsData[e.selectedContract.id]&&null!=e.contractsData[e.selectedContract.id].progress&&!e.contractsData[e.selectedContract.id].finishedAt?((0,o.openBlock)(),(0,o.createElementBlock)("footer",_C,(0,o.toDisplayString)(e.$t("cef.ipad.org.contracts.contract-active")),1)):e.getContractCooldown(e.selectedContract)&&e.getContractCooldown(e.selectedContract)>0?((0,o.openBlock)(),(0,o.createElementBlock)("footer",$C,(0,o.toDisplayString)(e.$t("cef.ipad.org.contracts.contract-available-after"))+" "+(0,o.toDisplayString)(e.getContractCooldownStr(e.selectedContract)),1)):((0,o.openBlock)(),(0,o.createElementBlock)("footer",{key:2,onClick:t[2]||(t[2]=(...t)=>e.startContract&&e.startContract(...t))},[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("cef.ipad.org.contracts.activate-contract"))+" ",1),(0,o.createElementVNode)("span",DC,(0,o.toDisplayString)(e.$n(e.selectedContract.price,"any-number")),1),(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/contracts/money.svg"})]))],2)])):(0,o.createCommentVNode)("",!0)],64))],6)}var xC=a(52243),zC=a(27484),MC=a.n(zC),LC={name:"contracts",mixins:[xC.Z,Ge.Z,Je.Z],data(){return{selectedFilter:0,selectedContract:null,search:""}},computed:{...(0,He.rn)({contracts:e=>e.ipad.organization.contracts.contracts,bots:e=>e.ipad.organization.contracts.bots,contractsData:e=>e.ipad.organization.contracts.contractsData,organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],isLoading:e=>e.ipad.organization.isLoading,serverTimeOffset:e=>e.main.serverTimeOffset}),filteredContracts(){if(!this.selectedFilter&&!this.search)return this.contracts;if(this.selectedFilter&&!this.search)return this.contracts.filter((e=>e.botId===this.selectedFilter));if(!this.selectedFilter&&this.search)return this.contracts.filter((e=>this.$t(e.title).toLowerCase().includes(this.search.toLowerCase())));if(this.selectedFilter&&this.search){const e=this.contracts.filter((e=>e.botId===this.selectedFilter));return e.filter((e=>this.$t(e.title).toLowerCase().includes(this.search.toLowerCase())))}}},methods:{getBot(e){return this.bots.find((t=>t.id===e))},getContractDescriptionArgs(e){if(!e||!e.task||!e.task.rules)return{};if(!this.contractsData||!this.contractsData[e.id]||null==this.contractsData[e.id].randomValue)return{};const t=this.contractsData[e.id].randomValue,a=e.task.rules[t];return{count:a.progress,title:this.getItemTitle({itemId:a.itemId}),peoples:parseInt(a.count/a.playerLimit),max:a.playerLimit}},getContractData(e,t){if(e.task&&e.task.rules){const a=this.contractsData[e.id].randomValue;return e.task.rules[a][t]}return e.task[t]},timeConvert(e){var t=e,a=t/60,o=Math.floor(a),i=60*(a-o),l=Math.round(i);return`${o}${this.$t("cef.ipad.org.contracts.hours")} ${l}${this.$t("cef.ipad.org.contracts.minutes")}`},getContractCooldown(e){if(!this.contractsData)return!1;if(e?.task?.rules?.executionHideTime)return!1;const t=this.contractsData[e.id];return!!t&&(t.executionTime?this.$dayjs.tz(t.executionTime).diff(MC().tz(this.getServerTimeWithOffset()),"minutes"):!!t.finishedAt&&this.$dayjs.tz(t.nextStart).diff(MC().tz(this.getServerTimeWithOffset()),"minutes"))},getContractCooldownStr(e){const t=this.getContractCooldown(e);return!!t&&this.timeConvert(t)},getServerTimeWithOffset(){return new Date(Date.now()+this.serverTimeOffset)},checkTaskCompleted(e){const t=this.getContractCooldown(e);return!1!==t&&(!t||t>=0)},selectFilter(e){this.selectedFilter=e,this.selectedContract=null},selectContract(e){this.selectedContract=e},startContract(){mp.trigger2("ipad.organization.contracts.startContract",this.selectedContract.id)},getMultiContractCount(e){const t=this.contractsData[e.id];return Object.keys(t.players).map((e=>t.players[e])).reduce(((t,a)=>t+(a>this.getContractData(e,"playerLimit")?this.getContractData(e,"playerLimit"):a)),0)},getAmount(e){return Array.isArray(e)?Math.abs(e[0])===Math.abs(e[e.length-1])?this.$n(Math.abs(e[0]),"any-number"):`${this.$n(Math.abs(e[0]),"any-number")} - ${this.$n(Math.abs(e[e.length-1]),"any-number")}`:this.$n(Math.abs(e),"any-number")}}};const TC=(0,et.Z)(LC,[["render",BC],["__scopeId","data-v-c16153e8"]]);var IC=TC;const FC={class:"main-info full-height column-block justify-start align-center"},PC={class:"logo full-width"},AC={class:"main-info__title"},RC={class:"main-info__subtitle"},OC={class:"level column-block full-width"},jC={class:"level-data row-block full-width justify-between"},ZC={class:"row-block"},UC={class:"level-data__text-level"},HC={class:"level-data__title"},GC={class:"row-block align-center"},qC={class:"level-data__value-current"},WC={class:"level-data__value-max"},YC={class:"level-progress full-width"},KC={key:0,class:"org-rating"},XC={class:"org-rating__title"},JC={class:"reputation-container"},QC={class:"reputation-container__value"},e_={class:"reputation-change__value"},t_={class:"reputation row-block full-width align-center justify-between"},a_={class:"reputation__title"},o_={class:"row-block align-center"},i_={class:"reputation__value"},l_={class:"balance column-block full-width"},n_={class:"balance-data__title"},r_={class:"balance-container justify-between row-block align-center"},s_={class:"balance-data__subtitle"},c_={class:"row-block align-center"},d_={class:"balance-data__value"},m_={class:"slots full-width column-block"},p_={class:"slots__title"},u_={class:"slots-container full-width row-block justify-between"},h_={class:"slots-container__title"},g_={class:"row-block"},f_={class:"slots-container__value-current"},y_={class:"slots-container__value-max"},k_={class:"slots-container full-width row-block justify-between"},v_={class:"slots-container__title"},b_={class:"row-block"},N_={class:"slots-container__value-current"},V_={class:"slots-container__value-max"},w_={class:"messages full-height full-width"},E_={class:"full-width align-center"},S_={class:"row-block full-width full-height"},C_={class:"item column-block"},__={key:0,class:"item__title flex-block"},$_={key:1,class:"item__title flex-block"},D_={class:"dates column-block"},B_={key:0,class:"dates__text-frozen"},x_={key:1,class:"row-block"},z_={key:0,class:"dates__title"},M_={key:1,class:"dates__title"},L_={class:"dates__text-deadline"},T_={key:2,class:"left flex-block"},I_={class:"dates__title"},F_={class:"dates__text-deadline"},P_={key:3,class:"left flex-block"},A_={class:"dates__title"},R_={key:0,class:"dates__text-deadline"},O_={key:1,class:"dates__text-deadline"},j_={class:"item__text flex-block"},Z_={class:"tax column-block full-width"},U_=["onClick"],H_={class:"item__text flex-block"},G_={class:"tax column-block full-width"},q_={class:"action full-width"};function W_(e,t){const a=(0,o.resolveComponent)("SVGComponent"),i=(0,o.resolveComponent)("Modal");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["family-info row-block",e.organizationColorSchema.theme]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`,"--background":`${e.organizationColorSchema.backgroundColor}`})},[e.isLoading?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createElementVNode)("div",FC,[(0,o.createElementVNode)("div",PC,[e.organizationColorSchema.logo?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:"logo__picture",style:(0,o.normalizeStyle)({"background-image":`url(${e.organizationColorSchema.logo})`})},null,4)):((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:1,class:"logo__picture",style:(0,o.normalizeStyle)({"background-image":`url('${e.cdn}/img/ipad/apps/organizations/family.svg')`})},null,4))]),(0,o.createElementVNode)("span",AC,(0,o.toDisplayString)(e.unescapeString(e.family.title)),1),(0,o.createElementVNode)("span",RC,(0,o.toDisplayString)(e.unescapeString(e.family.tag)),1),(0,o.createElementVNode)("div",{class:"edit-family full-width",onClick:t[0]||(t[0]=t=>e.setModal({type:"editor"}))},(0,o.toDisplayString)(e.$t("cef.ipad.org.familyInfo.edit-profile")),1),(0,o.createElementVNode)("div",OC,[(0,o.createElementVNode)("div",jC,[(0,o.createElementVNode)("div",ZC,[(0,o.createElementVNode)("span",UC,(0,o.toDisplayString)(e.family.level),1),(0,o.createElementVNode)("span",HC,(0,o.toDisplayString)(e.$t("cef.ipad.org.familyInfo.level")),1)]),(0,o.createElementVNode)("div",GC,[(0,o.createElementVNode)("span",qC,(0,o.toDisplayString)(e.family.exp)+" ",1),(0,o.createElementVNode)("span",WC,"/ "+(0,o.toDisplayString)(e.family.needExp||"∞"),1),(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/familyInfo/experience.svg",class:"level-data__picture"})])]),(0,o.createElementVNode)("div",YC,[(0,o.createElementVNode)("div",{class:"progress",style:(0,o.normalizeStyle)({width:e.family.exp/e.family.needExp*100+"%"})},null,4)])]),e.family.rating?((0,o.openBlock)(),(0,o.createElementBlock)("div",KC,[(0,o.createElementVNode)("span",XC,(0,o.toDisplayString)(e.$t("cef.ipad.org.familyInfo.org-rating")),1),(0,o.createElementVNode)("div",JC,[(0,o.createElementVNode)("span",QC,(0,o.toDisplayString)(e.formatNumber(e.family.rating?.currentPlace||0)),1),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["reputation-change down",e.family.rating?.difference<0?"down":"up"])},[(0,o.createVNode)(a,{class:"reputation-change__icon",path:"icons/F4/Donate/Detailing/chevron.svg"}),(0,o.createElementVNode)("span",e_,(0,o.toDisplayString)(Math.abs(e.family.rating?.difference||0)),1)],2)])])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",t_,[(0,o.createElementVNode)("span",a_,(0,o.toDisplayString)(e.$t("cef.ipad.org.familyInfo.reputation")),1),(0,o.createElementVNode)("div",o_,[0!==e.family.reputation?((0,o.openBlock)(),(0,o.createBlock)(a,{key:0,class:(0,o.normalizeClass)([e.reputationType,"reputation__picture correlation"]),path:`icons/ipad/apps/organizations/contracts/${e.reputationType}.svg`},null,8,["class","path"])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("span",i_,(0,o.toDisplayString)(Math.abs(e.family.reputation)),1),(0,o.createVNode)(a,{path:`icons/ipad/apps/organizations/contracts/${e.reputationType}.svg`,class:(0,o.normalizeClass)([e.reputationType,"reputation__picture"])},null,8,["path","class"])])]),(0,o.createElementVNode)("div",l_,[(0,o.createElementVNode)("span",n_,(0,o.toDisplayString)(e.$t("cef.ipad.org.familyInfo.org-balance"))+":",1),(0,o.createElementVNode)("div",r_,[(0,o.createElementVNode)("span",s_,(0,o.toDisplayString)(e.$t("cef.ipad.org.familyInfo.dollars"))+":",1),(0,o.createElementVNode)("div",c_,[(0,o.createElementVNode)("span",d_,(0,o.toDisplayString)(e.$n(e.family.money/100,"any-number")),1),(0,o.createVNode)(a,{class:"balance-data__picture",path:"icons/ipad/apps/organizations/contracts/money.svg"})])])]),(0,o.createElementVNode)("div",m_,[(0,o.createElementVNode)("span",p_,(0,o.toDisplayString)(e.$t("cef.ipad.org.familyInfo.org-slots"))+":",1),(0,o.createElementVNode)("div",u_,[(0,o.createElementVNode)("span",h_,(0,o.toDisplayString)(e.$t("cef.ipad.org.familyInfo.members-slots"))+":",1),(0,o.createElementVNode)("div",g_,[(0,o.createElementVNode)("span",f_,(0,o.toDisplayString)(e.currentMembersCount)+" ",1),(0,o.createElementVNode)("span",y_,"/ "+(0,o.toDisplayString)(e.totalMembersCount),1)])]),(0,o.createElementVNode)("div",k_,[(0,o.createElementVNode)("span",v_,(0,o.toDisplayString)(e.$t("cef.ipad.org.familyInfo.garage-places"))+":",1),(0,o.createElementVNode)("div",b_,[(0,o.createElementVNode)("span",N_,(0,o.toDisplayString)(e.garage.current)+" ",1),(0,o.createElementVNode)("span",V_,"/ "+(0,o.toDisplayString)(e.garage.max),1)])])]),e.family.leaderId===e.accountId?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:1,class:"leave-family full-width",onClick:t[1]||(t[1]=t=>e.setModal({type:"remove-family"}))},(0,o.toDisplayString)(e.$t("cef.ipad.org.familyInfo.delete-family")),1)):((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:2,class:"leave-family full-width",onClick:t[2]||(t[2]=t=>e.setModal({type:"leave-family"}))},(0,o.toDisplayString)(e.$t("cef.ipad.org.familyInfo.leave-family")),1))]),(0,o.createElementVNode)("div",w_,[(0,o.createElementVNode)("header",E_,(0,o.toDisplayString)(e.$t("cef.ipad.org.familyInfo.bills")),1),(0,o.createElementVNode)("main",S_,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.messages.filter((e=>"mapObject"!==e.type)),((t,a)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",C_,["tax"===t.type?((0,o.openBlock)(),(0,o.createElementBlock)("span",__,(0,o.toDisplayString)(e.$t(t.title,t.args)),1)):((0,o.openBlock)(),(0,o.createElementBlock)("span",$_,(0,o.toDisplayString)(t.title),1)),(0,o.createElementVNode)("div",D_,["frozen"===t.type?((0,o.openBlock)(),(0,o.createElementBlock)("span",B_,(0,o.toDisplayString)(t.received),1)):((0,o.openBlock)(),(0,o.createElementBlock)("div",x_,["tax"===t.type?((0,o.openBlock)(),(0,o.createElementBlock)("span",z_,(0,o.toDisplayString)(e.$t("cef.ipad.org.familyInfo.paid-until"))+":",1)):((0,o.openBlock)(),(0,o.createElementBlock)("span",M_,(0,o.toDisplayString)(e.$t("cef.ipad.org.familyInfo.last-until"))+":",1)),(0,o.createElementVNode)("span",L_,(0,o.toDisplayString)(e.$dayjs(t.paidUntil).format("DD.MM.YYYY HH:mm")),1)])),"tax"===t.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",T_,[(0,o.createElementVNode)("span",I_,(0,o.toDisplayString)(e.$t("cef.ipad.org.familyInfo.left"))+":",1),(0,o.createElementVNode)("span",F_,(0,o.toDisplayString)(e.$dayjs(t.paidUntil).diff(e.$dayjs(),"day"))+" "+(0,o.toDisplayString)(e.$t("cef.ipad.org.familyInfo.days")),1)])):(0,o.createCommentVNode)("",!0),"tax"===t.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",P_,[(0,o.createElementVNode)("span",A_,(0,o.toDisplayString)(e.$t("cef.ipad.org.familyInfo.dayRoyalty"))+":",1),"money"===t.royaltyType?((0,o.openBlock)(),(0,o.createElementBlock)("span",R_,(0,o.toDisplayString)(e.$n(t.dayRoyalty,"game-currency")),1)):"coins"===t.royaltyType?((0,o.openBlock)(),(0,o.createElementBlock)("span",O_,(0,o.toDisplayString)(e.$n(t.dayRoyalty,"any-number"))+" MC",1)):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0)]),"tax"===t.type?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:2},[(0,o.createElementVNode)("span",j_,(0,o.toDisplayString)(e.$t("cef.ipad.org.familyInfo.familyTax")),1),(0,o.createElementVNode)("div",Z_,[(0,o.createElementVNode)("div",{class:"action full-width",onClick:a=>e.setModal({type:"pay",data:t})},(0,o.toDisplayString)(e.$t("cef.ipad.org.familyInfo.pay")),9,U_)])],64)):"frozen"===t.type?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:3},[(0,o.createElementVNode)("span",H_,(0,o.toDisplayString)(e.$t("cef.ipad.org.familyInfo.familyTax")),1),(0,o.createElementVNode)("div",G_,[(0,o.createElementVNode)("div",q_,(0,o.toDisplayString)(e.$t("cef.ipad.org.familyInfo.delete-family")),1)])],64)):(0,o.createCommentVNode)("",!0)])))),256))])]),(0,o.createVNode)(o.Transition,{name:"local-fade",appear:""},{default:(0,o.withCtx)((()=>[e.modal.type?((0,o.openBlock)(),(0,o.createBlock)(i,{key:0,modal:e.modal,onSetModal:e.setModal},null,8,["modal","onSetModal"])):(0,o.createCommentVNode)("",!0)])),_:1})],64))],6)}const Y_={class:"modal-container__title full-width align-center"},K_={key:0,class:"pay column-block"},X_={class:"column-block align-start justify-start"},J_={class:"title"},Q_={class:"price row-block align-center justify-start"},e$={class:"row-block align-center justify-between"},t$={class:"text"},a$={class:"text"},o$={class:"control-buttons row-block justify-between"},i$={key:1,class:"editor column-block"},l$={class:"price"},n$={key:2,class:"leave column-block"},r$={class:"title"},s$={class:"control-buttons row-block align-center justify-between"},c$={key:3,class:"remove column-block"},d$={class:"title first"},m$={class:"title"},p$={class:"control-buttons align-center justify-between row-block"};function u$(e,t){const a=(0,o.resolveComponent)("SVGComponent"),i=(0,o.resolveComponent)("moneySelect"),l=(0,o.resolveComponent)("FamilyEditor");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"modal full-height full-width"]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`,"--background":`${e.organizationColorSchema.backgroundColor}`,"--pickColor":`${e.appearance&&e.appearance.pickedColor?e.appearance.pickedColor:"#456DCB"}`,"--pick-text-color":`${e.getCorrectContrastingFontColor(e.appearance&&e.appearance.pickedColor?e.appearance.pickedColor:e.organizationColorSchema.main,"#fbfbfb","#060606")}`}),onClick:t[8]||(t[8]=(0,o.withModifiers)((t=>e.setModal(null)),["self"]))},[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["modal-container column-block",e.modal.type])},[(0,o.createElementVNode)("div",Y_,(0,o.toDisplayString)(e.header),1),(0,o.createElementVNode)("div",{onClick:t[0]||(t[0]=t=>e.setModal(null)),class:"flex-block close-block"},[(0,o.createVNode)(a,{path:"icons/global/cross.svg"})]),"pay"===e.modal.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",K_,[(0,o.createElementVNode)("div",X_,[(0,o.createElementVNode)("div",J_,(0,o.toDisplayString)(e.$t("cef.ipad.org.familyInfo.modal.day-price")),1),(0,o.createElementVNode)("div",Q_,["coins"===e.modal.data.royaltyType?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createVNode)(a,{path:"icons/createFamily/mc.svg",class:"mc-icon"}),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.$n(e.modal.data.dayRoyalty,"any-number")),1)],64)):((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:1},[(0,o.createTextVNode)((0,o.toDisplayString)(e.countMoneyToDollar(e.modal.data.dayRoyalty,!1,!1)),1)],64))])]),(0,o.createElementVNode)("div",e$,[(0,o.createElementVNode)("div",t$,(0,o.toDisplayString)(e.$t("cef.ipad.org.familyInfo.modal.days-amount")),1),(0,o.createElementVNode)("div",a$,(0,o.toDisplayString)(e.$t("cef.ipad.org.familyInfo.modal.payment-sum")),1)]),(0,o.createVNode)(i,{slider:e.amountSlider,symbol:"",additionalSymbol:"coins"===e.modal.data.royaltyType?{type:"icon",icon:"Mc"}:"$",placeholder:e.$t("cef.ipad.org.fines.enter-value"),getValue:e.amount,additionalValueIsInput:!0,additionalSlider:e.additionalSlider,additionalPlaceholder:e.$t("cef.ipad.org.fines.enter-value"),additionalGetValue:e.additionalValue,"onUpdate:modelValue":e.updateAmount,onAdditionalInput:e.updateAdditionalValue,disabled:e.amountSlider.max<=0||e.amountSlider.max===e.amountSlider.min,class:(0,o.normalizeClass)({disabled:e.amountSlider.max<=0||e.amountSlider.max===e.amountSlider.min})},null,8,["slider","additionalSymbol","placeholder","getValue","additionalSlider","additionalPlaceholder","additionalGetValue","onUpdate:modelValue","onAdditionalInput","disabled","class"]),(0,o.createElementVNode)("div",o$,[(0,o.createElementVNode)("div",{onClick:t[1]||(t[1]=t=>e.payFamilyTax(e.amount)),class:"control-button"},(0,o.toDisplayString)(e.$t("cef.ipad.org.familyInfo.modal.execute")),1),(0,o.createElementVNode)("div",{onClick:t[2]||(t[2]=t=>e.setModal(null)),class:"control-button"},(0,o.toDisplayString)(e.$t("cef.ipad.org.familyInfo.modal.discard")),1)])])):"editor"===e.modal.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",i$,[(0,o.createVNode)(l,{mode:"edit",onSetAppearance:e.setOrganizationAppearance},null,8,["onSetAppearance"]),(0,o.createElementVNode)("div",{onClick:t[3]||(t[3]=(...t)=>e.updateFamily&&e.updateFamily(...t)),class:"next-step full-width align-center justify-center"},[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("cef.ipad.org.familyInfo.update-family-info"))+" ",1),(0,o.createElementVNode)("span",l$,(0,o.toDisplayString)(e.countMoneyToDollar(2e5,!1,!1)),1)])])):"leave-family"===e.modal.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",n$,[(0,o.createElementVNode)("span",r$,(0,o.toDisplayString)(e.$t("cef.ipad.org.familyInfo.modal.leave-confirmation")),1),(0,o.createElementVNode)("div",s$,[(0,o.createElementVNode)("div",{class:"control-button full-width",onClick:t[4]||(t[4]=t=>e.leaveFamily())},(0,o.toDisplayString)(e.$t("cef.ipad.org.familyInfo.modal.confirm")),1),(0,o.createElementVNode)("div",{class:"control-button full-width",onClick:t[5]||(t[5]=t=>e.setModal(null))},(0,o.toDisplayString)(e.$t("cef.ipad.org.familyInfo.modal.discard")),1)])])):"remove-family"===e.modal.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",c$,[(0,o.createElementVNode)("span",d$,(0,o.toDisplayString)(e.$t("cef.ipad.org.familyInfo.modal.delete-family")),1),(0,o.createElementVNode)("span",m$,(0,o.toDisplayString)(e.$t("cef.ipad.org.familyInfo.modal.delete-family-message")),1),(0,o.createElementVNode)("div",p$,[(0,o.createElementVNode)("div",{class:"control-button full-width",onClick:t[6]||(t[6]=t=>e.removeFamily())},(0,o.toDisplayString)(e.$t("cef.ipad.org.familyInfo.modal.confirm")),1),(0,o.createElementVNode)("div",{class:"control-button full-width",onClick:t[7]||(t[7]=t=>e.setModal(null))},(0,o.toDisplayString)(e.$t("cef.ipad.org.familyInfo.modal.discard")),1)])])):(0,o.createCommentVNode)("",!0)],2)],6)}var h$=a(37946),g$=a(23678),f$=a(49963),y$={name:"modal",components:{FamilyEditor:h$.Z,moneySelect:Up.Z,Loader:g$.Z},mixins:[Je.Z],props:{modal:{type:Object,required:!0}},data(){return{selectedType:null,duration:12,loading:!1,days:1,types:[],amount:1,additionalValue:10500,amountSlider:{min:1,max:14},additionalSlider:{min:750,max:10500,interval:750},appearance:null}},computed:{...(0,He.rn)({organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],familyTitle:e=>e.ipad.familyTitle,familyTag:e=>e.ipad.familyTag,familyMainColor:e=>e.ipad.colorSchema.family.main,familyTheme:e=>e.ipad.colorSchema.family.theme,familyBlipColor:e=>e.ipad.colorSchema.family.blipColor}),header(){switch(this.modal.type){case"pay":return this.$t("cef.ipad.org.familyInfo.modal.tax-payment");case"editor":return this.$t("cef.ipad.org.familyInfo.modal.edit-profile");case"leave-family":case"remove-family":return this.$t("cef.ipad.org.familyInfo.modal.confirm-action")}}},methods:{...(0,He.OI)({showNotify:"main/showNotify"}),...(0,He.nv)({updateFamilyData:"ipad/updateFamilyData"}),updateLimits(){let e,t;this.modal.data.payLimit?(e={min:1,max:this.modal.data.payLimit},t={min:this.modal.data.dayRoyalty,max:this.modal.data.payLimit*this.modal.data.dayRoyalty,interval:this.modal.data.dayRoyalty}):(e={min:1,max:14},t={min:this.modal.data.dayRoyalty,max:14*this.modal.data.dayRoyalty,interval:this.modal.data.dayRoyalty}),this.amountSlider={min:e.min,max:e.max},this.amount=e.min,this.additionalSlider={min:Math.min(t.min,this.amount*this.modal.data.dayRoyalty),max:Math.min(t.max,this.amountSlider.max*this.modal.data.dayRoyalty),interval:t.interval},this.additionalValue=Math.min(t.min,this.amount*this.modal.data.dayRoyalty)},updateAmount(e){this.amount=e},updateAdditionalValue(e){this.additionalValue=e},setOrganizationAppearance(e){this.appearance=e},setModal(e){this.$emit("setModal",e)},leaveFamily(){this.$emit("setModal",null),mp.trigger2("ipad.organization.familyInfo.leaveFamily")},removeFamily(){this.$emit("setModal",null),mp.trigger2("ipad.organization.familyInfo.removeFamily")},payFamilyTax(e){mp.trigger2("ipad.organization.familyInfo.payFamilyTax",this.modal.data.propType,parseInt(e)),this.$emit("setModal",null)},changeType(e){this.selectedType=e},updateFamily(){if(!this.appearance||!this.appearance.title)return this.showNotify({text:this.$t("cef.createFamily.creating-messages.name-error"),type:"error"});if(this.appearance.title.length<4||this.appearance.title.length>20)return this.showNotify({text:this.$t("cef.createFamily.creating-messages.name-length"),type:"error"});if(!this.appearance.tag||this.appearance.tag.length<2||this.appearance.tag.length>4)return this.showNotify({text:this.$t("cef.createFamily.creating-messages.tag-length"),type:"error"});if(!this.appearance.pickedColor)return this.showNotify({text:this.$t("cef.createFamily.creating-messages.choose-main-color"),type:"error"});if(!this.appearance.selectedBlip)return this.showNotify({text:this.$t("cef.createFamily.creating-messages.choose-hud-color"),type:"error"});const e=this.appearance.ipadStyle===this.$t("cef.ipad.org.familyInfo.modal.black")?"black":"white";if(this.familyTitle===this.appearance.title&&this.familyTag===this.appearance.tag&&this.familyMainColor===this.appearance.pickedColor&&e===this.familyTheme&&this.familyBlipColor===this.appearance.selectedBlip&&(!this.appearance.logoFile||"string"!==typeof this.appearance.logoFile.name))return this.showNotify({text:this.$t("cef.createFamily.update-messages.you-havent-changed-anything"),type:"error"});let t=null;if(this.appearance.logoFile&&"string"===typeof this.appearance.logoFile.name&&(t=this.appearance.logoFile.name.split(".").pop(),!["png","jpg","jpeg"].includes(t)))return this.showNotify({text:this.$t("cef.createFamily.creating-messages.wrong-image-type"),type:"error"});mp.trigger2("family.updateFamily",this.appearance.title,this.appearance.tag,this.appearance.pickedColor,e,this.appearance.selectedBlip,!!t,t),this.loading=!0},async updateFamilyResult(e,t,a,o,i){if(e){if("string"===typeof t&&16===t.length)try{const e=await(0,f$.y)(t,o,this.appearance.logoFile.instance);e.status?this.showNotify({text:this.$t("cef.createFamily.creating-messages.logo-loaded"),type:"success"}):this.showNotify({text:this.$t("cef.createFamily.creating-messages.logo-uploading-failed"),type:"error"})}catch(l){console.error(l),this.showNotify({text:this.$t("cef.createFamily.creating-messages.logo-uploading-failed"),type:"error"})}this.updateFamilyData(i),this.setModal(null),mp.trigger2("family.updateComplete"),this.loading=!1}else this.loading=!1}},watch:{amount(e){this.additionalValue=e*this.modal.data.dayRoyalty},additionalValue(e){this.amount=Math.floor(e/this.modal.data.dayRoyalty)},payLimit(){this.updateLimits()}},mounted(){window["family.updateFamilyResult"]=this.updateFamilyResult},created(){this.types={title:this.$t("cef.ipad.org.familyInfo.modal.change-owner"),type:"change-leader"},this.updateLimits()},unmounted(){delete window["family.updateFamilyResult"]}};const k$=(0,et.Z)(y$,[["render",u$],["__scopeId","data-v-6ada3059"]]);var v$=k$,b$={name:"familyInfo",mixins:[Ge.Z],components:{Modal:v$},mounted(){qe.TB.$on("set-familyInfo-modal",this.setModal)},beforeUnmount(){qe.TB.$off("set-familyInfo-modal",this.setModal)},data(){return{modal:{type:null,data:{}}}},computed:{...(0,He.rn)({organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],messages:e=>e.ipad.organization.familyInfo.messages,info:e=>e.ipad.organization.familyInfo.info,family:e=>e.ipad.organization.familyInfo.family,garage:e=>e.ipad.organization.familyInfo.garage,dayRoyalty:e=>e.ipad.organization.familyInfo.dayRoyalty,accountId:e=>e.main.accountId,isLoading:e=>e.ipad.organization.isLoading,totalMembersCount:e=>e.ipad.organization.totalCount,currentMembersCount:e=>e.ipad.organization.currentCount}),reputationType(){return this.family.reputation<0?"illegal":0===this.family.reputation?"neutral":"legal"}},methods:{setModal(e){if(!e)return this.modal.type=null,void(this.modal.data={});this.modal.type=e.type,this.modal.data=e.data||{}}}};const N$=(0,et.Z)(b$,[["render",W_],["__scopeId","data-v-0f432d83"]]);var V$=N$;const w$=e=>((0,o.pushScopeId)("data-v-1b8f42b0"),e=e(),(0,o.popScopeId)(),e),E$={class:"captures-list column-block full-height"},S$=["onClick"],C$={class:"row-block"},_$={class:"player row-block align-center"},$$={key:0,class:"player__text-winner"},D$={class:"player__text-title"},B$=w$((()=>(0,o.createElementVNode)("span",{class:"capture-item__text"},"vs",-1))),x$={class:"player row-block align-center"},z$={class:"player__text-title"},M$={key:0,class:"player__text-winner"},L$={class:"additional-info row-block"},T$={class:"capture-id row-block"},I$=w$((()=>(0,o.createElementVNode)("span",{class:"capture-id__title"},"ID:",-1))),F$={class:"capture-id__value"},P$={class:"date"},A$={key:0,class:"details column-block full-width full-height"},R$={class:"detail-container column-block full-width"},O$={class:"table-header row-block full-width"},j$={class:"row-block full-width justify-between"},Z$={class:"row-block align-center"},U$={class:"table-header__title"},H$={key:0,class:"table-header__text"},G$={class:"headers row-block"},q$={class:"headers__title"},W$={class:"headers__title"},Y$={class:"table-body column-block"},K$={class:"table-row__text"},X$={class:"table-row__text"},J$={class:"table-row__text"},Q$={class:"table-row__text"},eD={class:"table-row__text"},tD={class:"detail-container column-block full-width"},aD={class:"table-header row-block full-width"},oD={class:"row-block full-width justify-between"},iD={class:"row-block align-center"},lD={class:"table-header__title"},nD={key:0,class:"table-header__text"},rD={class:"headers row-block"},sD={class:"headers__title"},cD={class:"headers__title"},dD={class:"table-body column-block"},mD={class:"table-row__text"},pD={class:"table-row__text"},uD={class:"table-row__text"},hD={class:"table-row__text"},gD={class:"table-row__text"};function fD(e,t){return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["captures full-width full-height row-block",e.organizationColorSchema.theme])},[e.isLoading?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createElementVNode)("div",E$,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.capturesLogs,((t,a)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:`${t.id}-${t.defendersId}-${t.attackersId}-${a}`,class:(0,o.normalizeClass)([{selected:t===e.selectedCapture},"capture-item column-block"]),onClick:a=>e.selectCapture(t)},[(0,o.createElementVNode)("div",C$,[(0,o.createElementVNode)("div",_$,[t.winner===t.defendersId?((0,o.openBlock)(),(0,o.createElementBlock)("div",$$,"WIN")):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("span",D$,(0,o.toDisplayString)(t.defendersName),1)]),B$,(0,o.createElementVNode)("div",x$,[(0,o.createElementVNode)("span",z$,(0,o.toDisplayString)(t.attackersName),1),t.winner===t.attackersId?((0,o.openBlock)(),(0,o.createElementBlock)("div",M$,"WIN")):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",L$,[(0,o.createElementVNode)("div",T$,[I$,(0,o.createElementVNode)("span",F$,(0,o.toDisplayString)(t.id),1)]),(0,o.createElementVNode)("span",P$,(0,o.toDisplayString)(t.startAt),1)])],10,S$)))),128))]),e.selectedCapture?((0,o.openBlock)(),(0,o.createElementBlock)("div",A$,[(0,o.createElementVNode)("div",R$,[(0,o.createElementVNode)("div",O$,[(0,o.createElementVNode)("div",j$,[(0,o.createElementVNode)("div",Z$,[(0,o.createElementVNode)("span",U$,(0,o.toDisplayString)(e.selectedCapture.defendersName),1),e.selectedCapture.winner===e.selectedCapture.defendersId?((0,o.openBlock)(),(0,o.createElementBlock)("span",H$,"WIN")):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("div",G$,[(0,o.createElementVNode)("span",q$,(0,o.toDisplayString)(e.$t("cef.ipad.org.captures.kills")),1),(0,o.createElementVNode)("span",W$,(0,o.toDisplayString)(e.$t("cef.ipad.org.captures.damage")),1)])])]),(0,o.createElementVNode)("div",Y$,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.selectedCapture.defendersPlayers,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:`${e.id}${t}`,class:"table-row row-block align-center"},[(0,o.createElementVNode)("span",K$,(0,o.toDisplayString)(t+1),1),(0,o.createElementVNode)("span",X$,(0,o.toDisplayString)(e.name),1),(0,o.createElementVNode)("span",J$,"#"+(0,o.toDisplayString)(e.id),1),(0,o.createElementVNode)("span",Q$,(0,o.toDisplayString)(e.kills),1),(0,o.createElementVNode)("span",eD,(0,o.toDisplayString)(e.damage),1)])))),128))])]),(0,o.createElementVNode)("div",tD,[(0,o.createElementVNode)("div",aD,[(0,o.createElementVNode)("div",oD,[(0,o.createElementVNode)("div",iD,[(0,o.createElementVNode)("span",lD,(0,o.toDisplayString)(e.selectedCapture.attackersName),1),e.selectedCapture.winner===e.selectedCapture.attackersId?((0,o.openBlock)(),(0,o.createElementBlock)("span",nD,"WIN")):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("div",rD,[(0,o.createElementVNode)("span",sD,(0,o.toDisplayString)(e.$t("cef.ipad.org.captures.kills")),1),(0,o.createElementVNode)("span",cD,(0,o.toDisplayString)(e.$t("cef.ipad.org.captures.damage")),1)])])]),(0,o.createElementVNode)("div",dD,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.selectedCapture.attackersPlayers,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:`${e.id}${t}`,class:"table-row row-block align-center"},[(0,o.createElementVNode)("span",mD,(0,o.toDisplayString)(t+1),1),(0,o.createElementVNode)("span",pD,(0,o.toDisplayString)(e.name),1),(0,o.createElementVNode)("span",uD,"#"+(0,o.toDisplayString)(e.id),1),(0,o.createElementVNode)("span",hD,(0,o.toDisplayString)(e.kills),1),(0,o.createElementVNode)("span",gD,(0,o.toDisplayString)(e.damage),1)])))),128))])])])):(0,o.createCommentVNode)("",!0)],64))],2)}var yD=a(4214),kD={name:"captures",data(){return{selectedCapture:null,capturesLogs:[]}},async mounted(){try{const{status:e,result:t}=await yD.ZP.getCaptures(localStorage.getItem("serverId"),this.isFamily?this.playerFamilyId:this.factionId,+this.isFamily);e&&(this.capturesLogs=t.captures.map((e=>({...e,defendersName:e.defendersName??this.getOrganizationTitle(e.defendersId),attackersName:e.attackersName??this.getOrganizationTitle(e.attackersId),defendersPlayers:[],attackersPlayers:[],playersLoaded:!1}))))}catch(e){this.showNotify({text:this.$t("cef.ipad.org.captures.error-loading"),type:"error"})}},methods:{...(0,He.OI)({showNotify:"main/showNotify"}),async selectCapture(e){if(this.selectedCapture=e,!e.playersLoaded){const{status:t,result:a}=await yD.ZP.getCapturesPlayers(localStorage.getItem("serverId"),e.id,+this.isFamily);t&&(e.defendersPlayers=a.players[e.defendersId],e.attackersPlayers=a.players[e.attackersId],e.playersLoaded=!0)}},getOrganizationTitle(e){return["Police Department","EMS","Sheriff Department","SA National Guard","Government","Weazel News","FIB","The Ballas Gang","Los Santos Vagos","The Families","The Bloods Gang","Marabunta Grande","La Cosa Nostra","Russian Mafia","Yakuza","Mexican Cartel","The Lost MC","Angels of Death MC","Irish Mafia"][e-1]}},computed:(0,He.rn)({organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],factionId:e=>e.main.member,isLoading:e=>e.ipad.organization.isLoading,isFamily:e=>e.ipad.organization.captureMap.isFamily,playerFamilyId:e=>e.ipad.family})};const vD=(0,et.Z)(kD,[["render",fD],["__scopeId","data-v-1b8f42b0"]]);var bD=vD;const ND=e=>((0,o.pushScopeId)("data-v-ef57a02a"),e=e(),(0,o.popScopeId)(),e),VD={class:"control-zones full-height row-block align-center"},wD={class:"control-zones__title"},ED={class:"control-zones__value"},SD=ND((()=>(0,o.createElementVNode)("div",{class:"line"},null,-1))),CD={class:"control-zones__text-value"},_D={class:"control-zones__text-max"},$D={class:"fight-container row-block align-center full-height"},DD={class:"fight__title-main"},BD=ND((()=>(0,o.createElementVNode)("div",{class:"line"},null,-1))),xD={class:"fight__title-time align-center"},zD={class:"tooltip column-block align-center"},MD=ND((()=>(0,o.createElementVNode)("div",{class:"tooltip-triangle"},null,-1))),LD={class:"tooltip-content"},TD={key:0,style:{color:"green"}},ID={key:1,style:{color:"rgb(165, 7, 7)"}},FD={class:"defender-container row-block align-center full-height"},PD={class:"defender__title-main"},AD=ND((()=>(0,o.createElementVNode)("div",{class:"line"},null,-1))),RD={class:"defender__title-time align-center"},OD={class:"tooltip column-block align-center"},jD=ND((()=>(0,o.createElementVNode)("div",{class:"tooltip-triangle"},null,-1))),ZD={class:"tooltip-content"},UD={key:0,style:{color:"rgb(165, 7, 7)"}},HD={key:1,style:{color:"green"}},GD={class:"checkbox-container row-block"},qD={class:"under-attack__title"},WD=ND((()=>(0,o.createElementVNode)("div",{class:"line"},null,-1))),YD={class:"under-attack__title align-center"},KD={class:"schedule__title"},XD={key:0,class:"notification__text"},JD={ref:"contextMenuAdmin",class:"context-menu column-block",style:{top:"100px",left:0}},QD={class:"attacker row-block align-center"},eB={class:"clickmenu__title"},tB={class:"defender row-block align-center"},aB={class:"clickmenu__title"},oB={class:"info-row row-block align-center"},iB={class:"info-row__title"},lB={class:"info-row__value"},nB={class:"info-row row-block align-center"},rB={class:"info-row__title"},sB={class:"info-row__value"},cB={key:0,class:"info-row row-block align-center"},dB={class:"info-row__title"},mB={class:"info-row__value"},pB={key:1,class:"markerInfo column-block align-start justify-start"},uB={class:"markerInfo__note__container"},hB={class:"markerInfo__note orange"},gB=ND((()=>(0,o.createElementVNode)("br",null,null,-1))),fB=ND((()=>(0,o.createElementVNode)("br",null,null,-1))),yB=ND((()=>(0,o.createElementVNode)("br",null,null,-1))),kB={key:2,class:"markerInfo column-block align-start justify-start"},vB={class:"markerInfo__title-wrapper row-block align-start justify-between"},bB={key:0,class:"title"},NB={key:1,class:"title"},VB={key:2,class:"cubes-wrapper row-block align-center justify-start"},wB={class:"markerInfo__description"},EB={class:"markerInfo__note__container"},SB={key:0,class:"markerInfo__note orange"},CB=ND((()=>(0,o.createElementVNode)("br",null,null,-1))),_B=ND((()=>(0,o.createElementVNode)("br",null,null,-1))),$B=ND((()=>(0,o.createElementVNode)("br",null,null,-1))),DB=ND((()=>(0,o.createElementVNode)("br",null,null,-1))),BB=ND((()=>(0,o.createElementVNode)("br",null,null,-1))),xB={key:1,class:"markerInfo__note orange"},zB={key:0},MB={key:1},LB={style:{color:"gray"}},TB={key:2,class:"markerInfo__note orange"},IB={key:0,style:{color:"white"}},FB={key:3,class:"markerInfo__note orange"},PB={key:4,class:"markerInfo__note blue"},AB=ND((()=>(0,o.createElementVNode)("br",null,null,-1))),RB=ND((()=>(0,o.createElementVNode)("br",null,null,-1))),OB=ND((()=>(0,o.createElementVNode)("br",null,null,-1))),jB={key:5,class:"markerInfo__note orange"},ZB=ND((()=>(0,o.createElementVNode)("br",null,null,-1))),UB=ND((()=>(0,o.createElementVNode)("br",null,null,-1))),HB=ND((()=>(0,o.createElementVNode)("br",null,null,-1))),GB=ND((()=>(0,o.createElementVNode)("br",null,null,-1))),qB=ND((()=>(0,o.createElementVNode)("br",null,null,-1))),WB={key:6,class:"markerInfo__note gray debu"},YB={key:0},KB={key:0},XB={key:0},JB={key:7,class:"markerInfo__note red"},QB={key:8,class:"markerInfo__note green"},ex={key:9,class:"markerInfo__note white"},tx={key:0,class:"markerInfo__note cian"},ax={class:"markerInfo__info-row__container"},ox={key:0,class:"markerInfo__note orange"},ix={class:"title"},lx={class:"text"},nx={class:"value"},rx={class:"markerInfo__info-row"},sx={class:"title"},cx={class:"text"},dx={class:"value"},mx={key:0,class:"markerInfo__footer"},px={class:"markerInfo__control-button__container"},ux={class:"map-container",ref:"mapContainer"},hx={key:1,class:"preloader"},gx=ND((()=>(0,o.createElementVNode)("div",null,null,-1))),fx=ND((()=>(0,o.createElementVNode)("div",null,null,-1))),yx=ND((()=>(0,o.createElementVNode)("div",null,null,-1))),kx=ND((()=>(0,o.createElementVNode)("div",null,null,-1))),vx=ND((()=>(0,o.createElementVNode)("div",null,null,-1))),bx=ND((()=>(0,o.createElementVNode)("div",null,null,-1))),Nx=ND((()=>(0,o.createElementVNode)("div",null,null,-1))),Vx=ND((()=>(0,o.createElementVNode)("div",null,null,-1))),wx=ND((()=>(0,o.createElementVNode)("div",null,null,-1))),Ex=ND((()=>(0,o.createElementVNode)("div",null,null,-1))),Sx=[gx,fx,yx,kx,vx,bx,Nx,Vx,wx,Ex],Cx={key:2,class:"control-board full-width row-block"},_x={class:"control-buttons full-width full-height align-end"};function $x(e,t){const a=(0,o.resolveComponent)("SVGComponent"),i=(0,o.resolveComponent)("pageHeader"),l=(0,o.resolveComponent)("NotificationsModal"),n=(0,o.resolveComponent)("SetCaptureModal"),r=(0,o.resolveComponent)("AttackModal"),s=(0,o.resolveComponent)("BroadcastModal"),c=(0,o.resolveComponent)("ConfigureZoneModal"),d=(0,o.resolveComponent)("SetCapturePage"),m=(0,o.resolveComponent)("ScheduleListPage"),p=(0,o.resolveComponent)("LogsPage");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["capture-map full-height full-width",e.organizationColorSchema.theme]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`,"--background":`${e.organizationColorSchema.backgroundColor}`,"--main-text-color":`${e.getCorrectContrastingFontColor(e.organizationColorSchema.main,"#fbfbfb","#060606")}`})},[(0,o.createVNode)(i,{onBack:e.back},{"left-part":(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",VD,[(0,o.createElementVNode)("span",wD,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.control")),1),(0,o.createElementVNode)("span",ED,(0,o.toDisplayString)(e.getOwnedZones())+"%",1),SD,(0,o.createElementVNode)("span",CD,(0,o.toDisplayString)(e.ownedZones),1),(0,o.createElementVNode)("span",_D," / "+(0,o.toDisplayString)(e.zonesAmount),1)]),(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["fight full-height row-block align-center",{expanded:e.fightAttackExpanded}])},[(0,o.createElementVNode)("div",$D,[(0,o.createVNode)(a,{class:"fight__icon-main",path:"icons/ipad/apps/organizations/captureMap/attacking.svg"}),(0,o.createElementVNode)("span",DD,(0,o.toDisplayString)(e.fight.attack)+" / "+(0,o.toDisplayString)(e.getMaxAttacks()),1),e.fightAttackExpanded?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[BD,(0,o.createVNode)(a,{class:"fight__icon-time",path:"icons/ipad/apps/organizations/captureMap/clock.svg"}),(0,o.createElementVNode)("span",xD,(0,o.toDisplayString)(e.convertTime(e.timersLocal.attackKD)),1)],64)):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",zD,[MD,(0,o.createElementVNode)("div",LD,[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.attack-capture-amount"))+" ",1),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.attacksLog,(t=>((0,o.openBlock)(),(0,o.createElementBlock)("p",null,[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.familyMap.name."+t.source))+" ",1),t.amount>0?((0,o.openBlock)(),(0,o.createElementBlock)("span",TD,"+"+(0,o.toDisplayString)(t.amount),1)):(0,o.createCommentVNode)("",!0),t.amount<0?((0,o.openBlock)(),(0,o.createElementBlock)("span",ID,(0,o.toDisplayString)(t.amount),1)):(0,o.createCommentVNode)("",!0)])))),256))])])])],2),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["defender full-height row-block align-center",{expanded:e.fightDefenceExpanded}])},[(0,o.createElementVNode)("div",FD,[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/captureMap/defender.svg",class:"defender__icon-main"}),(0,o.createElementVNode)("span",PD,(0,o.toDisplayString)(e.fight.defence)+" / "+(0,o.toDisplayString)(e.getMaxDefences()),1),e.fightDefenceExpanded?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[AD,(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/captureMap/clock.svg",class:"defender__icon-time"}),(0,o.createElementVNode)("span",RD,(0,o.toDisplayString)(e.convertTime(e.timersLocal.defenseKD)),1)],64)):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",OD,[jD,(0,o.createElementVNode)("div",ZD,[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.defense-capture-amount"))+" ",1),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.defencesLog,(t=>((0,o.openBlock)(),(0,o.createElementBlock)("p",null,[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.familyMap.name."+t.source))+" ",1),t.amount>0?((0,o.openBlock)(),(0,o.createElementBlock)("span",UD,"+"+(0,o.toDisplayString)(t.amount),1)):(0,o.createCommentVNode)("",!0),t.amount<0?((0,o.openBlock)(),(0,o.createElementBlock)("span",HD,(0,o.toDisplayString)(t.amount),1)):(0,o.createCommentVNode)("",!0)])))),256))])])])],2),(0,o.createElementVNode)("div",GD,[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["checkbox-wrapper",{active:e.renderLabels}])},[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"checkbox",class:"checkbox-wrapper__input",id:"labels","onUpdate:modelValue":t[0]||(t[0]=t=>e.renderLabels=t)},null,512),[[o.vModelCheckbox,e.renderLabels]]),(0,o.createVNode)(a,{class:"checkbox-wrapper__tick",path:"icons/ipad/apps/organizations/contracts/tick.svg"})],2)])])),"right-part":(0,o.withCtx)((()=>[e.showUnderAttack?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:"under-attack align-center row-block full-height",onClick:t[1]||(t[1]=(...t)=>e.onLookAtSelfAction&&e.onLookAtSelfAction(...t))},[(0,o.createVNode)(a,{path:`icons/ipad/apps/organizations/captureMap/${"attack"===e.selfAction.type?"attacking":"defender"}.svg`,class:"under-attack__icon"},null,8,["path"]),(0,o.createElementVNode)("span",qD,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap."+("attack"===e.selfAction.type?"you-attack":"under-attack"))),1),WD,(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/captureMap/clock.svg",class:"under-attack__icon"}),(0,o.createElementVNode)("span",YD,(0,o.toDisplayString)(e.convertTime(e.timersLocal.underAttackTime)),1)])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",{onClick:t[2]||(t[2]=t=>e.setPage("scheduleList")),class:"schedule full-height row-block align-center"},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/captureMap/schedule.svg",class:"schedule__icon"}),(0,o.createElementVNode)("span",KD,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.schedule")),1)]),(0,o.createElementVNode)("div",{class:"notification full-height",onClick:t[3]||(t[3]=t=>e.setModal("notifications"))},[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/captureMap/bell.svg",class:"notification__icon"}),e.notificationsCount?((0,o.openBlock)(),(0,o.createElementBlock)("span",XD,(0,o.toDisplayString)(e.notificationsCount),1)):(0,o.createCommentVNode)("",!0)])])),_:1},8,["onBack"]),(0,o.createElementVNode)("div",JD,[(0,o.createElementVNode)("div",{class:"context-button full-width",onClick:t[4]||(t[4]=(...t)=>e.repaintZone&&e.repaintZone(...t))},(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.repaint")),1),(0,o.createElementVNode)("div",{class:"context-button full-width",onClick:t[5]||(t[5]=(...t)=>e.createCapture&&e.createCapture(...t))},(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.set-capture")),1),e.canConfigureZone?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:"context-button full-width",onClick:t[6]||(t[6]=(...t)=>e.configureZone&&e.configureZone(...t))},(0,o.toDisplayString)("Редактировать"))):(0,o.createCommentVNode)("",!0)],512),(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",{ref:"contextMenuEdit",class:(0,o.normalizeClass)(["clickmenu column-block",{markerInfo:e.pointMenu.isInfoModal||e.pointMenu.isAdminModal}]),style:{top:"200px",left:0}},[e.pointMenu.isInfoModal||e.pointMenu.isAdminModal?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createElementVNode)("div",QD,[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/captureMap/attacking.svg",class:"clickmenu__icon"}),(0,o.createElementVNode)("span",eB,(0,o.toDisplayString)(e.pointMenu.attacker),1)]),(0,o.createElementVNode)("div",tB,[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/captureMap/defender.svg",class:"clickmenu__icon"}),(0,o.createElementVNode)("span",aB,(0,o.toDisplayString)(e.pointMenu.defender),1)]),(0,o.createElementVNode)("div",oB,[(0,o.createElementVNode)("span",iB,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.start")),1),(0,o.createElementVNode)("span",lB,(0,o.toDisplayString)(e.$dayjs(e.pointMenu.start).format("D, MMM HH:mm")),1)]),(0,o.createElementVNode)("div",nB,[(0,o.createElementVNode)("span",rB,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.participants")),1),(0,o.createElementVNode)("span",sB,(0,o.toDisplayString)(e.pointMenu.participants),1)]),e.isFamily?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",cB,[(0,o.createElementVNode)("span",dB,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.caliber")),1),(0,o.createElementVNode)("span",mB,(0,o.toDisplayString)(e.pointMenu.caliber),1)])),e.pointMenu.buttonsTimeActive&&e.canEdit&&([e.pointMenu.attackerId,e.pointMenu.defenderId].includes(e.playerFactionId)&&!e.isFamily||[e.pointMenu.attackerId,e.pointMenu.defenderId].includes(e.playerFamilyId)&&e.isFamily)?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:1,class:"control-button edit",onClick:t[7]||(t[7]=(...t)=>e.onEditCapture&&e.onEditCapture(...t))},(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.edit")),1)):(0,o.createCommentVNode)("",!0),e.pointMenu.buttonsTimeActive&&(e.canEdit&&(e.pointMenu.attackerId===e.playerFactionId&&!e.isFamily||e.pointMenu.attackerId===e.playerFamilyId&&e.isFamily)||e.isAdmin)?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:2,class:"control-button discard",onClick:t[8]||(t[8]=(...t)=>e.onDiscardCapture&&e.onDiscardCapture(...t))},(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.discard")),1)):(0,o.createCommentVNode)("",!0)],64)),e.pointMenu.isAdminModal?((0,o.openBlock)(),(0,o.createElementBlock)("div",pB,[(0,o.createElementVNode)("div",uB,[(0,o.createElementVNode)("div",hB,[(0,o.createElementVNode)("span",null,[(0,o.createTextVNode)("zoneId: "+(0,o.toDisplayString)(e.pointMenu.id)+" ",1),gB]),(0,o.createElementVNode)("span",null,[(0,o.createTextVNode)("ownerId: "+(0,o.toDisplayString)(e.pointMenu.ownerId),1),fB]),(0,o.createElementVNode)("span",null,[(0,o.createTextVNode)("ownerName: "+(0,o.toDisplayString)(e.pointMenu.owner),1),yB])])])])):(0,o.createCommentVNode)("",!0),e.pointMenu.isInfoModal&&!e.pointMenu.isAdminModal?((0,o.openBlock)(),(0,o.createElementBlock)("div",kB,[(0,o.createElementVNode)("div",vB,[e.isAdmin?((0,o.openBlock)(),(0,o.createElementBlock)("div",bB,(0,o.toDisplayString)(e.pointMenu.name)+" - "+(0,o.toDisplayString)(e.pointMenu.id)+" - "+(0,o.toDisplayString)(e.pointMenu.paramId),1)):((0,o.openBlock)(),(0,o.createElementBlock)("div",NB,(0,o.toDisplayString)(e.pointMenu.name),1)),e.getLevelsConfig(e.pointMenu.id).length>1?((0,o.openBlock)(),(0,o.createElementBlock)("div",VB,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.getLevelsConfig(e.pointMenu.id).length,(t=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["cube",{active:t<=e.pointMenu.level+1}])},null,2)))),256))])):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("div",wB,(0,o.toDisplayString)(e.pointMenu.description),1),(0,o.createElementVNode)("div",EB,[1==e.pointMenu.zoneSubtype?((0,o.openBlock)(),(0,o.createElementBlock)("div",SB,[(0,o.createElementVNode)("span",null,[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.familyMap.mansionDesc.header"))+" ",1),CB]),(0,o.createElementVNode)("span",null,[(0,o.createTextVNode)(" - "+(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.familyMap.mansionDesc.item1"))+" ",1),_B]),(0,o.createElementVNode)("span",null,[(0,o.createTextVNode)(" - "+(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.familyMap.mansionDesc.item2"))+" ",1),$B]),(0,o.createElementVNode)("span",null,[(0,o.createTextVNode)(" - "+(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.familyMap.mansionDesc.item3"))+" ",1),DB]),(0,o.createElementVNode)("span",null,[(0,o.createTextVNode)(" - "+(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.familyMap.mansionDesc.item4"))+" ",1),BB])])):(0,o.createCommentVNode)("",!0),0!=e.pointMenu.levelsConfig.length&&"inline"==e.pointMenu.levelViewType?((0,o.openBlock)(),(0,o.createElementBlock)("div",xB,[(0,o.createTextVNode)((0,o.toDisplayString)(e.pointMenu.levelTitle)+": ",1),1==e.getLevelsConfig(e.pointMenu.id).length?((0,o.openBlock)(),(0,o.createElementBlock)("span",zB,(0,o.toDisplayString)(e.getLevelsConfig(e.pointMenu.id)[0].viewTitle&&e.pointMenu.useTrans?e.$t("cef.ipad.org.captureMap.familyMap.levelItems."+e.getLevelsConfig(e.pointMenu.id)[0].viewTitle):e.getLevelsConfig(e.pointMenu.id)[0].viewTitle),1)):(0,o.createCommentVNode)("",!0),e.getLevelsConfig(e.pointMenu.id).length>1?((0,o.openBlock)(),(0,o.createElementBlock)("ul",MB,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.getLevelsConfig(e.pointMenu.id),((t,a)=>((0,o.openBlock)(),(0,o.createElementBlock)("span",{style:(0,o.normalizeStyle)({color:a==e.pointMenu.level?"white":"grey"})},[(0,o.createTextVNode)((0,o.toDisplayString)(t.viewTitle&&e.pointMenu.useTrans?e.$t("cef.ipad.org.captureMap.familyMap.levelItems."+t.viewTitle):t.viewTitle)+" ",1),(0,o.createElementVNode)("span",LB,(0,o.toDisplayString)(a==e.getLevelsConfig(e.pointMenu.id).length-1?"":"/"),1)],4)))),256))])):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0),e.pointMenu.itemsInfo?((0,o.openBlock)(),(0,o.createElementBlock)("div",TB,[(0,o.createTextVNode)((0,o.toDisplayString)(e.pointMenu.itemsInfo.title)+": ",1),(0,o.createElementVNode)("ul",null,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.pointMenu.itemsInfo.items,((t,a)=>((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[e.pointMenu.itemsInfo.items&&e.pointMenu.itemsInfo.items.length?((0,o.openBlock)(),(0,o.createElementBlock)("li",IB,"- "+(0,o.toDisplayString)(t),1)):(0,o.createCommentVNode)("",!0)],64)))),256))])])):(0,o.createCommentVNode)("",!0),0!=e.pointMenu.levelsConfig.length&&"block"==e.pointMenu.levelViewType?((0,o.openBlock)(),(0,o.createElementBlock)("div",FB,[(0,o.createTextVNode)((0,o.toDisplayString)(e.pointMenu.levelTitle)+": ",1),(0,o.createElementVNode)("ul",null,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.getLevelsConfig(e.pointMenu.id),((t,a)=>((0,o.openBlock)(),(0,o.createElementBlock)("li",{style:(0,o.normalizeStyle)({color:a<=e.pointMenu.level?"white":"grey"})}," - "+(0,o.toDisplayString)(t.viewTitle&&e.pointMenu.useTrans?e.$t("cef.ipad.org.captureMap.familyMap.levelItems."+t.viewTitle):t.viewTitle),5)))),256))])])):(0,o.createCommentVNode)("",!0),[701,702,703].includes(e.pointMenu.zoneSubtype)?((0,o.openBlock)(),(0,o.createElementBlock)("div",PB,[(0,o.createElementVNode)("span",null,[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.familyMap.sabotageDesc.item1"))+" ",1),AB]),(0,o.createElementVNode)("span",null,[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.familyMap.sabotageDesc.item2"))+" ",1),RB]),(0,o.createElementVNode)("span",null,[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.familyMap.sabotageDesc.item3"))+" ",1),OB])])):(0,o.createCommentVNode)("",!0),800==e.pointMenu.zoneSubtype?((0,o.openBlock)(),(0,o.createElementBlock)("div",jB,[(0,o.createElementVNode)("span",null,[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.familyMap.enterpriseDesc.header"))+" ",1),ZB]),(0,o.createElementVNode)("span",null,[(0,o.createTextVNode)(" - "+(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.familyMap.enterpriseDesc.item1"))+" ",1),UB]),(0,o.createElementVNode)("span",null,[(0,o.createTextVNode)(" - "+(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.familyMap.enterpriseDesc.item2"))+" ",1),HB]),(0,o.createElementVNode)("span",null,[(0,o.createTextVNode)(" - "+(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.familyMap.enterpriseDesc.item3"))+" ",1),GB]),(0,o.createElementVNode)("span",null,[(0,o.createTextVNode)(" - "+(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.familyMap.enterpriseDesc.item4"))+" ",1),qB])])):(0,o.createCommentVNode)("",!0),0!=e.pointMenu.zoneType?((0,o.openBlock)(),(0,o.createElementBlock)("div",WB,[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.markerInfo.require"))+": ",1),(0,o.createElementVNode)("ul",null,[(0,o.createElementVNode)("li",null,"- "+(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.markerInfo.zonesAmount")),1),2==e.pointMenu.zoneType?((0,o.openBlock)(),(0,o.createElementBlock)("li",YB,"- "+(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.markerInfo.zonesNear")),1)):(0,o.createCommentVNode)("",!0),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.pointMenu.require,((t,a)=>((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[e.pointMenu.require&&e.pointMenu.require.length?((0,o.openBlock)(),(0,o.createElementBlock)("li",KB,"- "+(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.familyMap.name."+t)),1)):(0,o.createCommentVNode)("",!0)],64)))),256)),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.pointMenu.requirePerks,((t,a)=>((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[e.pointMenu.requirePerks&&e.pointMenu.requirePerks.length?((0,o.openBlock)(),(0,o.createElementBlock)("li",XB,"- "+(0,o.toDisplayString)(t),1)):(0,o.createCommentVNode)("",!0)],64)))),256))])])):(0,o.createCommentVNode)("",!0),e.pointMenu.extraDefence?((0,o.openBlock)(),(0,o.createElementBlock)("div",JB,(0,o.toDisplayString)(e.pointMenu.extraDefence),1)):(0,o.createCommentVNode)("",!0),e.pointMenu.debuffData&&e.getServerTimeWithOffset()<e.pointMenu.debuffData.endTime?((0,o.openBlock)(),(0,o.createElementBlock)("div",QB,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.markerInfo.debuffDuration"))+": "+(0,o.toDisplayString)(e.calcTimeDiferenceToNow(e.pointMenu.debuffData.endTime)),1)):(0,o.createCommentVNode)("",!0),void 0!==e.getTimeToLvlUp(e.pointMenu.id)&&e.pointMenu.controllStartTime?((0,o.openBlock)(),(0,o.createElementBlock)("div",ex,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.markerInfo.timeToLvlup"))+": "+(0,o.toDisplayString)(e.dhm(e.getTimeToLvlUp(e.pointMenu.id))),1)):(0,o.createCommentVNode)("",!0),e.pointMenu.sabotageData&&e.pointMenu.ownerId==e.playerFamilyId?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:10},[e.pointMenu.sabotageData.effectCooldown&&e.pointMenu.sabotageData.effectCooldown-e.getServerTimeWithOffset()>0?((0,o.openBlock)(),(0,o.createElementBlock)("div",tx,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.markerInfo.actionCooldown"))+": "+(0,o.toDisplayString)(e.calcTimeDiferenceToNow(e.pointMenu.sabotageData.effectCooldown)),1)):(0,o.createCommentVNode)("",!0)],64)):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("div",ax,[e.pointMenu.bizzBuff?((0,o.openBlock)(),(0,o.createElementBlock)("div",ox,[(0,o.createElementVNode)("span",ix,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.markerInfo.profit"))+": ",1),(0,o.createElementVNode)("span",lx,[(0,o.createElementVNode)("span",nx,(0,o.toDisplayString)(e.countMoneyToDollar(e.pointMenu.bizzBuff,!1,!1)),1),(0,o.createTextVNode)(" / "+(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.markerInfo.hour")),1)])])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",rx,[(0,o.createElementVNode)("span",sx,(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.markerInfo.control"))+":",1),(0,o.createElementVNode)("span",cx,[(0,o.createElementVNode)("span",dx,(0,o.toDisplayString)(e.pointMenu.ownerId?e.pointMenu.owner:e.$t("cef.ipad.org.captureMap.markerInfo.neutral")),1)])])]),e.pointMenu.maxPerFraction?((0,o.openBlock)(),(0,o.createElementBlock)("div",mx,"* "+(0,o.toDisplayString)(e.pointMenu.maxPerFraction),1)):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",px,[e.pointMenu.canAttack&&!e.pointMenu.sabotageAviable?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:"markerInfo__control-button",onClick:t[9]||(t[9]=(...t)=>e.setPageCapture&&e.setPageCapture(...t))},(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.markerInfo.attack")),1)):(0,o.createCommentVNode)("",!0),e.pointMenu.buttonsTimeActive&&e.canEdit&&[e.pointMenu.attackerId,e.pointMenu.defenderId].includes(e.playerFamilyId)?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:1,class:"markerInfo__control-button",onClick:t[10]||(t[10]=(...t)=>e.onEditCapture&&e.onEditCapture(...t))},(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.edit")),1)):(0,o.createCommentVNode)("",!0),e.pointMenu.buttonsTimeActive&&(e.canEdit&&e.pointMenu.attackerId===e.playerFamilyId||e.isAdmin)?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:2,class:"markerInfo__control-button",onClick:t[11]||(t[11]=(...t)=>e.onDiscardCapture&&e.onDiscardCapture(...t))},(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.discard")),1)):(0,o.createCommentVNode)("",!0),e.pointMenu.sabotageAviable?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:3,class:"markerInfo__control-button",onClick:t[12]||(t[12]=(...t)=>e.processSaborageClient&&e.processSaborageClient(...t))},(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.markerInfo.sabotage-action")),1)):(0,o.createCommentVNode)("",!0),e.pointMenu.sabotageData&&e.pointMenu.ownerId==e.playerFamilyId?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:4},[e.pointMenu.sabotageData.effectCooldown&&e.pointMenu.sabotageData.effectCooldown-e.getServerTimeWithOffset()>0?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:"markerInfo__control-button",onClick:t[13]||(t[13]=(...t)=>e.toggleSabotageMode&&e.toggleSabotageMode(...t))},(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.markerInfo.sabotage")),1))],64)):(0,o.createCommentVNode)("",!0)])])):(0,o.createCommentVNode)("",!0)],2),(0,o.createElementVNode)("div",ux,null,512),e.loaded?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",hx,Sx)),e.isAdmin?((0,o.openBlock)(),(0,o.createElementBlock)("footer",Cx,[(0,o.createElementVNode)("div",_x,[(0,o.createElementVNode)("span",{class:"control-button",onClick:t[14]||(t[14]=t=>e.setModal("attack",{type:"add-attack"}))},(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.add-attack")),1),(0,o.createElementVNode)("span",{class:"control-button",onClick:t[15]||(t[15]=t=>e.setModal("attack",{type:"remove-attack"}))},(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.remove-attack")),1),(0,o.createElementVNode)("span",{class:"control-button",onClick:t[16]||(t[16]=t=>e.setModal("attack",{type:"reset-attack"}))},(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.reset-attack")),1),(0,o.createElementVNode)("span",{class:"control-button",onClick:t[17]||(t[17]=t=>e.setModal("broadcast"))},(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.create-fraction-notification")),1),(0,o.createElementVNode)("span",{class:(0,o.normalizeClass)(["control-button",{active:e.freezeActive}]),onClick:t[18]||(t[18]=(...t)=>e.toggleFreezeAttacks&&e.toggleFreezeAttacks(...t))},(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.freeze-all-zones",{enabled:(!e.freezeActive).toString()})),3),(0,o.createElementVNode)("span",{class:"control-button",onClick:t[19]||(t[19]=t=>e.setPage("logs"))},(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.logs-title")),1),(0,o.createElementVNode)("span",{class:"control-button",onClick:t[20]||(t[20]=t=>e.setModal("attack",{type:"add-defence"}))},(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.add-defence")),1),(0,o.createElementVNode)("span",{class:"control-button",onClick:t[21]||(t[21]=t=>e.setModal("attack",{type:"remove-defence"}))},(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.remove-defence")),1),(0,o.createElementVNode)("span",{class:"control-button",onClick:t[22]||(t[22]=t=>e.setModal("attack",{type:"reset-defence"}))},(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.reset-defence")),1),(0,o.createElementVNode)("span",{class:(0,o.normalizeClass)(["control-button",{active:e.editorMode}]),onClick:t[23]||(t[23]=(...t)=>e.toggleEditorMode&&e.toggleEditorMode(...t))},(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.edit-mode")),3),e.sabotageMode?((0,o.openBlock)(),(0,o.createElementBlock)("span",{key:0,class:"control-button",onClick:t[24]||(t[24]=(...t)=>e.toggleSabotageMode&&e.toggleSabotageMode(...t))},(0,o.toDisplayString)(e.$t("cef.ipad.org.captureMap.markerInfo.cancel-sabotage")),1)):(0,o.createCommentVNode)("",!0),e.showSaveBtn?((0,o.openBlock)(),(0,o.createElementBlock)("span",{key:1,class:"control-button",onClick:t[25]||(t[25]=(...t)=>e.saveConfig&&e.saveConfig(...t))},(0,o.toDisplayString)("Копировать конфиг"))):(0,o.createCommentVNode)("",!0)])])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(o.Transition,{name:"local-fade",mode:"out-in"},{default:(0,o.withCtx)((()=>["notifications"===e.modal?((0,o.openBlock)(),(0,o.createBlock)(l,{key:0,onClose:t[26]||(t[26]=t=>e.setModal(null))})):"set-capture"===e.modal?((0,o.openBlock)(),(0,o.createBlock)(n,{key:1,onClose:t[27]||(t[27]=t=>e.setModal(null)),data:e.modalData},null,8,["data"])):"attack"===e.modal?((0,o.openBlock)(),(0,o.createBlock)(r,{key:2,onClose:t[28]||(t[28]=t=>e.setModal(null)),data:e.modalData},null,8,["data"])):"broadcast"===e.modal?((0,o.openBlock)(),(0,o.createBlock)(s,{key:3,onClose:t[29]||(t[29]=t=>e.setModal(null))})):"configure-zone"===e.modal?((0,o.openBlock)(),(0,o.createBlock)(c,{key:4,onClose:t[30]||(t[30]=t=>e.setModal(null)),data:e.modalData},null,8,["data"])):(0,o.createCommentVNode)("",!0)])),_:1}),(0,o.createVNode)(o.Transition,{name:"local-fade",mode:"out-in"},{default:(0,o.withCtx)((()=>["set-capture"===e.page?((0,o.openBlock)(),(0,o.createBlock)(d,{key:0,onBack:t[31]||(t[31]=t=>e.setPage(null)),currentZone:e.currentZone,data:e.pageData},null,8,["currentZone","data"])):"scheduleList"===e.page?((0,o.openBlock)(),(0,o.createBlock)(m,{key:1,onBack:t[32]||(t[32]=t=>e.setPage(null))})):"logs"===e.page?((0,o.openBlock)(),(0,o.createBlock)(p,{key:2,onBack:t[33]||(t[33]=t=>e.setPage(null))})):(0,o.createCommentVNode)("",!0)])),_:1})],6)}var Dx=a(63255);const Bx=(0,et.Z)(Dx.Z,[["render",$x],["__scopeId","data-v-ef57a02a"]]);var xx=Bx;const zx={class:"row-block align-center full-width"},Mx=["placeholder"],Lx={class:"full-width full-height"},Tx={class:"expanded full-width full-height row-block justify-between",key:"expanded"},Ix={class:"calls-list full-height column-block"},Fx=["onClick"],Px={class:"item-header row-block full-width justify-between align-center"},Ax={class:"row-block align-center"},Rx={class:"item-header__title"},Ox={class:"item-header__subtitle"},jx={key:0,class:"item-header__title-tag"},Zx={key:0,class:"item-header__text-date"},Ux={key:1,class:"row-block align-center"},Hx={key:0,class:"location row-block align-center"},Gx={class:"location__title"},qx={class:"location__text"},Wx={class:"timer__value"},Yx={key:2},Kx={class:"timer__value"},Xx={key:0,class:"item-body row-block justify-between"},Jx={class:"row-block align-center"},Qx={class:"row-block"},ez={class:"item-body__title"},tz={class:"item-body__value"},az={class:"distance row-block"},oz={class:"item-body__title"},iz={class:"item-body__value"},lz={class:"row-block align-center"},nz={class:"item-body__value-highlighted"},rz={class:"item-body__value-perUnit"},sz={key:1,class:"item-body row-block justify-between"},cz={class:"location row-block align-center"},dz={class:"location__title"},mz={class:"location__text"},pz={class:"members row-block align-center"},uz={class:"members__value-current"},hz={class:"members__value-max"},gz={key:0,class:"expanded-data full-width column-block"},fz={class:"row-block full-width align-center justify-between"},yz={class:"expanded-data__title"},kz={key:0,class:"expanded-data__text-date"},vz={key:0,class:"called-by row-block"},bz={key:1,class:"location column-block"},Nz={class:"location__title"},Vz={class:"location__text"},wz={class:"point row-block align-center"},Ez={class:"point-button"},Sz={class:"point__text-toGoal"},Cz={class:"point__text-destination"},_z={key:2,class:"people-info row-block"},$z={key:0,class:"info-container column-block"},Dz={class:"info-container__title"},Bz={class:"row-block align-center"},xz={class:"info-container__text-main"},zz={class:"info-container__text-sub"},Mz={key:1,class:"info-container column-block"},Lz={class:"info-container__title"},Tz={class:"row-block align-center"},Iz={class:"info-container__text-main"},Fz={key:3,class:"people-info row-block align-center"},Pz={key:0,class:"info-container column-block"},Az={class:"info-container__title"},Rz={class:"row-block align-center"},Oz={class:"info-container__text-main"},jz={class:"info-container__text-sub"},Zz={key:1,class:"take-order column-block"},Uz={class:"take-order__title"},Hz={class:"timer__value"},Gz={key:4,class:"reward column-block"},qz={class:"reward__title"},Wz={class:"row-block"},Yz={key:0,class:"reward__text-highlighted"},Kz={key:1,class:"reward__text-unit"},Xz={key:5,class:"control-button done"};function Jz(e,t){const a=(0,o.resolveComponent)("SVGComponent"),i=(0,o.resolveComponent)("countdown");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`,"--background":`${e.organizationColorSchema.backgroundColor}`,"--main-text-color":`${e.getCorrectContrastingFontColor(e.organizationColorSchema.main,"#fbfbfb","#060606")}`}),class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"calls full-width full-height column-block"])},[(0,o.createElementVNode)("nav",zx,[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["search row-block align-center",{active:e.search.length}]),style:{width:"100%"}},[(0,o.createVNode)(a,{class:"search__picture",path:"icons/ipad/apps/organizations/search.svg"}),(0,o.withDirectives)((0,o.createElementVNode)("input",{class:"search__input full-width","onUpdate:modelValue":t[0]||(t[0]=t=>e.search=t),placeholder:e.$t("cef.ipad.org.calls.search"),type:"text"},null,8,Mx),[[o.vModelText,e.search]])],2)]),(0,o.createElementVNode)("main",Lx,[(0,o.createVNode)(o.Transition,{name:"local-fade",appear:"",mode:"out-in"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",Tx,[(0,o.createElementVNode)("div",Ix,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.indexedList,((t,l)=>((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[!e.search||t.title.toLowerCase().includes(e.search.toLowerCase())||t.subtitle.toLowerCase().includes(e.search.toLowerCase())?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:"callItem"+l,class:(0,o.normalizeClass)(["call-item full-width column-block justify-between",[{selected:e.selectedElement&&t.key===e.selectedElement.key},t.type]]),onClick:a=>e.selectElement(t)},[(0,o.createElementVNode)("div",Px,[(0,o.createElementVNode)("div",Ax,[(0,o.createVNode)(a,{path:`icons/ipad/apps/organizations/calls/${t.status}.svg`,class:(0,o.normalizeClass)([t.status,"item-header__icon"])},null,8,["path","class"]),(0,o.createElementVNode)("span",Rx,(0,o.toDisplayString)(e.$t(t.title)),1),(0,o.createElementVNode)("span",Ox,(0,o.toDisplayString)(e.$t(t.subtitle)),1),t.tag?((0,o.openBlock)(),(0,o.createElementBlock)("div",jx,(0,o.toDisplayString)(t.tag),1)):(0,o.createCommentVNode)("",!0)]),t.date&&"big"===t.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",Zx,(0,o.toDisplayString)(e.$dayjs(t.date).format("DD MMM, HH:mm")),1)):(t.location||t.date)&&"small"===t.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",Ux,[t.location?((0,o.openBlock)(),(0,o.createElementBlock)("div",Hx,[(0,o.createElementVNode)("span",Gx,(0,o.toDisplayString)(e.$t("cef.ipad.org.calls.call-item.to-goal")),1),(0,o.createElementVNode)("span",qx,(0,o.toDisplayString)(t.location.destination)+" "+(0,o.toDisplayString)(e.$t("cef.ipad.orders.kilometer")),1),(0,o.createVNode)(a,{class:"location__picture",path:"icons/ipad/apps/organizations/calls/marker.svg"})])):(0,o.createCommentVNode)("",!0),t.date?((0,o.openBlock)(),(0,o.createBlock)(i,{key:1,ref_for:!0,ref:"timers",time:t.timeLeft-t.date.getTime(),onProgress:a=>e.saveTimerValue(t.id,a)},{default:(0,o.withCtx)((t=>[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["timer row-block align-center",{"little-time":t.totalSeconds<e.$options.LITTLE_TIME}])},[(0,o.createElementVNode)("span",Wx,(0,o.toDisplayString)(e.formatTime(t.hours))+":"+(0,o.toDisplayString)(e.formatTime(t.minutes))+":"+(0,o.toDisplayString)(e.formatTime(t.seconds)),1),(0,o.createVNode)(a,{class:"timer__picture",path:"icons/ipad/apps/organizations/calls/timer.svg"})],2)])),_:2},1032,["time","onProgress"])):(0,o.createCommentVNode)("",!0)])):t.date&&"short"===t.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",Yx,[(0,o.createVNode)(i,{ref_for:!0,ref:"timers",time:t.timeLeft-t.date.getTime(),onProgress:a=>e.saveTimerValue(t.id,a)},{default:(0,o.withCtx)((t=>[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["timer row-block align-center",{"little-time":t.totalSeconds<e.$options.LITTLE_TIME}])},[(0,o.createElementVNode)("span",Kx,(0,o.toDisplayString)(e.formatTime(t.hours))+":"+(0,o.toDisplayString)(e.formatTime(t.minutes))+":"+(0,o.toDisplayString)(e.formatTime(t.seconds)),1),(0,o.createVNode)(a,{class:"timer__picture",path:"icons/ipad/apps/organizations/calls/timer.svg"})],2)])),_:2},1032,["time","onProgress"])])):(0,o.createCommentVNode)("",!0)]),"big"===t.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",Xx,[(0,o.createElementVNode)("div",Jx,[(0,o.createElementVNode)("div",Qx,[(0,o.createElementVNode)("span",ez,(0,o.toDisplayString)(e.$t("cef.ipad.org.calls.order-time")),1),(0,o.createElementVNode)("span",tz,(0,o.toDisplayString)(e.$dayjs(t.orderCreated).format("hh:mm:ss")),1)]),(0,o.createElementVNode)("div",az,[(0,o.createElementVNode)("span",oz,(0,o.toDisplayString)(e.$t("cef.ipad.org.calls.distance")),1),(0,o.createElementVNode)("span",iz,(0,o.toDisplayString)(t.distance)+" "+(0,o.toDisplayString)(e.$t("cef.ipad.orders.kilometer")),1)])]),(0,o.createElementVNode)("div",lz,[(0,o.createElementVNode)("span",nz,(0,o.toDisplayString)(e.countMoneyToDollar(t.totalPayment,!1,!1)),1),(0,o.createElementVNode)("span",rz,(0,o.toDisplayString)(t.paymentWithUnit),1)])])):"short"===t.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",sz,[(0,o.createElementVNode)("div",cz,[(0,o.createVNode)(a,{class:"location__picture",path:"icons/ipad/apps/organizations/calls/marker.svg"}),(0,o.createElementVNode)("span",dz,(0,o.toDisplayString)(e.$t("cef.ipad.org.calls.call-item.to-goall")),1),(0,o.createElementVNode)("span",mz,(0,o.toDisplayString)(t.location.destination)+" "+(0,o.toDisplayString)(e.$t("cef.ipad.orders.kilometer")),1)]),(0,o.createElementVNode)("div",pz,[(0,o.createElementVNode)("span",uz,(0,o.toDisplayString)(t.members.current),1),(0,o.createElementVNode)("span",hz,"/ "+(0,o.toDisplayString)(t.members.max),1),(0,o.createVNode)(a,{class:"members__picture",path:"icons/ipad/apps/organizations/calls/members.svg"})])])):(0,o.createCommentVNode)("",!0)],10,Fx)):(0,o.createCommentVNode)("",!0)],64)))),256))]),(0,o.createVNode)(o.Transition,{name:"local-fade",appear:"",mode:"out-in"},{default:(0,o.withCtx)((()=>[e.selectedElement?((0,o.openBlock)(),(0,o.createElementBlock)("div",gz,[(0,o.createElementVNode)("div",fz,[(0,o.createElementVNode)("span",yz,(0,o.toDisplayString)(e.$t(e.selectedElement.title)),1),e.selectedElement.date?((0,o.openBlock)(),(0,o.createElementBlock)("span",kz,(0,o.toDisplayString)(e.$dayjs(e.selectedElement.date).format("DD MMM, HH:mm")),1)):(0,o.createCommentVNode)("",!0)]),e.selectedElement.calledBy?((0,o.openBlock)(),(0,o.createElementBlock)("div",vz,(0,o.toDisplayString)(e.$t("cef.ipad.org.calls.called-by"))+" "+(0,o.toDisplayString)(e.selectedElement.calledBy.login)+" #"+(0,o.toDisplayString)(e.selectedElement.calledBy.static),1)):(0,o.createCommentVNode)("",!0),e.selectedElement.location?((0,o.openBlock)(),(0,o.createElementBlock)("div",bz,[(0,o.createElementVNode)("div",Nz,(0,o.toDisplayString)(e.selectedElement.location.main),1),(0,o.createElementVNode)("div",Vz,(0,o.toDisplayString)(e.selectedElement.location.details),1),(0,o.createElementVNode)("div",wz,[(0,o.createElementVNode)("div",Ez,[(0,o.createVNode)(a,{class:"point-button__picture",path:"icons/ipad/apps/organizations/calls/marker.svg"})]),(0,o.createElementVNode)("span",Sz,(0,o.toDisplayString)(e.$t("cef.ipad.org.calls.call-item.to-goal")),1),(0,o.createElementVNode)("span",Cz,(0,o.toDisplayString)(e.$t("cef.ipad.org.calls.call-item.km",{value:e.selectedElement.location.destination})),1)])])):(0,o.createCommentVNode)("",!0),e.selectedElement.members||e.selectedElement.dead?((0,o.openBlock)(),(0,o.createElementBlock)("div",_z,[e.selectedElement.members?((0,o.openBlock)(),(0,o.createElementBlock)("div",$z,[(0,o.createElementVNode)("span",Dz,(0,o.toDisplayString)(e.$t("cef.ipad.org.calls.members")),1),(0,o.createElementVNode)("div",Bz,[(0,o.createVNode)(a,{path:"icons/ipad/apps/organizations/calls/members.svg",class:"info-container__picture"}),(0,o.createElementVNode)("span",xz,(0,o.toDisplayString)(e.selectedElement.members.current),1),(0,o.createElementVNode)("span",zz,"/ "+(0,o.toDisplayString)(e.selectedElement.members.max),1)])])):(0,o.createCommentVNode)("",!0),e.selectedElement.dead?((0,o.openBlock)(),(0,o.createElementBlock)("div",Mz,[(0,o.createElementVNode)("span",Lz,(0,o.toDisplayString)(e.$t("cef.ipad.org.calls.corpses")),1),(0,o.createElementVNode)("div",Tz,[(0,o.createVNode)(a,{class:"info-container__picture",path:"icons/ipad/apps/organizations/calls/tombstone.svg"}),(0,o.createElementVNode)("span",Iz,(0,o.toDisplayString)(e.selectedElement.dead),1)])])):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0),e.selectedElement.availableMembers||e.selectedElement.timeLeft?((0,o.openBlock)(),(0,o.createElementBlock)("div",Fz,[e.selectedElement.availableMembers?((0,o.openBlock)(),(0,o.createElementBlock)("div",Pz,[(0,o.createElementVNode)("span",Az,(0,o.toDisplayString)(e.$t("cef.ipad.org.calls.available-people")),1),(0,o.createElementVNode)("div",Rz,[(0,o.createVNode)(a,{class:"info-container__picture",path:"icons/ipad/apps/organizations/calls/members.svg"}),(0,o.createElementVNode)("span",Oz,(0,o.toDisplayString)(e.selectedElement.availableMembers.current),1),(0,o.createElementVNode)("span",jz,"/ "+(0,o.toDisplayString)(e.selectedElement.availableMembers.max),1)])])):(0,o.createCommentVNode)("",!0),e.selectedElement.timeLeft?((0,o.openBlock)(),(0,o.createElementBlock)("div",Zz,[(0,o.createElementVNode)("span",Uz,(0,o.toDisplayString)(e.$t("cef.ipad.org.calls.time-to-take-order")),1),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["timer row-block align-center",{"little-time":this.countdowns[e.selectedElement.id-1]<e.$options.LITTLE_TIME}])},[(0,o.createVNode)(a,{class:"timer__picture",path:"icons/ipad/apps/organizations/calls/timer.svg"}),(0,o.createElementVNode)("span",Hz,(0,o.toDisplayString)(e.convertTime(this.countdowns[e.selectedElement.id-1])),1)],2)])):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0),e.selectedElement.totalPayment||e.selectedElement.paymentWithUnit?((0,o.openBlock)(),(0,o.createElementBlock)("div",Gz,[(0,o.createElementVNode)("span",qz,(0,o.toDisplayString)(e.$t("cef.ipad.org.calls.call-item.reward")),1),(0,o.createElementVNode)("div",Wz,[e.selectedElement.totalPayment?((0,o.openBlock)(),(0,o.createElementBlock)("span",Yz,(0,o.toDisplayString)(e.countMoneyToDollar(e.selectedElement.totalPayment,!1,!1)),1)):(0,o.createCommentVNode)("",!0),e.selectedElement.paymentWithUnit?((0,o.openBlock)(),(0,o.createElementBlock)("span",Kz,(0,o.toDisplayString)(e.selectedElement.paymentWithUnit),1)):(0,o.createCommentVNode)("",!0)])])):(0,o.createCommentVNode)("",!0),"expanded"===e.page?((0,o.openBlock)(),(0,o.createElementBlock)("div",Xz,(0,o.toDisplayString)(e.$t("cef.ipad.org.calls.done")),1)):((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:6,class:"control-button",onClick:t[1]||(t[1]=t=>e.onSelect(e.selectedElement.key))},(0,o.toDisplayString)(e.$t("cef.ipad.org.calls.call-info.control-buttons.accept")),1))])):(0,o.createCommentVNode)("",!0)])),_:1})])])),_:1})])],6)}var Qz={name:"calls",mixins:[Je.Z],components:{VueSelect:We.Z},FILTER_LIST:[{title:"cef.ipad.org.calls.filter.firefighters",value:"firefighters"},{title:"cef.ipad.org.calls.filter.trucker",value:"trucker"}],SORT_LIST:[{title:"cef.ipad.org.calls.sort.ascending",value:"ascending"},{title:"cef.ipad.org.calls.sort.descending",value:"descending"}],LITTLE_TIME:100,mounted(){this.$store.commit("ipad/organization/stopLoader")},data(){return{search:"",filter:null,sort:null,selectedElement:null,countdowns:{}}},computed:{...(0,He.rn)({organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],list:e=>e.ipad.organization.calls.list,page:e=>e.ipad.organization.calls.page}),indexedList(){return this.list.map(((e,t)=>({...e,id:t+1})))}},beforeCreate(){mp.trigger2("ipad.organization.orders.firefighter.load")},methods:{saveTimerValue(e,t){const a=JSON.parse(JSON.stringify(this.countdowns));a[e-1]=t.totalMilliseconds,this.countdowns=a},changeFilter(e){this.filter=e},formatTime(e){return e=e.toString(),1===e.length?`0${e}`:e},convertTime(e){const t=parseInt(e/1e3/60/60%60),a=parseInt(e/1e3/60%60),o=parseInt(e/1e3%60);return`${this.formatTime(t)}:${this.formatTime(a)}:${this.formatTime(o)}`},changeSort(e){this.sort=e},selectElement(e){if(this.selectedElement=e,this.selectedElement.timeLeft){const e=JSON.parse(JSON.stringify(this.countdowns));e[this.selectedElement.id-1]=this.$refs.timers[this.selectedElement.id-1].totalMilliseconds,this.countdowns=e}},onSelect(e){mp.trigger2("job.firefighter.selectTaskInMenu",e)}}};const eM=(0,et.Z)(Qz,[["render",Jz],["__scopeId","data-v-8333a43c"]]);var tM=eM;const aM={key:0,class:"map"},oM={class:"popup-header__buttons"},iM=["onClick"],lM={class:"popup-data"},nM={class:"popup-data__content"},rM={class:"popup-data__content-main"},sM={class:"popup-data__content-line"},cM=["onClick"],dM={class:"map-filters"},mM={class:"map-filters__item search"},pM=["placeholder"],uM={class:"map-filters__item select"},hM={class:"main-select__data"},gM={class:"map-legend"},fM={class:"map-legend__list"},yM=["src","alt"],kM={class:"map-zoom"},vM=["disabled","onClick"];function bM(e,t,a,i,l,n){const r=(0,o.resolveComponent)("LImageOverlay"),s=(0,o.resolveComponent)("LIcon"),c=(0,o.resolveComponent)("SVGComponent"),d=(0,o.resolveComponent)("LPopup"),m=(0,o.resolveComponent)("LMarker"),p=(0,o.resolveComponent)("VueSelect"),u=(0,o.resolveComponent)("LControl"),h=(0,o.resolveComponent)("LMap");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([e.organizationColorSchema.theme,"camera-page full-width full-height"]),style:(0,o.normalizeStyle)({"--main-color":`${e.organizationColorSchema.main}`,"--background":`${e.organizationColorSchema.backgroundColor}`,"--main-text-color":`${e.getCorrectContrastingFontColor(e.organizationColorSchema.main,"#fbfbfb","#060606")}`})},[e.isLoading?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",aM,[(0,o.createVNode)(h,{zoom:e.zoom,"onUpdate:zoom":t[2]||(t[2]=t=>e.zoom=t),options:e.$options.mapOptions,onReady:e.onMapReady},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(r,{url:e.imageURL,bounds:e.$options.imageBounds},null,8,["url","bounds"]),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.filteredMarkers,(a=>((0,o.openBlock)(),(0,o.createBlock)(m,{key:a.id,"lat-lng":e.convertToMap(a.latLng[0],a.latLng[1]),onPopupopen:t=>e.openPopup(a,{y:300})},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(s,{"icon-size":[24,28],"icon-url":`${e.cdn}/img/ipad/apps/organizations/DMV/${a.status}.svg`},null,8,["icon-url"]),(0,o.createVNode)(d,{class:"popup",options:e.$options.popupOptions},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",{class:"popup-header",style:(0,o.normalizeStyle)({background:e.getBackground(a)})},[(0,o.createElementVNode)("div",oM,[(0,o.createElementVNode)("button",{tabindex:"-1",class:"popup-header__buttons-item",onClick:t=>e.tracking(a)},[(0,o.createVNode)(c,{path:"icons/ipad/apps/organizations/DMV/marker.svg"})],8,iM),(0,o.createElementVNode)("button",{tabindex:"-1",class:"popup-header__buttons-item",onClick:t[0]||(t[0]=(...t)=>e.closePopup&&e.closePopup(...t))},[(0,o.createVNode)(c,{path:"icons/ipad/apps/organizations/DMV/cross.svg"})])])],4),(0,o.createElementVNode)("div",lM,[(0,o.createElementVNode)("div",nM,[(0,o.createElementVNode)("div",rM,[(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(e.$t("cef.ipad.org.dmv.plot",{id:a.id+1})),1),(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(a.street),1)]),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["popup-data__content-line",a.status])},[(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(e.$t("cef.ipad.org.dmv.camera-status")),1),(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(e.$t(`cef.ipad.org.dmv.cam-status.${a.status}`)),1)],2),(0,o.createElementVNode)("div",sM,[(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(e.$t("cef.ipad.org.dmv.amount")),1),(0,o.createElementVNode)("p",null,"$"+(0,o.toDisplayString)(e.$n(a.amount,"any-number")),1)])]),(0,o.createElementVNode)("button",{class:"popup-data__button",tabindex:"-1",onClick:t=>e.takeCamera(a)},[(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(e.$t("free"==a.status?"cef.ipad.org.dmv.install":"cef.ipad.org.dmv.watch")),1)],8,cM)])])),_:2},1032,["options"])])),_:2},1032,["lat-lng","onPopupopen"])))),128)),(0,o.createVNode)(u,{position:"topleft"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",dM,[(0,o.createElementVNode)("div",mM,[(0,o.createElementVNode)("input",{type:"text",placeholder:e.$t("cef.ipad.org.dmv.search"),maxlength:"20",onInput:t[1]||(t[1]=(...t)=>e.onSearchInput&&e.onSearchInput(...t))},null,40,pM),(0,o.createVNode)(c,{path:"icons/ipad/apps/organizations/DMV/search.svg"})]),(0,o.createElementVNode)("div",uM,[(0,o.createVNode)(p,{"item-list":e.$options.FILTERS_LIST,"custom-element":!0,class:(0,o.normalizeClass)(["map-filters__item select",{selected:e.selectedFilter}]),onSetItem:e.setFilter},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",hM,[(0,o.createVNode)(c,{path:"icons/ipad/apps/organizations/DMV/filter.svg"}),(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(e.$t(e.selectedFilter?`cef.ipad.org.dmv.status.${e.selectedFilter}`:"cef.ipad.adv.select-filter")),1)])])),arrow:(0,o.withCtx)((()=>[(0,o.createVNode)(c,{path:"icons/ipad/apps/organizations/DMV/arrow.svg"})])),customElement:(0,o.withCtx)((({item:t})=>[(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(e.$t(`cef.ipad.org.dmv.status.${t}`)),1)])),_:1},8,["item-list","class","onSetItem"])])])])),_:1}),(0,o.createVNode)(u,{position:"bottomleft"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",gM,[(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(e.$t("cef.ipad.org.dmv.legend")),1),(0,o.createElementVNode)("div",fM,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.$options.STATUS_TYPES,(t=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:t,class:"map-legend__list-item"},[(0,o.createElementVNode)("img",{src:`${e.cdn}/img/ipad/apps/organizations/DMV/${t}.svg`,alt:`${t}.svg`},null,8,yM),(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(e.$t(`cef.ipad.org.dmv.status.${t}`)),1)])))),128))])])])),_:1}),(0,o.createVNode)(u,{position:"bottomright"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",kM,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.$options.ZOOM_TYPES,(t=>((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:t.id,tabindex:"-1",class:"map-zoom__item",disabled:e.isZoomDisabled(t),onClick:a=>e.addMapZoom(t)},[(0,o.createVNode)(c,{path:`icons/ipad/apps/organizations/DMV/${t.id}.svg`},null,8,["path"])],8,vM)))),128))])])),_:1})])),_:1},8,["zoom","options","onReady"])]))],6)}var NM=a(45243),VM=a(67713),wM=(0,o.defineComponent)({mapOptions:{crs:NM.CRS.Simple,renderer:NM.Canvas,zoomSnap:.5,minZoom:-2,maxZoom:2,tileSize:1024,maxNativeZoom:0,minNativeZoom:0,keyboard:!1,doubleClickZoom:!1,zoomControl:!1,attributionControl:!1,bounds:[[-0,2048],[-3072,0]],maxBounds:[[-0,2048],[-3072,0]],center:[0,0]},popupOptions:{closeOnClick:!1,autoClose:!0,closeButton:!1},imageBounds:[[700.68,2472.12],[-3538.68,-354.12]],mapObject:null,FILTERS_LIST:["all","free","available","busy","attacked"],STATUS_TYPES:["free","available","busy","attacked"],ZOOM_TYPES:[{id:"plus",multiplier:.5},{id:"minus",multiplier:-.5}],mixins:[Ge.Z,Je.Z],components:{LMap:VM.iA,LImageOverlay:VM.eD,LMarker:VM.$R,LIcon:VM.QC,LPopup:VM.Q2,LControl:VM.oJ,VueSelect:We.Z},data(){return{imageURL:void 0,isReady:!1,selectedFilter:null,searchId:"",zoom:-2}},computed:{...(0,He.rn)({organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],isLoading:e=>e.ipad.organization.isLoading,markers:e=>e.ipad.organization.cameras.markers}),filteredMarkers(){return null==this.selectedFilter||"all"===this.selectedFilter?this.markers:this.markers.filter((e=>e.status==this.selectedFilter))}},methods:{onMapReady(e){this.mapObject=e,this.mapObject.on("drag",this.onDrag),this.isReady=!0},onDrag(){this.mapObject.panInsideBounds(this.$options.mapOptions.bounds,{animate:!1})},getBackground(e){const t=this.$_getImage(`img/ipad/apps/organizations/DMV/groups/${e.id+1}.png`);return`center / cover url(${t}) no-repeat`},convertToMap(e,t){if(!this.isReady)return[0,0];const a=-4230,o=8420,i=370,l=-640,n=3072,r=2048,s=this.mapObject.unproject([0,0],0),c=this.mapObject.unproject([r/2,n-1024],0),d=s.lng+(e-a)*(s.lng-c.lng)/(a-i),m=s.lat+(t-o)*(s.lat-c.lat)/(o-l);return{lat:m,lng:d}},openPopup(e,t){t={x:t.x||0,y:t.y||0};const{latLng:a}=e;a[1]>3e3&&this.mapObject.getZoom()<=-1&&this.mapObject.flyTo(this.convertToMap(a[0]+t.x,a[1]+t.y),1)},closePopup(){this.mapObject.closePopup()},tracking(e){mp.trigger2("client.dmv.tracking",JSON.stringify(e))},setFilter(e){this.selectedFilter=e},onSearchInput(e){if(e.target&&(this.searchId=e.target.value),!this.searchId.length)return this.mapObject.setZoom(-2);const t=parseInt(this.searchId),a=this.filteredMarkers.findIndex((e=>isNaN(t)?void 0:t-1===e.id));if(-1===a)return;const o=this.filteredMarkers[a];this.mapObject.flyTo(this.convertToMap(o.latLng[0],o.latLng[1]),1)},isZoomDisabled(e){const{minZoom:t=0,maxZoom:a=0}=this.$options.mapOptions;return e.multiplier+this.zoom<t||e.multiplier+this.zoom>a},addMapZoom(e){this.zoom+=e.multiplier},takeCamera(e){mp.trigger2("client.dmv.takeCamera",JSON.stringify(e))}},created(){this.imageURL=this.$_getImage(`img/ipad/apps/organizations/DMV/map/${this.organizationColorSchema.theme}.svg`)}});const EM=(0,et.Z)(wM,[["render",bM],["__scopeId","data-v-0b7e6094"]]);var SM=EM,CM={name:"organization",mixins:[Ge.Z,Je.Z],components:{HubPage:at,BlacklistPage:pa,PerkTreePage:lo,MembersPage:zo,PlayerPage:Gi,AccessPage:Wr,StorePage:Is,BalancePage:yc,NewsPage:dm,DatabasePage:kp,TaxationPage:Kp,FinancingPage:Mh,ControlPage:Uh,DatabasePlayerPage:uy,BonusesPage:Vk,FinesPage:lN,DispatcherPage:ww,LawsPage:rb,DeliveriesPage:vS,ContractsPage:IC,FamilyInfoPage:V$,CapturesPage:bD,CaptureMapPage:xx,CallsPage:tM,CamerasPage:SM,VueSelect:We.Z},data(){return{modal:null,modalHeightType:null,storeSpace:null,closed:!1}},mounted(){"white"===this.organizationColorSchema.theme&&this.setNavbarColor(!0),this.storeSpace=this.storeSpaces[0]},beforeUnmount(){this.setNavbarColor(!1),this.openPage({path:"hub",title:null}),this.stopLoader()},methods:{...(0,He.OI)({setNavbarColor:"ipad/setNavbarColor",stopLoader:"ipad/organization/stopLoader",setFinancingPage:"ipad/organization/financing/setPage",setDispatcherPage:"ipad/organization/dispatcher/setPage",setNewsPage:"ipad/organization/news/setPage",setLawsPage:"ipad/organization/laws/setPage",setDeliveriesPage:"ipad/organization/deliveries/setPage",setAccessPage:"ipad/organization/access/setPage",closeApp:"ipad/closeApp",setCallsPage:"ipad/organization/calls/setPage"}),...(0,He.nv)({openPage:"ipad/organization/openPage",setDatabaseCategory:"ipad/organization/database/setCategory",setStoreCategory:"ipad/organization/store/setStoreCategory",setBlacklistCategory:"ipad/organization/blacklist/setBlacklistCategory",back:"ipad/organization/back"}),transitionComplete(){this.modalHeightType=this.modal},setClosed(){this.closed=!0},setModal(e){this.modal=e},setPageModal(e,t){qe.TB.$emit(t,e)},setDeliveriesModal(e){qe.TB.$emit("set-news-modal",e)},removeFamily(){this.setModal(null),mp.trigger2("ipad.organization.familyInfo.removeFamily")},setNewFamilyHouse(){this.setModal(null),mp.trigger2("ipad.organization.setNewFamilyHouse")},setStoreSpace(e){this.storeSpace=e},swapReputation(e){mp.trigger2("ipad.organization.perkTree.swapReputation",e)}},computed:{...(0,He.rn)({member:e=>e.main.member,openedApp:e=>e.ipad.openedApp,rankName:e=>e.ipad.organization.rankName,login:e=>e.main.login,page:e=>e.ipad.organization.page,additionalTitle:e=>e.ipad.organization.additionalTitle,isLoading:e=>e.ipad.organization.isLoading,databaseCategory:e=>e.ipad.organization.database.category,storeCategory:e=>e.ipad.organization.store.category,blacklistCategory:e=>e.ipad.organization.blacklist.category,balance:e=>e.ipad.organization.balance.balance,financingPage:e=>e.ipad.organization.financing.page,dispatcherPage:e=>e.ipad.organization.dispatcher.page,controlOrgIncome:e=>e.ipad.organization.control.orgIncome,newsPage:e=>e.ipad.organization.news.page,lawsPage:e=>e.ipad.organization.laws.page,accessPage:e=>e.ipad.organization.access.page,accessUpgradeProperty:e=>e.ipad.organization.access.upgradePropertyId,deliveriesPage:e=>e.ipad.organization.deliveries.page,quantities:e=>e.ipad.organization.deliveries.quantities,materials:e=>e.ipad.organization.materials,organizationColorSchema:e=>e.ipad.colorSchema[e.ipad.openedApp],title:e=>"family"===e.ipad.openedApp?e.ipad.familyTitle:e.ipad.organizationTitle,reputation:e=>e.ipad.organization.contracts.reputation,familyFrozen:e=>e.ipad.familyFrozen,familyRemovedDate:e=>e.ipad.familyRemovedDate,privateHousePrice:e=>e.ipad.privateHousePrice,callsPage:e=>e.ipad.organization.calls.page,leaderDate:e=>e.ipad.organization.members.leaderDate,leaderDays:e=>e.ipad.organization.members.leaderDays,totalCount:e=>e.ipad.organization.totalCount,onlineCount:e=>e.ipad.organization.onlineCount,currentCount:e=>e.ipad.organization.currentCount,storeSpaces:e=>e.ipad.organization.store.storeSpaces,cameras:e=>e.ipad.organization.cameras.markers,fractionKits:e=>e.ipad.organization.access.fractionKits}),...(0,He.Se)({databaseActivePlayer:"ipad/organization/database/activePlayer"}),royalty(){let e=parseInt(this.privateHousePrice/100*.25/100/100);return e<15&&(e=15),7*e},type(){switch(this.member){case 1:return"LSPD";case 2:return"EMS";case 3:return"SHPD";case 4:return"SANG";case 5:return"GOV";case 6:return"WeazelNews";case 7:return"FIB";case 8:return"TheBallasGang";case 9:return"LosSantosVagos";case 10:return"TheFamilies";case 11:return"TheBloodsGang";case 12:return"MarabuntaGrande";case 13:return"LaCosaNostra";case 14:return"RussianMafia";case 15:return"Yakuza";case 16:return"MexicanCartel";case 17:return"TheLost";case 18:return"Angels";case 19:return"AM"}return this.title},iconPage(){return this.page.split("-")[0]},organizationTitle(){switch(this.member){case 1:return"Police Department";case 2:return"EMS";case 3:return"Sheriff Department";case 4:return"SA National Guard";case 5:return"Government";case 6:return"Weazel News";case 7:return"FIB";case 8:return"The Ballas Gang";case 9:return"Los Santos Vagos";case 10:return"The Families";case 11:return"The Bloods Gang";case 12:return"Marabunta Grande";case 13:return"La Cosa Nostra";case 14:return"Russian Mafia";case 15:return"Yakuza";case 16:return"Mexican Cartel";case 17:return"The Lost MC";case 18:return"Angels of Death MC";case 19:return"Irish Mafia"}return this.type},installedCameras(){return this.cameras.filter((e=>"free"!==e.status)).length}}};const _M=(0,et.Z)(CM,[["render",Ue],["__scopeId","data-v-15f9b6b6"]]);var $M=_M},83210:function(e,t,a){"use strict";a.d(t,{Z:function(){return m}});var o=a(78221);const i=e=>((0,o.pushScopeId)("data-v-624ea451"),e=e(),(0,o.popScopeId)(),e),l={ref:"image",alt:"",class:"image-container__picture"},n=i((()=>(0,o.createElementVNode)("div",{class:"loader-container"},[(0,o.createElementVNode)("div",{class:"loader"})],-1)));function r(e,t,a,i,r,s){return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["image-container",{hasPadding:r.hasPadding,isLoaded:r.isLoaded}])},[(0,o.createElementVNode)("img",l,null,512),n],2)}var s={name:"padded-image",LOCAL_STORAGE_CACHE:"cachedPaddedImages",TOP_OFFSET:10,props:{src:{type:String,required:!0}},created(){this.img=new Image,this.img.src=this.src,this.img.crossOrigin="Anonymous",this.filename=this.src.substring(this.src.lastIndexOf("/")+1),this.img.addEventListener("load",this.imageLoaded)},beforeUnmount(){this.img.removeEventListener("load",this.imageLoaded)},data(){return{hasPadding:!1,img:null,filename:null,isLoaded:!1}},methods:{imageLoaded(){this.$refs.image.src=this.img.src;const e=localStorage.getItem(this.$options.LOCAL_STORAGE_CACHE);if("string"==typeof e&&-1!==e.indexOf(`"${this.filename}"`))return this.hasPadding=JSON.parse(e)[this.filename],this.$refs.image.src=this.img.src,void(this.isLoaded=!0);const t=document.createElement("canvas");t.width=this.img.width,t.height=this.img.height;const a=t.getContext("2d");a.drawImage(this.img,0,0);const o=a.getImageData(0,0,this.img.width,this.$options.TOP_OFFSET).data;for(let i=0;i<o.length;i+=4){let e=o[i+3];if(e>50){this.hasPadding=!0;let e=localStorage.getItem(this.$options.LOCAL_STORAGE_CACHE);e=null==e?{}:JSON.parse(e),e[this.filename]=!0,localStorage.setItem(this.$options.LOCAL_STORAGE_CACHE,JSON.stringify(e)),this.isLoaded=!0;break}}this.isLoaded=!0}}},c=a(83744);const d=(0,c.Z)(s,[["render",r],["__scopeId","data-v-624ea451"]]);var m=d},37946:function(e,t,a){"use strict";a.d(t,{Z:function(){return J}});var o=a(78221);const i={class:"family-editor-content full-width full-height"},l={class:"inputs row-block justify-between"},n={class:"input-container name column-block"},r={for:"name",class:"input-container__label"},s={class:"input-block row-block align-center"},c=["placeholder"],d={class:"input-container tag column-block"},m={for:"tag",class:"input-container__label"},p={class:"input-block full-width row-block align-center"},u=["placeholder"],h={class:"params row-block full-width"},g={class:"param color-picker column-block"},f={class:"param__title"},y={class:"param style-selector column-block"},k={for:"picker",class:"param__title"},v={class:"ipad-style-selector__value"},b={class:"param style-selector column-block"},N={for:"picker",class:"param__title"},V={key:0,class:"list-header__title"},w=["onClick"],E={for:"picker",class:"param__title"},S={class:"view-board full-width row-block align-center"},C={class:"align-end full-height"},_={class:"row-block justify-between align-center"},$={class:"row-block align-center"},D={class:"header-title"},B={class:"row-block align-center"},x={class:"user-data column-block align-end"},z={class:"user-data__text-login"},M={class:"user-data__text-rank"},L=["src"],T={class:"ipad-pages full-width full-height row-block"},I={class:"page__title"},F=["src"];function P(e,t,a,P,A,R){const O=(0,o.resolveComponent)("SVGComponent"),j=(0,o.resolveComponent)("ColorPicker"),Z=(0,o.resolveComponent)("vue-select");return(0,o.openBlock)(),(0,o.createElementBlock)("main",i,[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("label",r,(0,o.toDisplayString)(e.$t("cef.createFamily.main-info.name-label")),1),(0,o.createElementVNode)("div",s,[(0,o.withDirectives)((0,o.createElementVNode)("input",{id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>A.title=e),type:"text",class:"input-block__input full-width",placeholder:e.$t("cef.createFamily.main-info.name-placeholder"),onInput:t[1]||(t[1]=t=>e.touch("title"))},null,40,c),[[o.vModelText,A.title]]),!e.anyErrors("title")&&e.isDirty("title")?((0,o.openBlock)(),(0,o.createBlock)(O,{key:0,path:"icons/createFamily/tick.svg",class:"input-block__picture"})):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",d,[(0,o.createElementVNode)("label",m,(0,o.toDisplayString)(e.$t("cef.createFamily.main-info.tag-label")),1),(0,o.createElementVNode)("div",p,[(0,o.withDirectives)((0,o.createElementVNode)("input",{id:"tag","onUpdate:modelValue":t[2]||(t[2]=e=>A.tag=e),type:"text",class:"input-block__input full-width",placeholder:e.$t("cef.createFamily.main-info.tag-placeholder"),onInput:t[3]||(t[3]=t=>e.touch("tag"))},null,40,u),[[o.vModelText,A.tag]]),!e.anyErrors("tag")&&e.isDirty("tag")?((0,o.openBlock)(),(0,o.createBlock)(O,{key:0,path:"icons/createFamily/tick.svg",class:"input-block__picture"})):(0,o.createCommentVNode)("",!0)])])]),(0,o.createElementVNode)("div",h,[(0,o.createElementVNode)("div",g,[(0,o.createElementVNode)("label",f,(0,o.toDisplayString)(e.$t("cef.createFamily.main-info.main-color")),1),(0,o.createVNode)(j,{onUpdateValue:R.updateValue},null,8,["onUpdateValue"])]),(0,o.createElementVNode)("div",y,[(0,o.createElementVNode)("label",k,(0,o.toDisplayString)(e.$t("cef.createFamily.main-info.ipad-style")),1),A.ipadStyle?((0,o.openBlock)(),(0,o.createBlock)(Z,{key:0,"item-list":A.ipadStyles,active:0,class:"ipad-style-selector",onSetItem:R.setIpadStyle},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("span",v,(0,o.toDisplayString)(A.ipadStyle),1)])),_:1},8,["item-list","onSetItem"])):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("div",b,[(0,o.createElementVNode)("label",N,(0,o.toDisplayString)(e.$t("cef.createFamily.main-info.hud-color-label")),1),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["special-list",{active:A.blipsOpened}])},[(0,o.createElementVNode)("div",{class:"list-header row-block justify-between align-center",onClick:t[4]||(t[4]=(...e)=>R.switchBlipSelect&&R.switchBlipSelect(...e))},[A.selectedBlip?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:1,class:"selected-color",style:(0,o.normalizeStyle)({"background-color":A.selectedBlip})},null,4)):((0,o.openBlock)(),(0,o.createElementBlock)("span",V,(0,o.toDisplayString)(e.$t("cef.createFamily.main-info.hud-color-selector-default")),1)),(0,o.createVNode)(O,{path:"icons/global/chevron.svg",class:"list-header__icon"})]),(0,o.createVNode)(o.Transition,{name:"local-fade",appear:""},{default:(0,o.withCtx)((()=>[A.blipsOpened?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:"list full-width row-block",onClick:t[5]||(t[5]=(...e)=>R.switchBlipSelect&&R.switchBlipSelect(...e))},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.$options.blips,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:e,class:"color",style:(0,o.normalizeStyle)({"background-color":e}),onClick:t=>R.selectBlip(e)},null,12,w)))),128))])):(0,o.createCommentVNode)("",!0)])),_:1})],2)]),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["param logo-uploader column-block",{"file-uploaded":A.file.name}])},[(0,o.createElementVNode)("label",E,(0,o.toDisplayString)(e.$t("cef.createFamily.main-info.logo-label")),1),(0,o.createElementVNode)("input",{id:"file",ref:"fileUploader",type:"file",accept:"image/png, image/jpeg",onChange:t[6]||(t[6]=(...e)=>R.uploadIcon&&R.uploadIcon(...e))},null,544),(0,o.createElementVNode)("label",{for:"file",class:"logo-uploader__title align-center",style:(0,o.normalizeStyle)({color:a.textColor})},(0,o.toDisplayString)(A.file.name||e.sliceString(e.$t("cef.createFamily.main-info.logo-uploader"),14)),5)],2)]),(0,o.createElementVNode)("div",S,[(0,o.createElementVNode)("div",C,[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["ipad column-block",e.$options.IPAD_STYLES[A.ipadStyles.indexOf(A.ipadStyle)]]),style:(0,o.normalizeStyle)({"--picked-color":A.pickedColor})},[(0,o.createElementVNode)("header",_,[(0,o.createElementVNode)("div",$,[(0,o.createVNode)(O,{class:"header__icon-hub",path:"icons/ipad/apps/organizations/house.svg"}),(0,o.createElementVNode)("span",D,(0,o.toDisplayString)(e.sliceString(A.title,25)),1)]),(0,o.createElementVNode)("div",B,[(0,o.createElementVNode)("div",x,[(0,o.createElementVNode)("span",z,(0,o.toDisplayString)(e.login),1),(0,o.createElementVNode)("span",M,(0,o.toDisplayString)(e.rankName),1)]),R.previewImage?((0,o.openBlock)(),(0,o.createElementBlock)("img",{key:0,class:"header__icon-logo",src:R.previewImage,alt:""},null,8,L)):((0,o.openBlock)(),(0,o.createBlock)(O,{key:1,path:"icons/createFamily/default-icon.svg",class:"header__icon-logo not-selected"})),(0,o.createVNode)(O,{path:"icons/ipad/apps/organizations/close.svg",class:"header__icon-close"})])]),(0,o.createElementVNode)("div",T,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.$options.ipadPages,(t=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:t.tLine,class:"page column-block"},[(0,o.createVNode)(O,{class:"page-icon",path:`icons/ipad/apps/organizations/hub/${t.icon}.svg`},null,8,["path"]),(0,o.createElementVNode)("span",I,(0,o.toDisplayString)(e.$t(t.tLine)),1)])))),128))])],6)]),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["logo-preview",{"logo-preview__default":!R.previewImage}])},[R.previewImage?((0,o.openBlock)(),(0,o.createElementBlock)("img",{key:0,class:"logo-preview__picture",src:R.previewImage,alt:""},null,8,F)):((0,o.openBlock)(),(0,o.createBlock)(O,{key:1,path:"icons/createFamily/default-icon.svg",class:"logo-preview__picture"}))],2)])])}var A=a(33907),R=a(49759),O=a(10086),j=a(18763),Z=a(63697),U=a(76204);const H=e=>new Promise((t=>{e.complete?t():e.addEventListener("load",t)}));let G=null;const q=e=>{let t=!1;for(let a=0;a<e.data.length;a+=4)if(e.data[a+3]<255){t=!0;break}return t},W=(e,t="fileName")=>new Promise((async a=>{if(!G){const e=document.createElement("canvas"),t=e.getContext("2d");G=t}await H(e),G.canvas.width=e.width,G.canvas.height=e.height,G.clearRect(0,0,e.width,e.height),G.drawImage(e,0,0);const o=G.getImageData(0,0,e.width,e.height),i=q(o),l="image/"+(i?"png":"jpeg"),n=i?"png":"jpg",r=`${t}.${n}`;G.canvas.toBlob((t=>{const o=new File([t],r,{type:l});a({name:r,extension:n,type:l,file:o,blob:t,width:e.width,height:e.height,dataUrl:G.canvas.toDataURL(l,100)})}),l)}));var Y={name:"SecondPage",components:{VueSelect:j.Z,ColorPicker:O.Z},mixins:[R.Z],props:{mode:{default:"create",type:String},textColor:{type:String}},setup(){return{v$:(0,U.ZP)()}},validations:{title:{required:Z.C1,minLength:(0,Z.Ei)(4),maxLength:(0,Z.BS)(20)},tag:{required:Z.C1,alphaNum:Z.Pf,minLength:(0,Z.Ei)(2),maxLength:(0,Z.BS)(4)}},ipadPages:[{icon:"members",tLine:"cef.createFamily.ipad-pages.members"},{icon:"access",tLine:"cef.createFamily.ipad-pages.access"},{icon:"store",tLine:"cef.createFamily.ipad-pages.store"}],IPAD_STYLES:["black","white"],blips:["#c65859","#a175b4","#ff81c8","#f7a480","#b6968b","#92d0ab","#78adb3","#d5d3e8","#95859f","#71c8c2","#d8c69e","#ec9359","#9eccea","#b6698d","#94927f","#aa7a67","#b4abac","#e993a0","#bfd863","#17815d","#80c7ff","#af45e7","#d0ac18","#4f6ab1","#35aabc","#bda184","#cde2ff","#f1f19b","#ed90a4","#f98e8e","#fcf0a9","#f0f0f0","#3775bd","#9f9f9f","#545454","#f29e9e","#6db8d7","#afedae","#ffa75f","#f1f1f1","#ebef29","#ff9a18","#f745a4","#e03a3a","#8a6de3","#ff8b5c","#426d42","#b3ddf2","#a0a0a0","#847232","#4c4276","#ce3f99","#cfcfcf","#286b9f","#d87b1b","#8e8393","#79ce79","#f0cb58","#f0ca57","#e03b3b","#782424","#3a647a","#e13b3b","#f2a40b","#a4ccaa","#a753f2","#65b9e7","#000000"],data(){return{pickedColor:"#FBFBFB",pickerShow:!1,isColorPicked:!1,ipadStyle:null,blipsOpened:!1,selectedBlip:null,title:"",tag:"",ipadStyles:[],file:{name:null,objectURL:null,instance:null}}},computed:{...(0,A.rn)({login:e=>e.main.login,rankName:e=>e.ipad.organization.rankName,familyTitle:e=>e.ipad.familyTitle,familyTag:e=>e.ipad.familyTag,familyMainColor:e=>e.ipad.colorSchema.family.main,familyTheme:e=>e.ipad.colorSchema.family.theme,familyBlipColor:e=>e.ipad.colorSchema.family.blipColor,familyLogo:e=>e.ipad.colorSchema.family.logo}),isFormValid(){return this.isColorPicked&&null!=this.ipadStyle&&null!=this.selectedBlip&&this.file.name&&!this.anyErrors("title")&&!this.anyErrors("tag")},previewImage(){return"create"===this.mode&&this.file?this.file.objectURL:"edit"===this.mode?this.file&&this.file.objectURL?this.file.objectURL:this.familyLogo:null}},methods:{...(0,A.OI)({showNotify:"main/showNotify"}),setAppearance(){let e;e=this.v$.tag.$error?null:this.tag,this.$emit("set-appearance",{title:this.title,tag:e,pickedColor:this.pickedColor,selectedBlip:this.selectedBlip,ipadStyle:this.ipadStyle,logoFile:this.file})},switchPicker(){this.pickerShow=!this.pickerShow},switchBlipSelect(){this.blipsOpened=!this.blipsOpened},selectBlip(e){this.selectedBlip=e,this.setAppearance()},updateValue(e){this.isColorPicked=!0,this.pickedColor=e.hex,this.setAppearance()},setIpadStyle(e){this.ipadStyle=e,this.setAppearance()},async uploadIcon(){const e=this.$refs.fileUploader.files[0];if(!e)return;const t=new Image;t.src=URL.createObjectURL(e);const a=await W(t,e.name.replace(/\.[^/.]+$/,""));return a.width<256||a.height<256?(this.showNotify({text:`Минимальное разрешение изображения 256x256 (Вы загрузили ${a.width}x${a.height})`,type:"error"}),this.file.instance=null,this.file.objectURL=null,void(this.file.name=null)):a.width>1024||a.height>1024?(this.showNotify({text:`Максимальное разрешение изображения 1024x1024 (Вы загрузили ${a.width}x${a.height})`,type:"error"}),this.file.instance=null,this.file.objectURL=null,void(this.file.name=null)):void(a.file.size>1572864?this.showNotify({text:"Максимальное размер изображения 1.5мб",type:"error"}):(this.file.instance=a.file,this.file.objectURL=a.dataUrl,this.file.name=a.name,this.setAppearance()))}},watch:{title(){this.setAppearance()},tag(){this.setAppearance()}},mounted(){const e=[this.$t("cef.createFamily.main-info.ipad-styles-list.0"),this.$t("cef.createFamily.main-info.ipad-styles-list.1")];this.ipadStyles=e,"edit"===this.mode?(this.title=this.familyTitle,this.tag=this.familyTag,this.pickedColor=this.familyMainColor,this.ipadStyle=e["black"===this.familyTheme?0:1],this.selectedBlip=this.familyBlipColor):this.ipadStyle=e[0]},beforeUnmount(){this.setAppearance()}},K=a(83744);const X=(0,K.Z)(Y,[["render",P],["__scopeId","data-v-90f98928"]]);var J=X},23678:function(e,t,a){"use strict";a.d(t,{Z:function(){return m}});var o=a(78221);const i=e=>((0,o.pushScopeId)("data-v-7ab9c143"),e=e(),(0,o.popScopeId)(),e),l=i((()=>(0,o.createElementVNode)("div",{class:"loader"},"Loading...",-1))),n=[l];function r(e,t,a,i,l,r){return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["loading",{"loading-active":a.loading}])},n,2)}var s={props:{loading:{type:Boolean,default:!1}}},c=a(83744);const d=(0,c.Z)(s,[["render",r],["__scopeId","data-v-7ab9c143"]]);var m=d},366:function(e,t,a){"use strict";a.d(t,{Z:function(){return y}});var o=a(78221);const i=e=>((0,o.pushScopeId)("data-v-6a509ced"),e=e(),(0,o.popScopeId)(),e),l={class:"column-block"},n={for:"input"},r={class:"input-block align-center"},s={class:"row-block full-width"},c=i((()=>(0,o.createElementVNode)("span",null,"$",-1))),d=["placeholder"];function m(e,t){const a=(0,o.resolveComponent)("vue-slider");return(0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createElementVNode)("label",n,(0,o.toDisplayString)(e.label),1),(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",s,[c,(0,o.withDirectives)((0,o.createElementVNode)("input",{id:"input",placeholder:e.placeholder,type:"text","onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t),class:"input-block__input full-width"},null,8,d),[[o.vModelText,e.value]])]),(0,o.createVNode)(a,(0,o.mergeProps)(e.slider,{class:"input-block__slider",ref:"slider",tooltip:"none",modelValue:e.value,"onUpdate:modelValue":t[1]||(t[1]=t=>e.value=t),silent:!0}),null,16,["modelValue"])])])}var p=a(79454),u=a.n(p),h={name:"money-select",components:{VueSlider:u()},emits:["update:modelValue"],props:{slider:{type:Object,required:!0},placeholder:{type:String,default:"Enter value"},label:{type:String},modelValue:{type:Number}},data(){return{value:this.modelValue}},watch:{value(e){e=Math.min(e,this.slider.max),this.value=e||"",this.$emit("update:modelValue",e)}}},g=a(83744);const f=(0,g.Z)(h,[["render",m],["__scopeId","data-v-6a509ced"]]);var y=f},54842:function(e,t,a){"use strict";a.d(t,{Z:function(){return c}});var o=a(78221);const i={class:"money-container"};function l(e,t,a,l,n,r){return(0,o.openBlock)(),(0,o.createElementBlock)("div",i,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.countMoneyToDollar(a.value,!0,a.shortNumber).split(",")[0]),1),(0,o.createElementVNode)("span",null,","+(0,o.toDisplayString)(e.countMoneyToDollar(a.value,!0,a.shortNumber).split(",")[1]),1)])}var n={name:"money",props:{value:{required:!0,type:Number},shortNumber:{type:Boolean,default:!0}}},r=a(83744);const s=(0,r.Z)(n,[["render",l],["__scopeId","data-v-617cae18"]]);var c=s},56251:function(e,t,a){"use strict";a.d(t,{Z:function(){return N}});var o=a(78221);const i=e=>((0,o.pushScopeId)("data-v-438e6e7a"),e=e(),(0,o.popScopeId)(),e),l={class:"input-block full-width column-block justify-start align-start"},n={class:"input-block__wrapper column-block align-start justify-center"},r={class:"row-block align-center justify-start"},s={key:0},c=["placeholder"],d={key:1,class:"additionalValue"},m={key:2,class:"additional row-block align-center justify-end"},p=["placeholder"],u={key:0},h=i((()=>(0,o.createElementVNode)("div",{class:"trail-back"},[(0,o.createElementVNode)("div",{class:"trail-value"})],-1)));function g(e,t){const a=(0,o.resolveComponent)("SVGComponent"),i=(0,o.resolveComponent)("vue-slider");return(0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("div",r,[e.value?((0,o.openBlock)(),(0,o.createElementBlock)("span",s,(0,o.toDisplayString)(e.symbol),1)):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("input",{ref:"mainInput",onInput:t[0]||(t[0]=(...t)=>e.onInputValue&&e.onInputValue(...t)),type:"text",onCut:t[1]||(t[1]=(0,o.withModifiers)((()=>{}),["prevent"])),onCopy:t[2]||(t[2]=(0,o.withModifiers)((()=>{}),["prevent"])),onPaste:t[3]||(t[3]=(0,o.withModifiers)((()=>{}),["prevent"])),placeholder:e.placeholder,class:"input-block__input"},null,40,c),e.additionalValueIsInput?((0,o.openBlock)(),(0,o.createElementBlock)("div",m,[(0,o.createElementVNode)("input",{ref:"additionalInput",onInput:t[4]||(t[4]=(...t)=>e.onInputAdditionalValue&&e.onInputAdditionalValue(...t)),type:"text",onCut:t[5]||(t[5]=(0,o.withModifiers)((()=>{}),["prevent"])),onCopy:t[6]||(t[6]=(0,o.withModifiers)((()=>{}),["prevent"])),onPaste:t[7]||(t[7]=(0,o.withModifiers)((()=>{}),["prevent"])),placeholder:e.additionalPlaceholder,class:"input-block__input"},null,40,p),e.value&&"string"===typeof e.additionalSymbol?((0,o.openBlock)(),(0,o.createElementBlock)("span",u,(0,o.toDisplayString)(e.additionalSymbol),1)):(0,o.createCommentVNode)("",!0),e.value&&"object"===typeof e.additionalSymbol?((0,o.openBlock)(),(0,o.createBlock)(a,{key:1,path:"icons/createFamily/mc.svg"})):(0,o.createCommentVNode)("",!0)])):((0,o.openBlock)(),(0,o.createElementBlock)("span",d,(0,o.toDisplayString)(e.additionalValue),1))]),h]),(0,o.createVNode)(i,(0,o.mergeProps)(e.slider,{ref:"value",tooltip:"none",modelValue:e.value,"onUpdate:modelValue":t[8]||(t[8]=t=>e.value=t)}),null,16,["modelValue"])])}var f=a(79454),y=a.n(f),k={name:"money-select",components:{VueSlider:y()},emits:["update:modelValue"],props:{slider:{type:Object,required:!0},additionalSlider:{type:Object},placeholder:{type:String,default:"Enter value"},additionalPlaceholder:{type:String,default:"Enter value"},symbol:{type:String,default:"$"},additionalSymbol:{type:[String,Object],default:"$"},getValue:{type:Number,default:null},additionalGetValue:{type:Number,default:null},initialValue:{type:Number,default:null},additionalInitialValue:{type:Number,default:null},additionalValue:{type:String,default:null},additionalValueIsInput:{type:Boolean,default:!1},toFixedValue:{type:Number,default:null},additionalToFixedValue:{type:Number,default:null},withEmptyValue:{type:Boolean,default:!0},additionalWithEmptyValue:{type:Boolean,default:!0}},created(){this.initialValue?this.value=this.toFixedValue?parseFloat(this.initialValue).toFixed(this.toFixedValue):this.initialValue:this.value=this.toFixedValue?parseFloat(this.slider.min).toFixed(this.toFixedValue):this.slider.min,this.additionalValueIsInput&&(this.additionalInitialValue?this.additionalInputValue=this.additionalToFixedValue?this.additionalInitialValue.toFixed(this.additionalToFixedValue):this.additionalInitialValue:this.additionalInputValue=this.additionalToFixedValue?this.additionalSlider.min.toFixed(this.additionalToFixedValue):this.additionalSlider.min),this.updateTrailInterval=setInterval((()=>{this.$nextTick((()=>{const e=document.querySelector(".vue-slider-process"),t=document.querySelector(".trail-value");t.style["width"]=e.style["width"],t.style["transition-duration"]=e.style["transition-duration"]}))}),10)},beforeUnmount(){clearInterval(this.updateTrailInterval)},data(){return{value:0,additionalInputValue:0,updateTrailInterval:null,inputTimeout:null,additionalInputTimeout:null}},methods:{onInputValue(e){clearTimeout(this.inputTimeout),this.inputTimeout=null,this.inputTimeout=setTimeout((()=>{this.value=e.target.value}),500)},onInputAdditionalValue(e){clearTimeout(this.additionalInputTimeout),this.additionalInputTimeout=null,this.additionalInputTimeout=setTimeout((()=>{this.additionalInputValue=e.target.value}),500)},updateValueInput(){(0,o.nextTick)((()=>{this.$refs.mainInput.value=this.value}))},updateAdditionalValueInput(){(0,o.nextTick)((()=>{this.$refs.additionalInput.value=this.additionalInputValue}))}},watch:{value(e){if(isNaN(Number(e))&&(e=0),e=Math.min(e,this.slider.max),e<this.slider.min?e=this.slider.min:e>this.slider.max&&(e=this.slider.max),this.slider.interval){const t=Math.floor(e%this.slider.interval);t&&(e-=t)}this.value=this.withEmptyValue?e?this.toFixedValue?e.toFixed(this.toFixedValue):e:"":this.toFixedValue?e.toFixed(this.toFixedValue):e,this.$emit("update:modelValue",e),this.updateValueInput()},additionalInputValue(e){if(isNaN(Number(e))&&(e=0),e=Math.min(e,this.additionalSlider.max),e<this.additionalSlider.min?e=this.additionalSlider.min:e>this.additionalSlider.max&&(e=this.additionalSlider.max),this.additionalSlider.interval){const t=Math.floor(e%this.additionalSlider.interval);t&&(e-=t)}this.additionalInputValue=this.additionalWithEmptyValue?e?this.additionalToFixedValue?e.toFixed(this.additionalToFixedValue):e:"":this.additionalToFixedValue?e.toFixed(this.additionalToFixedValue):e,this.$emit("additionalInput",e),this.updateAdditionalValueInput()},getValue(e){this.value=null===e?(this.toFixedValue,0):this.toFixedValue?e.toFixed(this.toFixedValue):e},additionalGetValue(e){this.additionalInputValue=null===e?(this.additionalToFixedValue,0):this.additionalToFixedValue?e.toFixed(this.additionalToFixedValue):e},slider(){this.value=this.toFixedValue?this.slider.min.toFixed(this.toFixedValue):this.slider.min},additionalSlider(){this.additionalInputValue=this.additionalToFixedValue?this.additionalSlider.min.toFixed(this.additionalToFixedValue):this.additionalSlider.min}}},v=a(83744);const b=(0,v.Z)(k,[["render",g],["__scopeId","data-v-438e6e7a"]]);var N=b},79454:function(e,t,a){(function(t,o){e.exports=o(a(78221))})("undefined"!==typeof self&&self,(function(e){return function(){var t={388:function(e,t){var a,o,i;(function(l,n){o=[],a=n,i="function"===typeof a?a.apply(t,o):a,void 0===i||(e.exports=i)})("undefined"!==typeof self&&self,(function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(u){var a,o,i,l=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,n=/@([^@]*):(\d+):(\d+)\s*$/gi,r=l.exec(u.stack)||n.exec(u.stack),s=r&&r[1]||!1,c=r&&r[2]||!1,d=document.location.href.replace(document.location.hash,""),m=document.getElementsByTagName("script");s===d&&(a=document.documentElement.outerHTML,o=new RegExp("(?:[^\\n]+?\\n){0,"+(c-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),i=a.replace(o,"$1").trim());for(var p=0;p<m.length;p++){if("interactive"===m[p].readyState)return m[p];if(m[p].src===s)return m[p];if(s===d&&m[p].innerHTML&&m[p].innerHTML.trim()===i)return m[p]}return null}}return e}))},905:function(e,t,a){"use strict";a.r(t);var o=a(117),i=a.n(o),l=a(488),n=a.n(l),r=n()(i());r.push([e.id,".vue-slider-dot{position:absolute;-webkit-transition:all 0s;transition:all 0s;z-index:5}.vue-slider-dot:focus{outline:none}.vue-slider-dot-tooltip{position:absolute;visibility:hidden}.vue-slider-dot-hover:hover .vue-slider-dot-tooltip,.vue-slider-dot-tooltip-show{visibility:visible}.vue-slider-dot-tooltip-top{top:-10px;left:50%;-webkit-transform:translate(-50%,-100%);transform:translate(-50%,-100%)}.vue-slider-dot-tooltip-bottom{bottom:-10px;left:50%;-webkit-transform:translate(-50%,100%);transform:translate(-50%,100%)}.vue-slider-dot-tooltip-left{left:-10px;top:50%;-webkit-transform:translate(-100%,-50%);transform:translate(-100%,-50%)}.vue-slider-dot-tooltip-right{right:-10px;top:50%;-webkit-transform:translate(100%,-50%);transform:translate(100%,-50%)}",""]),t["default"]=r},121:function(e,t,a){"use strict";a.r(t);var o=a(117),i=a.n(o),l=a(488),n=a.n(l),r=n()(i());r.push([e.id,".vue-slider-marks{position:relative;width:100%;height:100%}.vue-slider-mark{position:absolute;z-index:1}.vue-slider-ltr .vue-slider-mark,.vue-slider-rtl .vue-slider-mark{width:0;height:100%;top:50%}.vue-slider-ltr .vue-slider-mark-step,.vue-slider-rtl .vue-slider-mark-step{top:0}.vue-slider-ltr .vue-slider-mark-label,.vue-slider-rtl .vue-slider-mark-label{top:100%;margin-top:10px}.vue-slider-ltr .vue-slider-mark{-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.vue-slider-ltr .vue-slider-mark-step{left:0}.vue-slider-ltr .vue-slider-mark-label{left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.vue-slider-rtl .vue-slider-mark{-webkit-transform:translate(50%,-50%);transform:translate(50%,-50%)}.vue-slider-rtl .vue-slider-mark-step{right:0}.vue-slider-rtl .vue-slider-mark-label{right:50%;-webkit-transform:translateX(50%);transform:translateX(50%)}.vue-slider-btt .vue-slider-mark,.vue-slider-ttb .vue-slider-mark{width:100%;height:0;left:50%}.vue-slider-btt .vue-slider-mark-step,.vue-slider-ttb .vue-slider-mark-step{left:0}.vue-slider-btt .vue-slider-mark-label,.vue-slider-ttb .vue-slider-mark-label{left:100%;margin-left:10px}.vue-slider-btt .vue-slider-mark{-webkit-transform:translate(-50%,50%);transform:translate(-50%,50%)}.vue-slider-btt .vue-slider-mark-step{top:0}.vue-slider-btt .vue-slider-mark-label{top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.vue-slider-ttb .vue-slider-mark{-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.vue-slider-ttb .vue-slider-mark-step{bottom:0}.vue-slider-ttb .vue-slider-mark-label{bottom:50%;-webkit-transform:translateY(50%);transform:translateY(50%)}.vue-slider-mark-label,.vue-slider-mark-step{position:absolute}",""]),t["default"]=r},207:function(e,t,a){"use strict";a.r(t);var o=a(117),i=a.n(o),l=a(488),n=a.n(l),r=n()(i());r.push([e.id,".vue-slider{position:relative;-webkit-box-sizing:content-box;box-sizing:content-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.vue-slider-rail{position:relative;width:100%;height:100%;-webkit-transition-property:width,height,left,right,top,bottom;transition-property:width,height,left,right,top,bottom}.vue-slider-process{position:absolute;z-index:1}",""]),t["default"]=r},488:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var a="",o="undefined"!==typeof t[5];return t[4]&&(a+="@supports (".concat(t[4],") {")),t[2]&&(a+="@media ".concat(t[2]," {")),o&&(a+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),a+=e(t),o&&(a+="}"),t[2]&&(a+="}"),t[4]&&(a+="}"),a})).join("")},t.i=function(e,a,o,i,l){"string"===typeof e&&(e=[[null,e,void 0]]);var n={};if(o)for(var r=0;r<this.length;r++){var s=this[r][0];null!=s&&(n[s]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);o&&n[d[0]]||("undefined"!==typeof l&&("undefined"===typeof d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=l),a&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=a):d[2]=a),i&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=i):d[4]="".concat(i)),t.push(d))}},t}},117:function(e){"use strict";e.exports=function(e){return e[1]}},831:function(e,t){"use strict";t.Z=(e,t)=>{const a=e.__vccOpts||e;for(const[o,i]of t)a[o]=i;return a}},466:function(e,t,a){var o=a(905);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var i=a(959).Z;i("50bc1720",o,!0,{sourceMap:!1,shadowMode:!1})},18:function(e,t,a){var o=a(121);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var i=a(959).Z;i("10aa5f36",o,!0,{sourceMap:!1,shadowMode:!1})},631:function(e,t,a){var o=a(207);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var i=a(959).Z;i("1772934e",o,!0,{sourceMap:!1,shadowMode:!1})},959:function(e,t,a){"use strict";function o(e,t){for(var a=[],o={},i=0;i<t.length;i++){var l=t[i],n=l[0],r=l[1],s=l[2],c=l[3],d={id:e+":"+i,css:r,media:s,sourceMap:c};o[n]?o[n].parts.push(d):a.push(o[n]={id:n,parts:[d]})}return a}a.d(t,{Z:function(){return h}});var i="undefined"!==typeof document;if("undefined"!==typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var l={},n=i&&(document.head||document.getElementsByTagName("head")[0]),r=null,s=0,c=!1,d=function(){},m=null,p="data-vue-ssr-id",u="undefined"!==typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(e,t,a,i){c=a,m=i||{};var n=o(e,t);return g(n),function(t){for(var a=[],i=0;i<n.length;i++){var r=n[i],s=l[r.id];s.refs--,a.push(s)}for(t?(n=o(e,t),g(n)):n=[],i=0;i<a.length;i++)if(s=a[i],0===s.refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete l[s.id]}}}function g(e){for(var t=0;t<e.length;t++){var a=e[t],o=l[a.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](a.parts[i]);for(;i<a.parts.length;i++)o.parts.push(y(a.parts[i]));o.parts.length>a.parts.length&&(o.parts.length=a.parts.length)}else{var n=[];for(i=0;i<a.parts.length;i++)n.push(y(a.parts[i]));l[a.id]={id:a.id,refs:1,parts:n}}}}function f(){var e=document.createElement("style");return e.type="text/css",n.appendChild(e),e}function y(e){var t,a,o=document.querySelector("style["+p+'~="'+e.id+'"]');if(o){if(c)return d;o.parentNode.removeChild(o)}if(u){var i=s++;o=r||(r=f()),t=v.bind(null,o,i,!1),a=v.bind(null,o,i,!0)}else o=f(),t=b.bind(null,o),a=function(){o.parentNode.removeChild(o)};return t(e),function(o){if(o){if(o.css===e.css&&o.media===e.media&&o.sourceMap===e.sourceMap)return;t(e=o)}else a()}}var k=function(){var e=[];return function(t,a){return e[t]=a,e.filter(Boolean).join("\n")}}();function v(e,t,a,o){var i=a?"":o.css;if(e.styleSheet)e.styleSheet.cssText=k(t,i);else{var l=document.createTextNode(i),n=e.childNodes;n[t]&&e.removeChild(n[t]),n.length?e.insertBefore(l,n[t]):e.appendChild(l)}}function b(e,t){var a=t.css,o=t.media,i=t.sourceMap;if(o&&e.setAttribute("media",o),m.ssrId&&e.setAttribute(p,t.id),i&&(a+="\n/*# sourceURL="+i.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=a;else{while(e.firstChild)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}},927:function(t){"use strict";t.exports=e}},a={};function o(e){var i=a[e];if(void 0!==i)return i.exports;var l=a[e]={id:e,exports:{}};return t[e].call(l.exports,l,l.exports,o),l.exports}!function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p=""}();var i={};return function(){"use strict";if(o.d(i,{default:function(){return Ne}}),"undefined"!==typeof window){var e=window.document.currentScript,t=o(388);e=t(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:t});var a=e&&e.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);a&&(o.p=a[1])}var l=o(927);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var r={key:0,class:"vue-slider-marks"};function s(e,t,a,o,i,s){var c=(0,l.resolveComponent)("vue-slider-mark"),d=(0,l.resolveComponent)("vue-slider-dot");return(0,l.openBlock)(),(0,l.createElementBlock)("div",(0,l.mergeProps)({ref:"container",class:e.containerClasses,style:e.containerStyles,onClick:t[2]||(t[2]=function(){return e.clickHandle&&e.clickHandle.apply(e,arguments)}),onTouchstartPassive:t[3]||(t[3]=function(){return e.dragStartOnProcess&&e.dragStartOnProcess.apply(e,arguments)}),onMousedownPassive:t[4]||(t[4]=function(){return e.dragStartOnProcess&&e.dragStartOnProcess.apply(e,arguments)})},e.$attrs),[(0,l.createElementVNode)("div",{class:"vue-slider-rail",style:(0,l.normalizeStyle)(e.railStyle)},[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(e.processArray,(function(t,a){return(0,l.renderSlot)(e.$slots,"process",(0,l.normalizeProps)((0,l.guardReactiveProps)(t)),(function(){return[((0,l.openBlock)(),(0,l.createElementBlock)("div",{class:"vue-slider-process",key:"process-".concat(a),style:(0,l.normalizeStyle)(t.style)},null,4))]}))})),256)),e.sliderMarks&&e.control?((0,l.openBlock)(),(0,l.createElementBlock)("div",r,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(e.control.markList,(function(a,o){return(0,l.renderSlot)(e.$slots,"mark",(0,l.normalizeProps)((0,l.guardReactiveProps)(a)),(function(){var i;return[((0,l.openBlock)(),(0,l.createBlock)(c,{key:"mark-".concat(o),mark:a,hideLabel:e.hideLabel,style:(0,l.normalizeStyle)((i={},n(i,e.isHorizontal?"height":"width","100%"),n(i,e.isHorizontal?"width":"height",e.tailSize),n(i,e.mainDirection,"".concat(a.pos,"%")),i)),stepStyle:e.stepStyle,stepActiveStyle:e.stepActiveStyle,labelStyle:e.labelStyle,labelActiveStyle:e.labelActiveStyle,onPressLabel:t[0]||(t[0]=function(t){return e.clickable&&e.setValueByPos(t)})},{step:(0,l.withCtx)((function(){return[(0,l.renderSlot)(e.$slots,"step",(0,l.normalizeProps)((0,l.guardReactiveProps)(a)))]})),label:(0,l.withCtx)((function(){return[(0,l.renderSlot)(e.$slots,"label",(0,l.normalizeProps)((0,l.guardReactiveProps)(a)))]})),_:2},1032,["mark","hideLabel","style","stepStyle","stepActiveStyle","labelStyle","labelActiveStyle"]))]}))})),256))])):(0,l.createCommentVNode)("",!0),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(e.dots,(function(a,o){var i;return(0,l.openBlock)(),(0,l.createBlock)(d,(0,l.mergeProps)({ref_for:!0,ref:"dot-".concat(o),key:"dot-".concat(o),value:a.value,disabled:a.disabled,focus:a.focus,"dot-style":[a.style,a.disabled?a.disabledStyle:null,a.focus?a.focusStyle:null],tooltip:a.tooltip||e.tooltip,"tooltip-style":[e.tooltipStyle,a.tooltipStyle,a.disabled?a.tooltipDisabledStyle:null,a.focus?a.tooltipFocusStyle:null],"tooltip-formatter":Array.isArray(e.sliderTooltipFormatter)?e.sliderTooltipFormatter[o]:e.sliderTooltipFormatter,"tooltip-placement":e.tooltipDirections[o],style:[e.dotBaseStyle,(i={},n(i,e.mainDirection,"".concat(a.pos,"%")),n(i,"transition","".concat(e.mainDirection," ").concat(e.animateTime,"s")),i)],onDragStart:function(){return e.dragStart(o)},role:"slider","aria-valuenow":a.value,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-orientation":e.isHorizontal?"horizontal":"vertical",tabindex:"0",onFocus:function(){return e.focus(a,o)},onBlur:t[1]||(t[1]=function(){return e.blur()})},e.dotAttrs),{dot:(0,l.withCtx)((function(){return[(0,l.renderSlot)(e.$slots,"dot",(0,l.normalizeProps)((0,l.guardReactiveProps)(a)))]})),tooltip:(0,l.withCtx)((function(){return[(0,l.renderSlot)(e.$slots,"tooltip",(0,l.normalizeProps)((0,l.guardReactiveProps)(a)))]})),_:2},1040,["value","disabled","focus","dot-style","tooltip","tooltip-style","tooltip-formatter","tooltip-placement","style","onDragStart","aria-valuenow","aria-valuemin","aria-valuemax","aria-orientation","onFocus"])})),128))],4),(0,l.renderSlot)(e.$slots,"default",{value:e.getValue()})],16)}var c=["aria-valuetext"],d={class:"vue-slider-dot-tooltip-text"};function m(e,t,a,o,i,n){var r;return(0,l.openBlock)(),(0,l.createElementBlock)("div",{ref:"dot",class:(0,l.normalizeClass)(e.dotClasses),"aria-valuetext":null===(r=e.tooltipValue)||void 0===r?void 0:r.toString(),onMousedownPassive:t[0]||(t[0]=function(){return e.dragStart&&e.dragStart.apply(e,arguments)}),onTouchstartPassive:t[1]||(t[1]=function(){return e.dragStart&&e.dragStart.apply(e,arguments)})},[(0,l.renderSlot)(e.$slots,"dot",{},(function(){return[(0,l.createElementVNode)("div",{class:(0,l.normalizeClass)(e.handleClasses),style:(0,l.normalizeStyle)(e.dotStyle)},null,6)]})),"none"!==e.tooltip?((0,l.openBlock)(),(0,l.createElementBlock)("div",{key:0,class:(0,l.normalizeClass)(e.tooltipClasses)},[(0,l.renderSlot)(e.$slots,"tooltip",{},(function(){return[(0,l.createElementVNode)("div",{class:(0,l.normalizeClass)(e.tooltipInnerClasses),style:(0,l.normalizeStyle)(e.tooltipStyle)},[(0,l.createElementVNode)("span",d,(0,l.toDisplayString)(e.tooltipValue),1)],6)]}))],2)):(0,l.createCommentVNode)("",!0)],42,c)}o(466);var p=(0,l.defineComponent)({name:"VueSliderDot",emits:["drag-start"],props:{value:{type:[String,Number],default:0},tooltip:{type:String,required:!0},tooltipPlacement:{type:String,validator:function(e){return["top","right","bottom","left"].indexOf(e)>-1},required:!0},tooltipFormatter:{type:[String,Function]},focus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},dotStyle:{type:Object},tooltipStyle:{type:Object}},computed:{dotClasses:function(){return["vue-slider-dot",{"vue-slider-dot-hover":"hover"===this.tooltip||"active"===this.tooltip,"vue-slider-dot-disabled":this.disabled,"vue-slider-dot-focus":this.focus}]},handleClasses:function(){return["vue-slider-dot-handle",{"vue-slider-dot-handle-disabled":this.disabled,"vue-slider-dot-handle-focus":this.focus}]},tooltipClasses:function(){return["vue-slider-dot-tooltip",["vue-slider-dot-tooltip-".concat(this.tooltipPlacement)],{"vue-slider-dot-tooltip-show":this.showTooltip}]},tooltipInnerClasses:function(){return["vue-slider-dot-tooltip-inner",["vue-slider-dot-tooltip-inner-".concat(this.tooltipPlacement)],{"vue-slider-dot-tooltip-inner-disabled":this.disabled,"vue-slider-dot-tooltip-inner-focus":this.focus}]},showTooltip:function(){switch(this.tooltip){case"always":return!0;case"none":return!1;case"focus":case"active":return!!this.focus;default:return!1}},tooltipValue:function(){return this.tooltipFormatter?"string"===typeof this.tooltipFormatter?this.tooltipFormatter.replace(/\{value\}/,String(this.value)):this.tooltipFormatter(this.value):this.value}},methods:{dragStart:function(){if(this.disabled)return!1;this.$emit("drag-start")}}}),u=o(831);const h=(0,u.Z)(p,[["render",m]]);var g=h;function f(e,t,a,o,i,n){return(0,l.openBlock)(),(0,l.createElementBlock)("div",{class:(0,l.normalizeClass)(e.marksClasses)},[(0,l.renderSlot)(e.$slots,"step",{},(function(){return[(0,l.createElementVNode)("div",{class:(0,l.normalizeClass)(e.stepClasses),style:(0,l.normalizeStyle)([e.stepStyle,e.mark.style||{},e.mark.active&&e.stepActiveStyle?e.stepActiveStyle:{},e.mark.active&&e.mark.activeStyle?e.mark.activeStyle:{}])},null,6)]})),e.hideLabel?(0,l.createCommentVNode)("",!0):(0,l.renderSlot)(e.$slots,"label",{key:0},(function(){return[(0,l.createElementVNode)("div",{class:(0,l.normalizeClass)(e.labelClasses),style:(0,l.normalizeStyle)([e.labelStyle,e.mark.labelStyle||{},e.mark.active&&e.labelActiveStyle?e.labelActiveStyle:{},e.mark.active&&e.mark.labelActiveStyle?e.mark.labelActiveStyle:{}]),onClick:t[0]||(t[0]=function(){return e.labelClickHandle&&e.labelClickHandle.apply(e,arguments)})},(0,l.toDisplayString)(e.mark.label),7)]}))],2)}o(18);var y=(0,l.defineComponent)({name:"VueSliderMark",emits:["press-label"],props:{mark:{type:Object,required:!0},hideLabel:{type:Boolean},stepStyle:{type:Object,default:function(){return{}}},stepActiveStyle:{type:Object,default:function(){return{}}},labelStyle:{type:Object,default:function(){return{}}},labelActiveStyle:{type:Object,default:function(){return{}}}},computed:{marksClasses:function(){return["vue-slider-mark",{"vue-slider-mark-active":this.mark.active}]},stepClasses:function(){return["vue-slider-mark-step",{"vue-slider-mark-step-active":this.mark.active}]},labelClasses:function(){return["vue-slider-mark-label",{"vue-slider-mark-label-active":this.mark.active}]}},methods:{labelClickHandle:function(e){e.stopPropagation(),this.$emit("press-label",this.mark.pos)}}});const k=(0,u.Z)(y,[["render",f]]);var v,b=k,N=function(e){return"number"===typeof e?"".concat(e,"px"):e},V=function(e){var t=document.documentElement,a=document.body,o=e.getBoundingClientRect(),i={y:o.top+(window.pageYOffset||t.scrollTop)-(t.clientTop||a.clientTop||0),x:o.left+(window.pageXOffset||t.scrollLeft)-(t.clientLeft||a.clientLeft||0)};return i},w=function(e,t,a){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i="targetTouches"in e?e.targetTouches[0]:e,l=V(t),n={x:i.pageX-l.x,y:i.pageY-l.y};return{x:a?t.offsetWidth*o-n.x:n.x,y:a?t.offsetHeight*o-n.y:n.y}};(function(e){e[e["PAGE_UP"]=33]="PAGE_UP",e[e["PAGE_DOWN"]=34]="PAGE_DOWN",e[e["END"]=35]="END",e[e["HOME"]=36]="HOME",e[e["LEFT"]=37]="LEFT",e[e["UP"]=38]="UP",e[e["RIGHT"]=39]="RIGHT",e[e["DOWN"]=40]="DOWN"})(v||(v={}));var E=function(e,t){if(t.hook){var a=t.hook(e);if("function"===typeof a)return a;if(!a)return null}switch(e.keyCode){case v.UP:return function(e){return"ttb"===t.direction?e-1:e+1};case v.RIGHT:return function(e){return"rtl"===t.direction?e-1:e+1};case v.DOWN:return function(e){return"ttb"===t.direction?e+1:e-1};case v.LEFT:return function(e){return"rtl"===t.direction?e+1:e-1};case v.END:return function(){return t.max};case v.HOME:return function(){return t.min};case v.PAGE_UP:return function(e){return e+10};case v.PAGE_DOWN:return function(e){return e-10};default:return null}};function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _(e,t,a){return t&&C(e.prototype,t),a&&C(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function $(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var D,B,x=function(){function e(t){S(this,e),$(this,"num",void 0),this.num=t}return _(e,[{key:"decimal",value:function(e,t){var a=this.num,o=this.getDecimalLen(a),i=this.getDecimalLen(e),l=0;switch(t){case"+":l=this.getExponent(o,i),this.num=(this.safeRoundUp(a,l)+this.safeRoundUp(e,l))/l;break;case"-":l=this.getExponent(o,i),this.num=(this.safeRoundUp(a,l)-this.safeRoundUp(e,l))/l;break;case"*":this.num=this.safeRoundUp(this.safeRoundUp(a,this.getExponent(o)),this.safeRoundUp(e,this.getExponent(i)))/this.getExponent(o+i);break;case"/":l=this.getExponent(o,i),this.num=this.safeRoundUp(a,l)/this.safeRoundUp(e,l);break;case"%":l=this.getExponent(o,i),this.num=this.safeRoundUp(a,l)%this.safeRoundUp(e,l)/l;break}return this}},{key:"plus",value:function(e){return this.decimal(e,"+")}},{key:"minus",value:function(e){return this.decimal(e,"-")}},{key:"multiply",value:function(e){return this.decimal(e,"*")}},{key:"divide",value:function(e){return this.decimal(e,"/")}},{key:"remainder",value:function(e){return this.decimal(e,"%")}},{key:"toNumber",value:function(){return this.num}},{key:"getDecimalLen",value:function(e){var t="".concat(e).split("e");return("".concat(t[0]).split(".")[1]||"").length-(t[1]?+t[1]:0)}},{key:"getExponent",value:function(e,t){return Math.pow(10,void 0!==t?Math.max(e,t):e)}},{key:"safeRoundUp",value:function(e,t){return Math.round(e*t)}}]),e}();function z(e,t){return T(e)||L(e,t)||R(e,t)||M()}function M(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function L(e,t){var a=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o,i,l=[],n=!0,r=!1;try{for(a=a.call(e);!(n=(o=a.next()).done);n=!0)if(l.push(o.value),t&&l.length===t)break}catch(s){r=!0,i=s}finally{try{n||null==a["return"]||a["return"]()}finally{if(r)throw i}}return l}}function T(e){if(Array.isArray(e))return e}function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function F(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(Object(a),!0).forEach((function(t){q(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function P(e){return j(e)||O(e)||R(e)||A()}function A(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function R(e,t){if(e){if("string"===typeof e)return Z(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Z(e,t):void 0}}function O(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function j(e){if(Array.isArray(e))return Z(e)}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,o=new Array(t);a<t;a++)o[a]=e[a];return o}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function G(e,t,a){return t&&H(e.prototype,t),a&&H(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function q(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}(function(e){e[e["VALUE"]=1]="VALUE",e[e["INTERVAL"]=2]="INTERVAL",e[e["MIN"]=3]="MIN",e[e["MAX"]=4]="MAX",e[e["ORDER"]=5]="ORDER"})(B||(B={}));var W=(D={},q(D,B.VALUE,'The type of the "value" is illegal'),q(D,B.INTERVAL,'The prop "interval" is invalid, "(max - min)" must be divisible by "interval"'),q(D,B.MIN,'The "value" must be greater than or equal to the "min".'),q(D,B.MAX,'The "value" must be less than or equal to the "max".'),q(D,B.ORDER,'When "order" is false, the parameters "minRange", "maxRange", "fixed", "enabled" are invalid.'),D),Y=function(){function e(t){U(this,e),q(this,"dotsPos",[]),q(this,"dotsValue",[]),q(this,"data",void 0),q(this,"enableCross",void 0),q(this,"fixed",void 0),q(this,"max",void 0),q(this,"min",void 0),q(this,"interval",void 0),q(this,"minRange",void 0),q(this,"maxRange",void 0),q(this,"order",void 0),q(this,"marks",void 0),q(this,"included",void 0),q(this,"process",void 0),q(this,"adsorb",void 0),q(this,"dotOptions",void 0),q(this,"onError",void 0),q(this,"cacheRangeDir",{}),this.data=t.data,this.max=t.max,this.min=t.min,this.interval=t.interval,this.order=t.order,this.marks=t.marks,this.included=t.included,this.process=t.process,this.adsorb=t.adsorb,this.dotOptions=t.dotOptions,this.onError=t.onError,this.order?(this.minRange=t.minRange||0,this.maxRange=t.maxRange||0,this.enableCross=t.enableCross,this.fixed=t.fixed):((t.minRange||t.maxRange||!t.enableCross||t.fixed)&&this.emitError(B.ORDER),this.minRange=0,this.maxRange=0,this.enableCross=!0,this.fixed=!1),this.setValue(t.value)}return G(e,[{key:"setValue",value:function(e){this.setDotsValue(Array.isArray(e)?P(e):[e],!0)}},{key:"setDotsValue",value:function(e,t){this.dotsValue=e,t&&this.syncDotsPos()}},{key:"setDotsPos",value:function(e){var t=this,a=this.order?P(e).sort((function(e,t){return e-t})):e;this.dotsPos=a,this.setDotsValue(a.map((function(e){return t.getValueByPos(e)})),this.adsorb)}},{key:"getValueByPos",value:function(e){var t=this.parsePos(e);if(this.included){var a=100;this.markList.forEach((function(o){var i=Math.abs(o.pos-e);i<a&&(a=i,t=o.value)}))}return t}},{key:"syncDotsPos",value:function(){var e=this;this.dotsPos=this.dotsValue.map((function(t){return e.parseValue(t)}))}},{key:"markList",get:function(){var e=this;if(!this.marks)return[];var t=function(t,a){var o=e.parseValue(t);return F({pos:o,value:t,label:t,active:e.isActiveByPos(o)},a)};return!0===this.marks?this.getValues().map((function(e){return t(e)})):"[object Object]"===Object.prototype.toString.call(this.marks)?Object.keys(this.marks).sort((function(e,t){return+e-+t})).map((function(a){var o=e.marks[a];return t(a,"string"!==typeof o?o:{label:o})})):Array.isArray(this.marks)?this.marks.map((function(e){return t(e)})):"function"===typeof this.marks?this.getValues().map((function(t){return{value:t,result:e.marks(t)}})).filter((function(e){var t=e.result;return!!t})).map((function(e){var a=e.value,o=e.result;return t(a,o)})):[]}},{key:"getRecentDot",value:function(e){var t=this.dotsPos.map((function(t){return Math.abs(t-e)}));return t.indexOf(Math.min.apply(Math,P(t)))}},{key:"getIndexByValue",value:function(e){return this.data?this.data.indexOf(e):new x(+e).minus(this.min).divide(this.interval).toNumber()}},{key:"getValueByIndex",value:function(e){return e<0?e=0:e>this.total&&(e=this.total),this.data?this.data[e]:new x(e).multiply(this.interval).plus(this.min).toNumber()}},{key:"setDotPos",value:function(e,t){e=this.getValidPos(e,t).pos;var a=e-this.dotsPos[t];if(a){var o=new Array(this.dotsPos.length);this.fixed?o=this.getFixedChangePosArr(a,t):this.minRange||this.maxRange?o=this.getLimitRangeChangePosArr(e,a,t):o[t]=a,this.setDotsPos(this.dotsPos.map((function(e,t){return e+(o[t]||0)})))}}},{key:"getFixedChangePosArr",value:function(e,t){var a=this;return this.dotsPos.forEach((function(o,i){if(i!==t){var l=a.getValidPos(o+e,i),n=l.pos,r=l.inRange;r||(e=Math.min(Math.abs(n-o),Math.abs(e))*(e<0?-1:1))}})),this.dotsPos.map((function(t){return e}))}},{key:"getLimitRangeChangePosArr",value:function(e,t,a){var o=this,i=[{index:a,changePos:t}],l=t;return[this.minRange,this.maxRange].forEach((function(n,r){if(!n)return!1;var s=0===r,c=t>0,d=0;d=s?c?1:-1:c?-1:1;var m=function(e,t){var a=Math.abs(e-t);return s?a<o.minRangeDir:a>o.maxRangeDir},p=a+d,u=o.dotsPos[p],h=e;while(o.isPos(u)&&m(u,h)){var g=o.getValidPos(u+l,p),f=g.pos;i.push({index:p,changePos:f-u}),p+=d,h=f,u=o.dotsPos[p]}})),this.dotsPos.map((function(e,t){var a=i.filter((function(e){return e.index===t}));return a.length?a[0].changePos:0}))}},{key:"isPos",value:function(e){return"number"===typeof e}},{key:"getValidPos",value:function(e,t){var a=this.valuePosRange[t],o=!0;return e<a[0]?(e=a[0],o=!1):e>a[1]&&(e=a[1],o=!1),{pos:e,inRange:o}}},{key:"parseValue",value:function(e){if(this.data)e=this.data.indexOf(e);else if("number"===typeof e||"string"===typeof e){if(e=+e,e<this.min)return this.emitError(B.MIN),0;if(e>this.max)return this.emitError(B.MAX),0;if("number"!==typeof e||e!==e)return this.emitError(B.VALUE),0;e=new x(e).minus(this.min).divide(this.interval).toNumber()}var t=new x(e).multiply(this.gap).toNumber();return t<0?0:t>100?100:t}},{key:"parsePos",value:function(e){var t=Math.round(e/this.gap);return this.getValueByIndex(t)}},{key:"isActiveByPos",value:function(e){return this.processArray.some((function(t){var a=z(t,2),o=a[0],i=a[1];return e>=o&&e<=i}))}},{key:"getValues",value:function(){if(this.data)return this.data;for(var e=[],t=0;t<=this.total;t++)e.push(new x(t).multiply(this.interval).plus(this.min).toNumber());return e}},{key:"getRangeDir",value:function(e){return e?new x(e).divide(new x(this.data?this.data.length-1:this.max).minus(this.data?0:this.min).toNumber()).multiply(100).toNumber():100}},{key:"emitError",value:function(e){this.onError&&this.onError(e,W[e])}},{key:"processArray",get:function(){if(this.process){if("function"===typeof this.process)return this.process(this.dotsPos);if(1===this.dotsPos.length)return[[0,this.dotsPos[0]]];if(this.dotsPos.length>1)return[[Math.min.apply(Math,P(this.dotsPos)),Math.max.apply(Math,P(this.dotsPos))]]}return[]}},{key:"total",get:function(){var e=0;return e=this.data?this.data.length-1:new x(this.max).minus(this.min).divide(this.interval).toNumber(),e-Math.floor(e)!==0?(this.emitError(B.INTERVAL),0):e}},{key:"gap",get:function(){return 100/this.total}},{key:"minRangeDir",get:function(){return this.cacheRangeDir[this.minRange]?this.cacheRangeDir[this.minRange]:this.cacheRangeDir[this.minRange]=this.getRangeDir(this.minRange)}},{key:"maxRangeDir",get:function(){return this.cacheRangeDir[this.maxRange]?this.cacheRangeDir[this.maxRange]:this.cacheRangeDir[this.maxRange]=this.getRangeDir(this.maxRange)}},{key:"getDotRange",value:function(e,t,a){if(!this.dotOptions)return a;var o=Array.isArray(this.dotOptions)?this.dotOptions[e]:this.dotOptions;return o&&void 0!==o[t]?this.parseValue(o[t]):a}},{key:"valuePosRange",get:function(){var e=this,t=this.dotsPos,a=[];return t.forEach((function(o,i){a.push([Math.max(e.minRange?e.minRangeDir*i:0,e.enableCross?0:t[i-1]||0,e.getDotRange(i,"min",0)),Math.min(e.minRange?100-e.minRangeDir*(t.length-1-i):100,e.enableCross?100:t[i+1]||100,e.getDotRange(i,"max",100))])})),a}},{key:"dotsIndex",get:function(){var e=this;return this.dotsValue.map((function(t){return e.getIndexByValue(t)}))}}]),e}();function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function J(e,t,a){return t&&X(e.prototype,t),a&&X(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var ee=function(){function e(t){K(this,e),Q(this,"map",void 0),Q(this,"states",0),this.map=t}return J(e,[{key:"add",value:function(e){this.states|=e}},{key:"delete",value:function(e){this.states&=~e}},{key:"toggle",value:function(e){this.has(e)?this.delete(e):this.add(e)}},{key:"has",value:function(e){return!!(this.states&e)}}]),e}();function te(e){return ie(e)||oe(e)||me(e)||ae()}function ae(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function oe(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ie(e){if(Array.isArray(e))return pe(e)}function le(e){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},le(e)}function ne(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function re(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(a),!0).forEach((function(t){se(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ne(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function se(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ce(e,t){return he(e)||ue(e,t)||me(e,t)||de()}function de(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function me(e,t){if(e){if("string"===typeof e)return pe(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?pe(e,t):void 0}}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,o=new Array(t);a<t;a++)o[a]=e[a];return o}function ue(e,t){var a=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o,i,l=[],n=!0,r=!1;try{for(a=a.call(e);!(n=(o=a.next()).done);n=!0)if(l.push(o.value),t&&l.length===t)break}catch(s){r=!0,i=s}finally{try{n||null==a["return"]||a["return"]()}finally{if(r)throw i}}return l}}function he(e){if(Array.isArray(e))return e}o(631);var ge={None:0,Drag:2,Focus:4},fe=4,ye=(0,l.defineComponent)({name:"VueSlider",components:{VueSliderDot:g,VueSliderMark:b},emits:["change","drag-start","dragging","drag-end","error","update:modelValue"],data:function(){return{control:null,states:new ee(ge),scale:1,focusDotIndex:0}},props:{modelValue:{type:[Number,String,Array],default:0},silent:{type:Boolean,default:!1},direction:{type:String,default:"ltr",validator:function(e){return["ltr","rtl","ttb","btt"].indexOf(e)>-1}},width:{type:[Number,String]},height:{type:[Number,String]},dotSize:{type:[Number,Array],default:14},contained:{type:Boolean,default:!1},min:{type:Number,default:0},max:{type:Number,default:100},interval:{type:Number,default:1},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!0},dragOnClick:{type:Boolean,default:!1},duration:{type:Number,default:.5},data:{type:[Object,Array]},dataValue:{type:String,default:"value"},dataLabel:{type:String,default:"label"},lazy:{type:Boolean,default:!1},tooltip:{type:String,default:"active",validator:function(e){return["none","always","focus","hover","active"].indexOf(e)>-1}},tooltipPlacement:{type:[String,Array],validator:function(e){return(Array.isArray(e)?e:[e]).every((function(e){return["top","right","bottom","left"].indexOf(e)>-1}))}},tooltipFormatter:{type:[String,Array,Function]},useKeyboard:{type:Boolean,default:!0},keydownHook:{type:Function},enableCross:{type:Boolean,default:!0},fixed:{type:Boolean,default:!1},order:{type:Boolean,default:!0},minRange:{type:Number},maxRange:{type:Number},marks:{type:[Boolean,Object,Array,Function],default:!1},process:{type:[Boolean,Function],default:!0},zoom:{type:Number},included:{type:Boolean},adsorb:{type:Boolean},hideLabel:{type:Boolean},dotOptions:{type:[Object,Array]},dotAttrs:{type:Object},railStyle:{type:Object},processStyle:{type:Object},dotStyle:{type:Object},tooltipStyle:{type:Object},stepStyle:{type:Object},stepActiveStyle:{type:Object},labelStyle:{type:Object},labelActiveStyle:{type:Object}},computed:{isHorizontal:function(){return"ltr"===this.direction||"rtl"===this.direction},isReverse:function(){return"rtl"===this.direction||"btt"===this.direction},tailSize:function(){return N((this.isHorizontal?this.height:this.width)||fe)},containerClasses:function(){return["vue-slider",["vue-slider-".concat(this.direction)],{"vue-slider-disabled":this.disabled}]},containerStyles:function(){var e=Array.isArray(this.dotSize)?this.dotSize:[this.dotSize,this.dotSize],t=ce(e,2),a=t[0],o=t[1],i=this.width?N(this.width):this.isHorizontal?"auto":N(fe),l=this.height?N(this.height):this.isHorizontal?N(fe):"auto";return{padding:this.contained?"".concat(o/2,"px ").concat(a/2,"px"):this.isHorizontal?"".concat(o/2,"px 0"):"0 ".concat(a/2,"px"),width:i,height:l}},processArray:function(){var e=this;return this.control.processArray.map((function(t,a){var o,i=ce(t,3),l=i[0],n=i[1],r=i[2];if(l>n){var s=[n,l];l=s[0],n=s[1]}var c=e.isHorizontal?"width":"height";return{start:l,end:n,index:a,style:re(re((o={},se(o,e.isHorizontal?"height":"width","100%"),se(o,e.isHorizontal?"top":"left",0),se(o,e.mainDirection,"".concat(l,"%")),se(o,c,"".concat(n-l,"%")),se(o,"transitionProperty","".concat(c,",").concat(e.mainDirection)),se(o,"transitionDuration","".concat(e.animateTime,"s")),o),e.processStyle),r)}}))},dotBaseStyle:function(){var e,t=Array.isArray(this.dotSize)?this.dotSize:[this.dotSize,this.dotSize],a=ce(t,2),o=a[0],i=a[1];return e=this.isHorizontal?se({transform:"translate(".concat(this.isReverse?"50%":"-50%",", -50%)"),WebkitTransform:"translate(".concat(this.isReverse?"50%":"-50%",", -50%)"),top:"50%"},"ltr"===this.direction?"left":"right","0"):se({transform:"translate(-50%, ".concat(this.isReverse?"50%":"-50%",")"),WebkitTransform:"translate(-50%, ".concat(this.isReverse?"50%":"-50%",")"),left:"50%"},"btt"===this.direction?"bottom":"top","0"),re({width:"".concat(o,"px"),height:"".concat(i,"px")},e)},mainDirection:function(){switch(this.direction){case"ltr":return"left";case"rtl":return"right";case"btt":return"bottom";case"ttb":return"top";default:return"left"}},tooltipDirections:function(){var e=this.tooltipPlacement||(this.isHorizontal?"top":"left");return Array.isArray(e)?e:this.dots.map((function(){return e}))},dots:function(){var e=this;return this.control.dotsPos.map((function(t,a){return re({pos:t,index:a,value:e.control.dotsValue[a],focus:e.states.has(ge.Focus)&&e.focusDotIndex===a,disabled:e.disabled,style:e.dotStyle},(Array.isArray(e.dotOptions)?e.dotOptions[a]:e.dotOptions)||{})}))},animateTime:function(){return this.states.has(ge.Drag)?0:this.duration},canSort:function(){return this.order&&!this.minRange&&!this.maxRange&&!this.fixed&&this.enableCross},sliderData:function(){var e=this;return this.isObjectArrayData(this.data)?this.data.map((function(t){return t[e.dataValue]})):this.isObjectData(this.data)?Object.keys(this.data):this.data},sliderMarks:function(){var e=this;return this.marks?this.marks:this.isObjectArrayData(this.data)?function(t){var a={label:t};return e.data.some((function(o){return o[e.dataValue]===t&&(a.label=o[e.dataLabel],!0)})),a}:this.isObjectData(this.data)?this.data:void 0},sliderTooltipFormatter:function(){var e=this;if(this.tooltipFormatter)return this.tooltipFormatter;if(this.isObjectArrayData(this.data))return function(t){var a=""+t;return e.data.some((function(o){return o[e.dataValue]===t&&(a=o[e.dataLabel],!0)})),a};if(this.isObjectData(this.data)){var t=this.data;return function(e){return t[e]}}},isNotSync:function(){var e=this.control.dotsValue;return Array.isArray(this.modelValue)?this.modelValue.length!==e.length||this.modelValue.some((function(t,a){return t!==e[a]})):this.modelValue!==e[0]},dragRange:function(){var e=this.dots[this.focusDotIndex-1],t=this.dots[this.focusDotIndex+1];return[e?e.pos:-1/0,t?t.pos:1/0]}},watch:{modelValue:function(){this.control&&!this.states.has(ge.Drag)&&this.isNotSync&&this.control.setValue(this.modelValue)}},methods:{isObjectData:function(e){return!!e&&"[object Object]"===Object.prototype.toString.call(e)},isObjectArrayData:function(e){return!!e&&Array.isArray(e)&&e.length>0&&"object"===le(e[0])},bindEvent:function(){document.addEventListener("touchmove",this.dragMove,{passive:!1}),document.addEventListener("touchend",this.dragEnd,{passive:!1}),document.addEventListener("mousedown",this.blurHandle),document.addEventListener("mousemove",this.dragMove),document.addEventListener("mouseup",this.dragEnd),document.addEventListener("mouseleave",this.dragEnd),document.addEventListener("keydown",this.keydownHandle)},unbindEvent:function(){document.removeEventListener("touchmove",this.dragMove),document.removeEventListener("touchend",this.dragEnd),document.removeEventListener("mousedown",this.blurHandle),document.removeEventListener("mousemove",this.dragMove),document.removeEventListener("mouseup",this.dragEnd),document.removeEventListener("mouseleave",this.dragEnd),document.removeEventListener("keydown",this.keydownHandle)},setScale:function(){this.scale=new x(Math.floor(this.isHorizontal?this.$el.offsetWidth:this.$el.offsetHeight)).multiply(this.zoom||1).divide(100).toNumber()},initControl:function(){var e=this;this.control=new Y({value:this.modelValue,data:this.sliderData,enableCross:this.enableCross,fixed:this.fixed,max:this.max,min:this.min,interval:this.interval,minRange:this.minRange,maxRange:this.maxRange,order:this.order,marks:this.sliderMarks,included:this.included,process:this.process,adsorb:this.adsorb,dotOptions:this.dotOptions,onError:this.emitError}),["data","enableCross","fixed","max","min","interval","minRange","maxRange","order","marks","process","adsorb","included","dotOptions"].forEach((function(t){e.$watch(t,(function(a){if("data"===t&&Array.isArray(e.control.data)&&Array.isArray(a)&&e.control.data.length===a.length&&a.every((function(t,a){return t===e.control.data[a]})))return!1;switch(t){case"data":case"dataLabel":case"dataValue":e.control.data=e.sliderData;break;case"mark":e.control.marks=e.sliderMarks;break;default:e.control[t]=a}["data","max","min","interval"].indexOf(t)>-1&&e.control.syncDotsPos()}))}))},syncValueByPos:function(){var e=this.control.dotsValue;if(this.isDiff(e,Array.isArray(this.modelValue)?this.modelValue:[this.modelValue])){var t=1===e.length?e[0]:te(e);this.$emit("change",t,this.focusDotIndex),this.$emit("update:modelValue",t)}},isDiff:function(e,t){return e.length!==t.length||e.some((function(e,a){return e!==t[a]}))},emitError:function(e,t){this.silent||console.error("[VueSlider error]: ".concat(t)),this.$emit("error",e,t)},dragStartOnProcess:function(e){if(this.dragOnClick){this.setScale();var t=this.getPosByEvent(e),a=this.control.getRecentDot(t);if(this.dots[a].disabled)return;this.dragStart(a),this.control.setDotPos(t,this.focusDotIndex),this.lazy||this.syncValueByPos()}},dragStart:function(e){this.focusDotIndex=e,this.setScale(),this.states.add(ge.Drag),this.states.add(ge.Focus),this.$emit("drag-start",this.focusDotIndex)},dragMove:function(e){if(!this.states.has(ge.Drag))return!1;e.preventDefault();var t=this.getPosByEvent(e);this.isCrossDot(t),this.control.setDotPos(t,this.focusDotIndex),this.lazy||this.syncValueByPos();var a=this.control.dotsValue;this.$emit("dragging",1===a.length?a[0]:te(a),this.focusDotIndex)},isCrossDot:function(e){if(this.canSort){var t=this.focusDotIndex,a=e;if(a>this.dragRange[1]?(a=this.dragRange[1],this.focusDotIndex++):a<this.dragRange[0]&&(a=this.dragRange[0],this.focusDotIndex--),t!==this.focusDotIndex){var o=this.$refs["dot-".concat(this.focusDotIndex)];o&&o.$el&&o.$el.focus(),this.control.setDotPos(a,t)}}},dragEnd:function(e){var t=this;if(!this.states.has(ge.Drag))return!1;setTimeout((function(){t.lazy&&t.syncValueByPos(),t.included&&t.isNotSync?t.control.setValue(t.modelValue):t.control.syncDotsPos(),t.states.delete(ge.Drag),t.useKeyboard&&!("targetTouches"in e)||t.states.delete(ge.Focus),t.$emit("drag-end",t.focusDotIndex)}))},blurHandle:function(e){if(!this.states.has(ge.Focus)||!this.$refs.container||this.$refs.container.contains(e.target))return!1;this.states.delete(ge.Focus)},clickHandle:function(e){if(!this.clickable||this.disabled)return!1;if(!this.states.has(ge.Drag)){this.setScale();var t=this.getPosByEvent(e);this.setValueByPos(t)}},focus:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.disabled||(this.states.add(ge.Focus),this.focusDotIndex=t)},blur:function(){this.states.delete(ge.Focus)},getValue:function(){var e=this.control.dotsValue;return 1===e.length?e[0]:e},getIndex:function(){var e=this.control.dotsIndex;return 1===e.length?e[0]:e},setValue:function(e){this.control.setValue(Array.isArray(e)?te(e):[e]),this.syncValueByPos()},setIndex:function(e){var t=this,a=Array.isArray(e)?e.map((function(e){return t.control.getValueByIndex(e)})):this.control.getValueByIndex(e);this.setValue(a)},setValueByPos:function(e){var t=this,a=this.control.getRecentDot(e);if(this.disabled||this.dots[a].disabled)return!1;this.focusDotIndex=a,this.control.setDotPos(e,a),this.syncValueByPos(),this.useKeyboard&&this.states.add(ge.Focus),setTimeout((function(){t.included&&t.isNotSync?t.control.setValue(t.modelValue):t.control.syncDotsPos()}))},keydownHandle:function(e){var t=this;if(!this.useKeyboard||!this.states.has(ge.Focus))return!1;var a=this.included&&this.marks,o=E(e,{direction:this.direction,max:a?this.control.markList.length-1:this.control.total,min:0,hook:this.keydownHook});if(o){e.preventDefault();var i=-1,l=0;a?(this.control.markList.some((function(e,a){return e.value===t.control.dotsValue[t.focusDotIndex]&&(i=o(a),!0)})),i<0?i=0:i>this.control.markList.length-1&&(i=this.control.markList.length-1),l=this.control.markList[i].pos):(i=o(this.control.getIndexByValue(this.control.dotsValue[this.focusDotIndex])),l=this.control.parseValue(this.control.getValueByIndex(i))),this.isCrossDot(l),this.control.setDotPos(l,this.focusDotIndex),this.syncValueByPos()}},getPosByEvent:function(e){return w(e,this.$el,this.isReverse,this.zoom)[this.isHorizontal?"x":"y"]/this.scale},renderSlot:function(e,t,a){var o=this.$slots[e];return o?o(t):a}},created:function(){this.initControl()},mounted:function(){this.bindEvent()},beforeUnmount:function(){this.unbindEvent()}});const ke=(0,u.Z)(ye,[["render",s]]);var ve=ke;ve.VueSliderMark=b,ve.VueSliderDot=g;var be=ve,Ne=be}(),i=i["default"],i}()}))},4214:function(e,t,a){"use strict";var o=a(52183);const i=(e,t,a=0)=>o.Z.get(`/logs/captures?serverId=${e}&factionId=${t}&family=${a}`),l=(e,t,a=0)=>o.Z.get(`/logs/captures.details?serverId=${e}&captureId=${t}&family=${a}`);t.ZP={getCaptures:i,getCapturesPlayers:l}},49963:function(e,t,a){"use strict";a.d(t,{y:function(){return i}});var o=a(52183);const i=(e,t,a)=>{const i=new FormData;return i.append("logoToken",e),i.append("characterId",t),i.append("logo",a),o.Z.post("/uploads/familyLogo",i,{headers:{"Content-Type":"multipart/form-data"}})}},39319:function(e,t,a){"use strict";a.d(t,{V:function(){return o},s:function(){return i}});const o=e=>["Police Department","EMS","Sheriff Department","SA National Guard","Government","Weazel News","FIB","The Ballas Gang","Los Santos Vagos","The Families","The Bloods Gang","Marabunta Grande","La Cosa Nostra","Russian Mafia","Yakuza","Mexican Cartel","The Lost MC","Angels of Death MC","Irish Mafia"][e-1],i=e=>["LSPD","EMS","SHPD","SANG","GOV","WeazelNews","FIB","TheBallasGang","LosSantosVagos","TheFamilies","TheBloodsGang","MarabuntaGrande","LaCosaNostra","RussianMafia","Yakuza","MexicanCartel","TheLost","Angels","AM"][e-1]},18092:function(e,t){"use strict";t.Z={methods:{clamp(e,t,a){return Math.min(Math.max(e,t),a)},changeRange(e,t){const a=this[`${e}Range`],o=this[e]+a.step*(t?1:-1);o<a.min?this[e]=a.max-a.step:this[e]=this.clamp(o,a.min,a.max)%a.max},clampRange(e){const t=this[`${e}Range`];this[e]=this.clamp(this[e],t.min,t.max)%t.max}}}},62345:function(e,t,a){"use strict";var o=a(73431),i=a.n(o);const l=100,n=2,r=30;function s(e,t,a){return e+a*(t-e)}const c=i()(0,0,1,1);function d(e,t,a){const o=Math.min(1,(Date.now()-e.startTime)/l),i=s(a.start,a.end,c(o));t.scrollTop=i,o>.9999?cancelAnimationFrame(e.raf):e.raf=requestAnimationFrame((()=>d(e,t,a)))}function m(e,t,a){e.stopPropagation(),e.preventDefault(),a.deltas.push(e.deltaY),clearTimeout(a.startTimeout),a.startTimeout=setTimeout((()=>{a.startTime=Date.now(),cancelAnimationFrame(a.raf);const e=Math.max(...a.deltas.map(Math.abs))*(a.deltas.reduce(((e,t)=>e+t),0)>0?1:-1),o={start:t.scrollTop,end:t.scrollTop+e*n};a.raf=requestAnimationFrame((()=>d(a,t,o))),a.deltas=[]}),r)}t.Z={data(){return{scrollers:{}}},directives:{smoothScroll:{beforeMount(e,{value:t,instance:a}){a.scrollers[t]={raf:null,deltas:[]}},mounted(e,{value:t,instance:a}){e.addEventListener("wheel",(o=>m(o,e,a.scrollers[t])))},beforeUnmount(e){e.removeEventListener("wheel",(t=>m(t,e)))}}}}},91738:function(e,t,a){"use strict";var o=a(6767),i=a.n(o);t.Z={methods:{getCorrectContrastingFontColor(e,t,a,o="rgb_channels"){const l=i()(e),n=l.isLight()?i()(a):i()(t);switch(o){case"rgb_channels":return`${n.color[0]}, ${n.color[1]}, ${n.color[2]}`;case"rgb":return n;default:return`${n.color[0]}, ${n.color[1]}, ${n.color[2]}`}},getColorInRGB(e){return i()(e).color}}}},50007:function(e,t,a){"use strict";a.d(t,{AC:function(){return l},N$:function(){return i},W1:function(){return o}});const o={9:46,11:28,8:7,12:57,10:1},i=[8,9,10,11,12],l={1:{edges:[4,2]},2:{edges:[1,3,5]},3:{edges:[2,6]},4:{edges:[1,5,8]},5:{edges:[2,4,9,6]},6:{edges:[5,3,10,7]},7:{edges:[6,11]},8:{edges:[4,9,15]},9:{edges:[8,5,10,16]},10:{edges:[9,6,11,17]},11:{edges:[10,7,12,18]},12:{edges:[11,13,19]},13:{edges:[12,20]},14:{edges:[15,21]},15:{edges:[14,8,16,22]},16:{edges:[15,9,17,23]},17:{edges:[16,10,18,24]},18:{edges:[17,11,19,25]},19:{edges:[18,12,20,26]},20:{edges:[19,13,27]},21:{edges:[14,22,28]},22:{edges:[21,15,23,29]},23:{edges:[22,16,24,30]},24:{edges:[23,17,25,31]},25:{edges:[24,18,26,32]},26:{edges:[25,19,27,33]},27:{edges:[26,20,34]},28:{edges:[21,29]},29:{edges:[28,22,30,35]},30:{edges:[29,23,31]},31:{edges:[30,24,32,37]},32:{edges:[31,25,33]},33:{edges:[32,26,34,39,40]},34:{edges:[33,27]},35:{edges:[29,36,43]},36:{edges:[35,37,44]},37:{edges:[36,31,38,45]},38:{edges:[37,39,46]},39:{edges:[38,33,40,47]},40:{edges:[39,33,41,48]},41:{edges:[40,42,49]},42:{edges:[41,50,57]},43:{edges:[35,44]},44:{edges:[43,36,45]},45:{edges:[44,37,46,51]},46:{edges:[45,38,47,52]},47:{edges:[46,39,48,53]},48:{edges:[47,40,49,54]},49:{edges:[48,41,50,55]},50:{edges:[49,42,56,57]},51:{edges:[45,52,59]},52:{edges:[51,46,53,60]},53:{edges:[52,47,54,61]},54:{edges:[53,48,55,62]},55:{edges:[54,49,56,63]},56:{edges:[55,50,57,64,57]},57:{edges:[56,42,50,64]},58:{edges:[59,65]},59:{edges:[58,51,60,66]},60:{edges:[59,52,61,67]},61:{edges:[60,53,62,68]},62:{edges:[61,54,63,69]},63:{edges:[62,55,64,70]},64:{edges:[56,63]},65:{edges:[58,66]},66:{edges:[65,59,67]},67:{edges:[66,60,68]},68:{edges:[67,61,69]},69:{edges:[68,62,70]},70:{edges:[63,69]}}},76204:function(e,t,a){"use strict";a.d(t,{ZP:function(){return x},Xw:function(){return x}});var o=a(78221);function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.keys(e).reduce(((a,i)=>(t.includes(i)||(a[i]=(0,o.unref)(e[i])),a)),{})}function s(e){return"function"===typeof e}function c(e){return(0,o.isReactive)(e)||(0,o.isReadonly)(e)}function d(e,t,a){let o=e;const i=t.split(".");for(let l=0;l<i.length;l++){if(!o[i[l]])return a;o=o[i[l]]}return o}function m(e,t,a){return(0,o.computed)((()=>e.some((e=>d(t,e,{[a]:!1})[a]))))}function p(e,t,a){return(0,o.computed)((()=>e.reduce(((e,o)=>{const i=d(t,o,{[a]:!1})[a]||[];return e.concat(i)}),[])))}function u(e,t,a,i){return e.call(i,(0,o.unref)(t),(0,o.unref)(a),i)}function h(e){return void 0!==e.$valid?!e.$valid:!e}function g(e,t,a,i,l,n,r){let{$lazy:s,$rewardEarly:c}=l,d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[],m=arguments.length>8?arguments[8]:void 0,p=arguments.length>9?arguments[9]:void 0,g=arguments.length>10?arguments[10]:void 0;const f=(0,o.ref)(!!i.value),y=(0,o.ref)(0);a.value=!1;const k=(0,o.watch)([t,i].concat(d,g),(()=>{if(s&&!i.value||c&&!p.value&&!a.value)return;let o;try{o=u(e,t,m,r)}catch(l){o=Promise.reject(l)}y.value++,a.value=!!y.value,f.value=!1,Promise.resolve(o).then((e=>{y.value--,a.value=!!y.value,n.value=e,f.value=h(e)})).catch((e=>{y.value--,a.value=!!y.value,n.value=e,f.value=!0}))}),{immediate:!0,deep:"object"===typeof t});return{$invalid:f,$unwatch:k}}function f(e,t,a,i,l,n,r,s){let{$lazy:c,$rewardEarly:d}=i;const m=()=>({}),p=(0,o.computed)((()=>{if(c&&!a.value||d&&!s.value)return!1;let o=!0;try{const a=u(e,t,r,n);l.value=a,o=h(a)}catch(i){l.value=i}return o}));return{$unwatch:m,$invalid:p}}function y(e,t,a,i,l,n,c,d,m,p,u){const h=(0,o.ref)(!1),y=e.$params||{},k=(0,o.ref)(null);let v,b;e.$async?({$invalid:v,$unwatch:b}=g(e.$validator,t,h,a,i,k,l,e.$watchTargets,m,p,u)):({$invalid:v,$unwatch:b}=f(e.$validator,t,a,i,k,l,m,p));const N=e.$message,V=s(N)?(0,o.computed)((()=>N(r({$pending:h,$invalid:v,$params:r(y),$model:t,$response:k,$validator:n,$propertyPath:d,$property:c})))):N||"";return{$message:V,$params:y,$pending:h,$invalid:v,$response:k,$unwatch:b}}function k(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,o.unref)(e),a=Object.keys(t),i={},l={},n={};let r=null;return a.forEach((e=>{const a=t[e];switch(!0){case s(a.$validator):i[e]=a;break;case s(a):i[e]={$validator:a};break;case"$validationGroups"===e:r=a;break;case e.startsWith("$"):n[e]=a;break;default:l[e]=a}})),{rules:i,nestedValidators:l,config:n,validationGroups:r}}const v="__root";function b(e,t,a,i,l,n,r,s,c){const d=Object.keys(e),m=i.get(l,e),p=(0,o.ref)(!1),u=(0,o.ref)(!1),h=(0,o.ref)(0);if(m){if(!m.$partial)return m;m.$unwatch(),p.value=m.$dirty.value}const g={$dirty:p,$path:l,$touch:()=>{p.value||(p.value=!0)},$reset:()=>{p.value&&(p.value=!1)},$commit:()=>{}};return d.length?(d.forEach((o=>{g[o]=y(e[o],t,g.$dirty,n,r,o,a,l,c,u,h)})),g.$externalResults=(0,o.computed)((()=>s.value?[].concat(s.value).map(((e,t)=>({$propertyPath:l,$property:a,$validator:"$externalResults",$uid:`${l}-externalResult-${t}`,$message:e,$params:{},$response:null,$pending:!1}))):[])),g.$invalid=(0,o.computed)((()=>{const e=d.some((e=>(0,o.unref)(g[e].$invalid)));return u.value=e,!!g.$externalResults.value.length||e})),g.$pending=(0,o.computed)((()=>d.some((e=>(0,o.unref)(g[e].$pending))))),g.$error=(0,o.computed)((()=>!!g.$dirty.value&&(g.$pending.value||g.$invalid.value))),g.$silentErrors=(0,o.computed)((()=>d.filter((e=>(0,o.unref)(g[e].$invalid))).map((e=>{const t=g[e];return(0,o.reactive)({$propertyPath:l,$property:a,$validator:e,$uid:`${l}-${e}`,$message:t.$message,$params:t.$params,$response:t.$response,$pending:t.$pending})})).concat(g.$externalResults.value))),g.$errors=(0,o.computed)((()=>g.$dirty.value?g.$silentErrors.value:[])),g.$unwatch=()=>d.forEach((e=>{g[e].$unwatch()})),g.$commit=()=>{u.value=!0,h.value=Date.now()},i.set(l,e,g),g):(m&&i.set(l,e,g),g)}function N(e,t,a,o,i,l,n){const r=Object.keys(e);return r.length?r.reduce(((r,s)=>(r[s]=w({validations:e[s],state:t,key:s,parentKey:a,resultsCache:o,globalConfig:i,instance:l,externalResults:n}),r)),{}):{}}function V(e,t,a){const i=(0,o.computed)((()=>[t,a].filter((e=>e)).reduce(((e,t)=>e.concat(Object.values((0,o.unref)(t)))),[]))),l=(0,o.computed)({get(){return e.$dirty.value||!!i.value.length&&i.value.every((e=>e.$dirty))},set(t){e.$dirty.value=t}}),n=(0,o.computed)((()=>{const t=(0,o.unref)(e.$silentErrors)||[],a=i.value.filter((e=>((0,o.unref)(e).$silentErrors||[]).length)).reduce(((e,t)=>e.concat(...t.$silentErrors)),[]);return t.concat(a)})),r=(0,o.computed)((()=>{const t=(0,o.unref)(e.$errors)||[],a=i.value.filter((e=>((0,o.unref)(e).$errors||[]).length)).reduce(((e,t)=>e.concat(...t.$errors)),[]);return t.concat(a)})),s=(0,o.computed)((()=>i.value.some((e=>e.$invalid))||(0,o.unref)(e.$invalid)||!1)),c=(0,o.computed)((()=>i.value.some((e=>(0,o.unref)(e.$pending)))||(0,o.unref)(e.$pending)||!1)),d=(0,o.computed)((()=>i.value.some((e=>e.$dirty))||i.value.some((e=>e.$anyDirty))||l.value)),m=(0,o.computed)((()=>!!l.value&&(c.value||s.value))),p=()=>{e.$touch(),i.value.forEach((e=>{e.$touch()}))},u=()=>{e.$commit(),i.value.forEach((e=>{e.$commit()}))},h=()=>{e.$reset(),i.value.forEach((e=>{e.$reset()}))};return i.value.length&&i.value.every((e=>e.$dirty))&&p(),{$dirty:l,$errors:r,$invalid:s,$anyDirty:d,$error:m,$pending:c,$touch:p,$reset:h,$silentErrors:n,$commit:u}}function w(e){let{validations:t,state:a,key:i,parentKey:n,childResults:r,resultsCache:s,globalConfig:c={},instance:d,externalResults:u}=e;const h=n?`${n}.${i}`:i,{rules:g,nestedValidators:f,config:y,validationGroups:w}=k(t),E=l(l({},c),y),S=i?(0,o.computed)((()=>{const e=(0,o.unref)(a);return e?(0,o.unref)(e[i]):void 0})):a,C=l({},(0,o.unref)(u)||{}),_=(0,o.computed)((()=>{const e=(0,o.unref)(u);return i?e?(0,o.unref)(e[i]):void 0:e})),$=b(g,S,i,s,h,E,d,_,a),D=N(f,S,h,s,E,d,_),B={};w&&Object.entries(w).forEach((e=>{let[t,a]=e;B[t]={$invalid:m(a,D,"$invalid"),$error:m(a,D,"$error"),$pending:m(a,D,"$pending"),$errors:p(a,D,"$errors"),$silentErrors:p(a,D,"$silentErrors")}}));const{$dirty:x,$errors:z,$invalid:M,$anyDirty:L,$error:T,$pending:I,$touch:F,$reset:P,$silentErrors:A,$commit:R}=V($,D,r),O=i?(0,o.computed)({get:()=>(0,o.unref)(S),set:e=>{x.value=!0;const t=(0,o.unref)(a),l=(0,o.unref)(u);l&&(l[i]=C[i]),(0,o.isRef)(t[i])?t[i].value=e:t[i]=e}}):null;async function j(){return F(),E.$rewardEarly&&(R(),await(0,o.nextTick)()),await(0,o.nextTick)(),new Promise((e=>{if(!I.value)return e(!M.value);const t=(0,o.watch)(I,(()=>{e(!M.value),t()}))}))}function Z(e){return(r.value||{})[e]}function U(){(0,o.isRef)(u)?u.value=C:0===Object.keys(C).length?Object.keys(u).forEach((e=>{delete u[e]})):Object.assign(u,C)}return i&&E.$autoDirty&&(0,o.watch)(S,(()=>{x.value||F();const e=(0,o.unref)(u);e&&(e[i]=C[i])}),{flush:"sync"}),(0,o.reactive)(l(l(l({},$),{},{$model:O,$dirty:x,$error:T,$errors:z,$invalid:M,$anyDirty:L,$pending:I,$touch:F,$reset:P,$path:h||v,$silentErrors:A,$validate:j,$commit:R},r&&{$getResultsForChild:Z,$clearExternalResults:U,$validationGroups:B}),D))}class E{constructor(){this.storage=new Map}set(e,t,a){this.storage.set(e,{rules:t,result:a})}checkRulesValidity(e,t,a){const i=Object.keys(a),l=Object.keys(t);if(l.length!==i.length)return!1;const n=l.every((e=>i.includes(e)));return!!n&&l.every((e=>!t[e].$params||Object.keys(t[e].$params).every((i=>(0,o.unref)(a[e].$params[i])===(0,o.unref)(t[e].$params[i])))))}get(e,t){const a=this.storage.get(e);if(!a)return;const{rules:o,result:i}=a,l=this.checkRulesValidity(e,t,o),n=i.$unwatch?i.$unwatch:()=>({});return l?i:{$dirty:i.$dirty,$partial:!0,$unwatch:n}}}const S={COLLECT_ALL:!0,COLLECT_NONE:!1},C=Symbol("vuelidate#injectChildResults"),_=Symbol("vuelidate#removeChildResults");function $(e){let{$scope:t,instance:a}=e;const i={},l=(0,o.ref)([]),n=(0,o.computed)((()=>l.value.reduce(((e,t)=>(e[t]=(0,o.unref)(i[t]),e)),{})));function r(e,a){let{$registerAs:o,$scope:n,$stopPropagation:r}=a;r||t===S.COLLECT_NONE||n===S.COLLECT_NONE||t!==S.COLLECT_ALL&&t!==n||(i[o]=e,l.value.push(o))}function s(e){l.value=l.value.filter((t=>t!==e)),delete i[e]}a.__vuelidateInjectInstances=[].concat(a.__vuelidateInjectInstances||[],r),a.__vuelidateRemoveInstances=[].concat(a.__vuelidateRemoveInstances||[],s);const c=(0,o.inject)(C,[]);(0,o.provide)(C,a.__vuelidateInjectInstances);const d=(0,o.inject)(_,[]);return(0,o.provide)(_,a.__vuelidateRemoveInstances),{childResults:n,sendValidationResultsToParent:c,removeValidationResultsFromParent:d}}function D(e){return new Proxy(e,{get(e,t){return"object"===typeof e[t]?D(e[t]):(0,o.computed)((()=>e[t]))}})}let B=0;function x(e,t){var a;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};1===arguments.length&&(i=e,e=void 0,t=void 0);let{$registerAs:n,$scope:r=S.COLLECT_ALL,$stopPropagation:d,$externalResults:m,currentVueInstance:p}=i;const u=p||(null===(a=(0,o.getCurrentInstance)())||void 0===a?void 0:a.proxy),h=u?u.$options:{};n||(B+=1,n=`_vuelidate_${B}`);const g=(0,o.ref)({}),f=new E,{childResults:y,sendValidationResultsToParent:k,removeValidationResultsFromParent:v}=u?$({$scope:r,instance:u}):{childResults:(0,o.ref)({})};if(!e&&h.validations){const e=h.validations;t=(0,o.ref)({}),(0,o.onBeforeMount)((()=>{t.value=u,(0,o.watch)((()=>s(e)?e.call(t.value,new D(t.value)):e),(e=>{g.value=w({validations:e,state:t,childResults:y,resultsCache:f,globalConfig:i,instance:u,externalResults:m||u.vuelidateExternalResults})}),{immediate:!0})})),i=h.validationsConfig||i}else{const a=(0,o.isRef)(e)||c(e)?e:(0,o.reactive)(e||{});(0,o.watch)(a,(e=>{g.value=w({validations:e,state:t,childResults:y,resultsCache:f,globalConfig:i,instance:null!==u&&void 0!==u?u:{},externalResults:m})}),{immediate:!0})}return u&&(k.forEach((e=>e(g,{$registerAs:n,$scope:r,$stopPropagation:d}))),(0,o.onBeforeUnmount)((()=>v.forEach((e=>e(n)))))),(0,o.computed)((()=>l(l({},(0,o.unref)(g.value)),y.value)))}},63697:function(e,t,a){"use strict";a.d(t,{Fq:function(){return N},Pf:function(){return w},Do:function(){return $},BM:function(){return v},BS:function(){return B},PW:function(){return O},Ei:function(){return z},uv:function(){return A},uR:function(){return S},C1:function(){return L},sH:function(){return I}});var o=a(78221);function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e){return"function"===typeof e}function s(e){return null!==e&&"object"===typeof e&&!Array.isArray(e)}function c(e){return r(e.$validator)?l({},e):{$validator:e}}function d(e){return"object"===typeof e?e.$valid:e}function m(e){return e.$validator||e}function p(e,t){if(!s(e))throw new Error('[@vuelidate/validators]: First parameter to "withParams" should be an object, provided '+typeof e);if(!s(t)&&!r(t))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const a=c(t);return a.$params=l(l({},a.$params||{}),e),a}function u(e,t){if(!r(e)&&"string"!==typeof(0,o.unref)(e))throw new Error('[@vuelidate/validators]: First parameter to "withMessage" should be string or a function returning a string, provided '+typeof e);if(!s(t)&&!r(t))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const a=c(t);return a.$message=e,a}function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const a=c(e);return l(l({},a),{},{$async:!0,$watchTargets:t})}function g(e){return{$validator(t){for(var a=arguments.length,i=new Array(a>1?a-1:0),l=1;l<a;l++)i[l-1]=arguments[l];return(0,o.unref)(t).reduce(((t,a,o)=>{const l=Object.entries(a).reduce(((t,l)=>{let[n,r]=l;const s=e[n]||{},c=Object.entries(s).reduce(((e,t)=>{let[l,s]=t;const c=m(s),p=c.call(this,r,a,o,...i),u=d(p);if(e.$data[l]=p,e.$data.$invalid=!u||!!e.$data.$invalid,e.$data.$error=e.$data.$invalid,!u){let t=s.$message||"";const a=s.$params||{};"function"===typeof t&&(t=t({$pending:!1,$invalid:!u,$params:a,$model:r,$response:p})),e.$errors.push({$property:n,$message:t,$params:a,$response:p,$model:r,$pending:!1,$validator:l})}return{$valid:e.$valid&&u,$data:e.$data,$errors:e.$errors}}),{$valid:!0,$data:{},$errors:[]});return t.$data[n]=c.$data,t.$errors[n]=c.$errors,{$valid:t.$valid&&c.$valid,$data:t.$data,$errors:t.$errors}}),{$valid:!0,$data:{},$errors:{}});return{$valid:t.$valid&&l.$valid,$data:t.$data.concat(l.$data),$errors:t.$errors.concat(l.$errors)}}),{$valid:!0,$data:[],$errors:[]})},$message:e=>{let{$response:t}=e;return t?t.$errors.map((e=>Object.values(e).map((e=>e.map((e=>e.$message)))).reduce(((e,t)=>e.concat(t)),[]))):[]}}}const f=e=>{if(e=(0,o.unref)(e),Array.isArray(e))return!!e.length;if(void 0===e||null===e)return!1;if(!1===e)return!0;if(e instanceof Date)return!isNaN(e.getTime());if("object"===typeof e){for(let t in e)return!0;return!1}return!!String(e).length},y=e=>(e=(0,o.unref)(e),Array.isArray(e)?e.length:"object"===typeof e?Object.keys(e).length:String(e).length);function k(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return e=>(e=(0,o.unref)(e),!f(e)||t.every((t=>(t.lastIndex=0,t.test(e)))))}var v=Object.freeze({__proto__:null,forEach:g,len:y,normalizeValidatorObject:c,regex:k,req:f,unwrap:o.unref,unwrapNormalizedValidator:m,unwrapValidatorResponse:d,withAsync:h,withMessage:u,withParams:p}),b=k(/^[a-zA-Z]*$/),N={$validator:b,$message:"The value is not alphabetical",$params:{type:"alpha"}},V=k(/^[a-zA-Z0-9]*$/),w={$validator:V,$message:"The value must be alpha-numeric",$params:{type:"alphaNum"}},E=k(/^\d*(\.\d+)?$/),S={$validator:E,$message:"Value must be numeric",$params:{type:"numeric"}};const C=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;var _=k(C),$={$validator:_,$message:"Value is not a valid email address",$params:{type:"email"}};function D(e){return t=>!f(t)||y(t)<=(0,o.unref)(e)}function B(e){return{$validator:D(e),$message:e=>{let{$params:t}=e;return`The maximum length allowed is ${t.max}`},$params:{max:e,type:"maxLength"}}}function x(e){return t=>!f(t)||y(t)>=(0,o.unref)(e)}function z(e){return{$validator:x(e),$message:e=>{let{$params:t}=e;return`This field should be at least ${t.min} characters long`},$params:{min:e,type:"minLength"}}}function M(e){return"string"===typeof e&&(e=e.trim()),f(e)}var L={$validator:M,$message:"Value is required",$params:{type:"required"}};function T(e){return t=>(0,o.unref)(t)===(0,o.unref)(e)}function I(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"other";return{$validator:T(e),$message:e=>`The value must be equal to the ${t} value`,$params:{equalTo:e,otherName:t,type:"sameAs"}}}const F=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;k(F);function P(e){return t=>!f(t)||(!/\s/.test(t)||t instanceof Date)&&+t>=+(0,o.unref)(e)}function A(e){return{$validator:P(e),$message:e=>{let{$params:t}=e;return`The minimum value allowed is ${t.min}`},$params:{min:e,type:"minValue"}}}function R(e){return t=>!f(t)||(!/\s/.test(t)||t instanceof Date)&&+t<=+(0,o.unref)(e)}var O=e=>({$validator:R(e),$message:e=>{let{$params:t}=e;return`The maximum value allowed is ${t.max}`},$params:{max:e,type:"maxValue"}});k(/(^[0-9]*$)|(^-[0-9]+$)/),k(/^[-]?\d*(\.\d+)?$/)},18142:function(e){"use strict";e.exports=JSON.parse('{"0":[1,3],"1":[0,2,4],"2":[1,5],"3":[0,4,7],"4":[1,3,5,8],"5":[2,4,6,9],"6":[5,10],"7":[3,8,14],"8":[4,7,9,15],"9":[5,8,10,16],"10":[6,9,11,17],"11":[10,12,18],"12":[11,19],"13":[14,20],"14":[7,13,15,21],"15":[8,14,16,22],"16":[9,15,17,23],"17":[10,16,18,24],"18":[11,17,19,25],"19":[12,18,26],"20":[13,21,27],"21":[14,20,22,28],"22":[15,21,23,29],"23":[16,22,24,30],"24":[17,23,25,31],"25":[18,24,26,32],"26":[19,25,33],"27":[20,28],"28":[21,27,29,34],"29":[22,28,30],"30":[23,29,31,36],"31":[24,30,32],"32":[25,31,33,38,39],"33":[26,32],"34":[28,35,42],"35":[34,36,43],"36":[30,35,37,44],"37":[36,38,45],"38":[32,37,39,46],"39":[32,38,40,47],"40":[39,41,48],"41":[40,49,56],"42":[34,43],"43":[35,44,42],"44":[36,43,45,50],"45":[37,44,46,51],"46":[38,45,47,52],"47":[39,46,48,53],"48":[40,47,49,54],"49":[48,41,55,56],"50":[44,51,58],"51":[50,45,52,59],"52":[51,46,53,60],"53":[52,47,54,61],"54":[53,48,55,62],"55":[54,49,56,63],"56":[55],"57":[58,64],"58":[57,50,59,65],"59":[58,51,60,66],"60":[59,52,61,67],"61":[60,53,62,68],"62":[61,54,63,69],"63":[55,62,56],"64":[57,65],"65":[64,58,66],"66":[65,59,67],"67":[66,60,68],"68":[67,61,69],"69":[62,68]}')}}]);